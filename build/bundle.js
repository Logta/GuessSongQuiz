var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n,r){if(t){const i=u(t,e,n,r);return t[0](i)}}function u(t,n,r,i){return t[1]&&i?e(r.ctx.slice(),t[1](i(n))):r.ctx}function c(t,e,n,r,i,o,s){const a=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(a){const i=u(e,n,r,s);t.p(i,a)}}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function l(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function b(){return m("")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:I(t,r,e[r])}function T(t){return""===t?null:+t}function _(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function N(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function k(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];r.selected=~e.indexOf(r.__value)}}let O;function D(t){O=t}function C(){if(!O)throw new Error("Function called outside component initialization");return O}function x(){const t=C();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function P(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const R=[],L=[],M=[],j=[],V=Promise.resolve();let U=!1;function F(t){M.push(t)}let q=!1;const B=new Set;function $(){if(!q){q=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];D(e),H(e.$$)}for(D(null),R.length=0;L.length;)L.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];B.has(e)||(B.add(e),e())}M.length=0}while(R.length);for(;j.length;)j.pop()();U=!1,q=!1,B.clear()}}function H(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const K=new Set;let z;function G(){z={r:0,c:[],p:z}}function W(){z.r||i(z.c),z=z.p}function J(t,e){t&&t.i&&(K.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),z.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Y(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in s)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Q(t){t&&t.c()}function Z(t,e,r){const{fragment:s,on_mount:a,on_destroy:u,after_update:c}=t.$$;s&&s.m(e,r),F((()=>{const e=a.map(n).filter(o);u?u.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(F)}function tt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(R.push(t),U||(U=!0,V.then($)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,n,o,s,a,u,c=[-1]){const h=O;D(e);const f=n.props||{},l=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let p=!1;if(l.ctx=o?o(e,f,((t,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&a(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),p&&et(e,t)),n})):[],l.update(),p=!0,i(l.before_update),l.fragment=!!s&&s(l.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);l.fragment&&l.fragment.l(t),t.forEach(d)}else l.fragment&&l.fragment.c();n.intro&&J(e.$$.fragment),Z(e,n.target,n.anchor),$()}D(h)}class rt{$destroy(){tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(t){let e="";if("string"==typeof t||"number"==typeof t)e+=t;else if("object"==typeof t)if(Array.isArray(t))e=t.map(it).filter(Boolean).join(" ");else for(let n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function ot(...t){return t.map(it).filter(Boolean).join(" ")}function st(t){let n,r,i,o,s;const u=t[17].default,h=a(u,t,t[16],null),f=h||function(t){let e,n,r,i;const o=[ht,ct,ut],s=[];function a(t,e){return t[1]?0:t[0]?1:2}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=b()},m(t,n){s[e].m(t,n),p(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?s[e].p(t,i):(G(),X(s[u],1,1,(()=>{s[u]=null})),W(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),J(n,1),n.m(r.parentNode,r))},i(t){i||(J(n),i=!0)},o(t){X(n),i=!1},d(t){s[e].d(t),t&&d(r)}}}(t);let l=[t[9],{class:t[7]},{disabled:t[2]},{value:t[5]},{"aria-label":r=t[6]||t[8]},{style:t[4]}],v={};for(let t=0;t<l.length;t+=1)v=e(v,l[t]);return{c(){n=y("button"),f&&f.c(),E(n,v)},m(e,r){p(e,n,r),f&&f.m(n,null),i=!0,o||(s=w(n,"click",t[19]),o=!0)},p(t,e){h?h.p&&65536&e&&c(h,u,t,t[16],e,null,null):f&&f.p&&65539&e&&f.p(t,e),E(n,v=Y(l,[512&e&&t[9],(!i||128&e)&&{class:t[7]},(!i||4&e)&&{disabled:t[2]},(!i||32&e)&&{value:t[5]},(!i||320&e&&r!==(r=t[6]||t[8]))&&{"aria-label":r},(!i||16&e)&&{style:t[4]}]))},i(t){i||(J(f,t),i=!0)},o(t){X(f,t),i=!1},d(t){t&&d(n),f&&f.d(t),o=!1,s()}}}function at(t){let n,r,i,o,s,a,u;const c=[lt,ft],h=[];function f(t,e){return t[0]?0:1}r=f(t),i=h[r]=c[r](t);let l=[t[9],{class:t[7]},{disabled:t[2]},{href:t[3]},{"aria-label":o=t[6]||t[8]},{style:t[4]}],v={};for(let t=0;t<l.length;t+=1)v=e(v,l[t]);return{c(){n=y("a"),i.c(),E(n,v)},m(e,i){p(e,n,i),h[r].m(n,null),s=!0,a||(u=w(n,"click",t[18]),a=!0)},p(t,e){let a=r;r=f(t),r===a?h[r].p(t,e):(G(),X(h[a],1,1,(()=>{h[a]=null})),W(),i=h[r],i?i.p(t,e):(i=h[r]=c[r](t),i.c()),J(i,1),i.m(n,null)),E(n,v=Y(l,[512&e&&t[9],(!s||128&e)&&{class:t[7]},(!s||4&e)&&{disabled:t[2]},(!s||8&e)&&{href:t[3]},(!s||320&e&&o!==(o=t[6]||t[8]))&&{"aria-label":o},(!s||16&e)&&{style:t[4]}]))},i(t){s||(J(i),s=!0)},o(t){X(i),s=!1},d(t){t&&d(n),h[r].d(),a=!1,u()}}}function ut(t){let e;const n=t[17].default,r=a(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&65536&e&&c(r,n,t,t[16],e,null,null)},i(t){e||(J(r,t),e=!0)},o(t){X(r,t),e=!1},d(t){r&&r.d(t)}}}function ct(e){let n;return{c(){n=m(e[0])},m(t,e){p(t,n,e)},p(t,e){1&e&&_(n,t[0])},i:t,o:t,d(t){t&&d(n)}}}function ht(e){let n;return{c(){n=y("span"),n.textContent="×",I(n,"aria-hidden","true")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&d(n)}}}function ft(t){let e;const n=t[17].default,r=a(n,t,t[16],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&65536&e&&c(r,n,t,t[16],e,null,null)},i(t){e||(J(r,t),e=!0)},o(t){X(r,t),e=!1},d(t){r&&r.d(t)}}}function lt(e){let n;return{c(){n=m(e[0])},m(t,e){p(t,n,e)},p(t,e){1&e&&_(n,t[0])},i:t,o:t,d(t){t&&d(n)}}}function pt(t){let e,n,r,i;const o=[at,st],s=[];function a(t,e){return t[3]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=b()},m(t,n){s[e].m(t,n),p(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(G(),X(s[u],1,1,(()=>{s[u]=null})),W(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),J(n,1),n.m(r.parentNode,r))},i(t){i||(J(n),i=!0)},o(t){X(n),i=!1},d(t){s[e].d(t),t&&d(r)}}}function dt(t,n,r){const i=["class","active","block","children","close","color","disabled","href","outline","size","style","value"];let o,s,a,u=f(n,i),{$$slots:c={},$$scope:l}=n,{class:p=""}=n,{active:d=!1}=n,{block:v=!1}=n,{children:y}=n,{close:m=!1}=n,{color:g="secondary"}=n,{disabled:b=!1}=n,{href:w=""}=n,{outline:I=!1}=n,{size:E=null}=n,{style:T=""}=n,{value:_=""}=n;return t.$$set=t=>{r(20,n=e(e({},n),h(t))),r(9,u=f(n,i)),"class"in t&&r(10,p=t.class),"active"in t&&r(11,d=t.active),"block"in t&&r(12,v=t.block),"children"in t&&r(0,y=t.children),"close"in t&&r(1,m=t.close),"color"in t&&r(13,g=t.color),"disabled"in t&&r(2,b=t.disabled),"href"in t&&r(3,w=t.href),"outline"in t&&r(14,I=t.outline),"size"in t&&r(15,E=t.size),"style"in t&&r(4,T=t.style),"value"in t&&r(5,_=t.value),"$$scope"in t&&r(16,l=t.$$scope)},t.$$.update=()=>{r(6,o=n["aria-label"]),64514&t.$$.dirty&&r(7,s=ot(p,{close:m},m||"btn",m||`btn${I?"-outline":""}-${g}`,!!E&&`btn-${E}`,!!v&&"btn-block",{active:d})),2&t.$$.dirty&&r(8,a=m?"Close":null)},n=h(n),[y,m,b,w,T,_,o,s,a,u,p,d,v,g,I,E,l,c,function(e){P(t,e)},function(e){P(t,e)}]}class vt extends rt{constructor(t){super(),nt(this,t,dt,pt,s,{class:10,active:11,block:12,children:0,close:1,color:13,disabled:2,href:3,outline:14,size:15,style:4,value:5})}}function yt(t){let n,r,o,s;const u=t[22].default,h=a(u,t,t[21],null);let f=[t[12],{class:t[9]},{name:t[6]},{disabled:t[8]},{readonly:t[4]}],l={};for(let t=0;t<f.length;t+=1)l=e(l,f[t]);return{c(){n=y("select"),h&&h.c(),E(n,l),void 0===t[1]&&F((()=>t[152].call(n)))},m(e,i){p(e,n,i),h&&h.m(n,null),l.multiple&&k(n,l.value),N(n,t[1]),r=!0,o||(s=[w(n,"blur",t[133]),w(n,"focus",t[134]),w(n,"change",t[135]),w(n,"input",t[136]),w(n,"change",t[152])],o=!0)},p(t,e){h&&h.p&&2097152&e[0]&&c(h,u,t,t[21],e,null,null),E(n,l=Y(f,[4096&e[0]&&t[12],(!r||512&e[0])&&{class:t[9]},(!r||64&e[0])&&{name:t[6]},(!r||256&e[0])&&{disabled:t[8]},(!r||16&e[0])&&{readonly:t[4]}])),4944&e[0]&&l.multiple&&k(n,l.value),2&e[0]&&N(n,t[1])},i(t){r||(J(h,t),r=!0)},o(t){X(h,t),r=!1},d(t){t&&d(n),h&&h.d(t),o=!1,i(s)}}}function mt(n){let r,o,s,a=[n[12],{class:n[9]},{name:n[6]},{disabled:n[8]},{placeholder:n[7]},{readOnly:n[4]}],u={};for(let t=0;t<a.length;t+=1)u=e(u,a[t]);return{c(){r=y("textarea"),E(r,u)},m(t,e){p(t,r,e),A(r,n[1]),o||(s=[w(r,"blur",n[126]),w(r,"focus",n[127]),w(r,"keydown",n[128]),w(r,"keypress",n[129]),w(r,"keyup",n[130]),w(r,"change",n[131]),w(r,"input",n[132]),w(r,"input",n[151])],o=!0)},p(t,e){E(r,u=Y(a,[4096&e[0]&&t[12],512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]},16&e[0]&&{readOnly:t[4]}])),2&e[0]&&A(r,t[1])},i:t,o:t,d(t){t&&d(r),o=!1,i(s)}}}function gt(e){let n;function r(t,e){return"text"===t[3]?Pt:"password"===t[3]?xt:"email"===t[3]?Ct:"file"===t[3]?Dt:"checkbox"===t[3]?Ot:"radio"===t[3]?kt:"url"===t[3]?Nt:"number"===t[3]?St:"date"===t[3]?At:"time"===t[3]?_t:"datetime"===t[3]?Tt:"color"===t[3]?Et:"range"===t[3]?It:"search"===t[3]?wt:bt}let i=r(e),o=i(e);return{c(){o.c(),n=b()},m(t,e){o.m(t,e),p(t,n,e)},p(t,e){i===(i=r(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n.parentNode,n)))},i:t,o:t,d(t){o.d(t),t&&d(n)}}}function bt(t){let n,r,o,s=[t[12],{type:t[3]},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]},{value:t[1]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),n.value=a.value,r||(o=[w(n,"blur",t[121]),w(n,"focus",t[122]),w(n,"keydown",t[123]),w(n,"keypress",t[124]),w(n,"keyup",t[125]),w(n,"input",t[11]),w(n,"change",t[11])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],8&e[0]&&{type:t[3]},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]},2&e[0]&&n.value!==t[1]&&{value:t[1]}])),"value"in a&&(n.value=a.value)},d(t){t&&d(n),r=!1,i(o)}}}function wt(t){let n,r,o,s=[t[12],{type:"search"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[114]),w(n,"focus",t[115]),w(n,"keydown",t[116]),w(n,"keypress",t[117]),w(n,"keyup",t[118]),w(n,"change",t[119]),w(n,"input",t[120]),w(n,"input",t[150])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"search"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function It(t){let n,r,o,s=[t[12],{type:"range"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[107]),w(n,"focus",t[108]),w(n,"keydown",t[109]),w(n,"keypress",t[110]),w(n,"keyup",t[111]),w(n,"change",t[112]),w(n,"input",t[113]),w(n,"change",t[149]),w(n,"input",t[149])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"range"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Et(t){let n,r,o,s=[t[12],{type:"color"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[100]),w(n,"focus",t[101]),w(n,"keydown",t[102]),w(n,"keypress",t[103]),w(n,"keyup",t[104]),w(n,"change",t[105]),w(n,"input",t[106]),w(n,"input",t[148])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"color"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Tt(t){let n,r,o,s=[t[12],{type:"datetime"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[93]),w(n,"focus",t[94]),w(n,"keydown",t[95]),w(n,"keypress",t[96]),w(n,"keyup",t[97]),w(n,"change",t[98]),w(n,"input",t[99]),w(n,"input",t[147])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"datetime"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function _t(t){let n,r,o,s=[t[12],{type:"time"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[86]),w(n,"focus",t[87]),w(n,"keydown",t[88]),w(n,"keypress",t[89]),w(n,"keyup",t[90]),w(n,"change",t[91]),w(n,"input",t[92]),w(n,"input",t[146])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"time"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function At(t){let n,r,o,s=[t[12],{type:"date"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[79]),w(n,"focus",t[80]),w(n,"keydown",t[81]),w(n,"keypress",t[82]),w(n,"keyup",t[83]),w(n,"change",t[84]),w(n,"input",t[85]),w(n,"input",t[145])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"date"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function St(t){let n,r,o,s=[t[12],{type:"number"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[72]),w(n,"focus",t[73]),w(n,"keydown",t[74]),w(n,"keypress",t[75]),w(n,"keyup",t[76]),w(n,"change",t[77]),w(n,"input",t[78]),w(n,"input",t[144])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"number"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&T(n.value)!==t[1]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Nt(t){let n,r,o,s=[t[12],{type:"url"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[65]),w(n,"focus",t[66]),w(n,"keydown",t[67]),w(n,"keypress",t[68]),w(n,"keyup",t[69]),w(n,"change",t[70]),w(n,"input",t[71]),w(n,"input",t[143])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"url"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function kt(t){let n,r,o,s=[t[12],{type:"radio"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[58]),w(n,"focus",t[59]),w(n,"keydown",t[60]),w(n,"keypress",t[61]),w(n,"keyup",t[62]),w(n,"change",t[63]),w(n,"input",t[64]),w(n,"change",t[142])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"radio"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Ot(t){let n,r,o,s=[t[12],{type:"checkbox"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),n.checked=t[0],A(n,t[1]),r||(o=[w(n,"blur",t[51]),w(n,"focus",t[52]),w(n,"keydown",t[53]),w(n,"keypress",t[54]),w(n,"keyup",t[55]),w(n,"change",t[56]),w(n,"input",t[57]),w(n,"change",t[141])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"checkbox"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),1&e[0]&&(n.checked=t[0]),2&e[0]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Dt(t){let n,r,o,s=[t[12],{type:"file"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),r||(o=[w(n,"blur",t[44]),w(n,"focus",t[45]),w(n,"keydown",t[46]),w(n,"keypress",t[47]),w(n,"keyup",t[48]),w(n,"change",t[49]),w(n,"input",t[50]),w(n,"change",t[140])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"file"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}]))},d(t){t&&d(n),r=!1,i(o)}}}function Ct(t){let n,r,o,s=[t[12],{type:"email"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[37]),w(n,"focus",t[38]),w(n,"keydown",t[39]),w(n,"keypress",t[40]),w(n,"keyup",t[41]),w(n,"change",t[42]),w(n,"input",t[43]),w(n,"input",t[139])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"email"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&n.value!==t[1]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function xt(t){let n,r,o,s=[t[12],{type:"password"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[30]),w(n,"focus",t[31]),w(n,"keydown",t[32]),w(n,"keypress",t[33]),w(n,"keyup",t[34]),w(n,"change",t[35]),w(n,"input",t[36]),w(n,"input",t[138])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"password"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&n.value!==t[1]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Pt(t){let n,r,o,s=[t[12],{type:"text"},{readOnly:t[4]},{class:t[9]},{name:t[6]},{disabled:t[8]},{placeholder:t[7]}],a={};for(let t=0;t<s.length;t+=1)a=e(a,s[t]);return{c(){n=y("input"),E(n,a)},m(e,i){p(e,n,i),A(n,t[1]),r||(o=[w(n,"blur",t[23]),w(n,"focus",t[24]),w(n,"keydown",t[25]),w(n,"keypress",t[26]),w(n,"keyup",t[27]),w(n,"change",t[28]),w(n,"input",t[29]),w(n,"input",t[137])],r=!0)},p(t,e){E(n,a=Y(s,[4096&e[0]&&t[12],{type:"text"},16&e[0]&&{readOnly:t[4]},512&e[0]&&{class:t[9]},64&e[0]&&{name:t[6]},256&e[0]&&{disabled:t[8]},128&e[0]&&{placeholder:t[7]}])),2&e[0]&&n.value!==t[1]&&A(n,t[1])},d(t){t&&d(n),r=!1,i(o)}}}function Rt(t){let e,n,r,i;const o=[gt,mt,yt],s=[];function a(t,e){return"input"===t[10]?0:"textarea"===t[10]?1:"select"!==t[10]||t[5]?-1:2}return~(e=a(t))&&(n=s[e]=o[e](t)),{c(){n&&n.c(),r=b()},m(t,n){~e&&s[e].m(t,n),p(t,r,n),i=!0},p(t,i){let u=e;e=a(t),e===u?~e&&s[e].p(t,i):(n&&(G(),X(s[u],1,1,(()=>{s[u]=null})),W()),~e?(n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),J(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(J(n),i=!0)},o(t){X(n),i=!1},d(t){~e&&s[e].d(t),t&&d(r)}}}function Lt(t,n,r){const i=["class","type","size","bsSize","color","checked","valid","invalid","plaintext","addon","value","files","readonly","multiple","name","placeholder","disabled"];let o,s,a=f(n,i),{$$slots:u={},$$scope:c}=n,{class:l=""}=n,{type:p="text"}=n,{size:d}=n,{bsSize:v}=n,{color:y}=n,{checked:m=!1}=n,{valid:g=!1}=n,{invalid:b=!1}=n,{plaintext:w=!1}=n,{addon:I=!1}=n,{value:E=""}=n,{files:_=""}=n,{readonly:A}=n,{multiple:S}=n,{name:N=""}=n,{placeholder:k=""}=n,{disabled:O}=n;return t.$$set=t=>{n=e(e({},n),h(t)),r(12,a=f(n,i)),"class"in t&&r(15,l=t.class),"type"in t&&r(3,p=t.type),"size"in t&&r(13,d=t.size),"bsSize"in t&&r(14,v=t.bsSize),"color"in t&&r(16,y=t.color),"checked"in t&&r(0,m=t.checked),"valid"in t&&r(17,g=t.valid),"invalid"in t&&r(18,b=t.invalid),"plaintext"in t&&r(19,w=t.plaintext),"addon"in t&&r(20,I=t.addon),"value"in t&&r(1,E=t.value),"files"in t&&r(2,_=t.files),"readonly"in t&&r(4,A=t.readonly),"multiple"in t&&r(5,S=t.multiple),"name"in t&&r(6,N=t.name),"placeholder"in t&&r(7,k=t.placeholder),"disabled"in t&&r(8,O=t.disabled),"$$scope"in t&&r(21,c=t.$$scope)},t.$$.update=()=>{if(2088968&t.$$.dirty[0]){const t=["radio","checkbox"].indexOf(p)>-1,e=new RegExp("\\D","g"),n="file"===p,i="textarea"===p,a="range"===p,u="button"===p||"reset"===p||"submit"===p,c="hidden"===p||"image"===p;r(10,s="select"===p||i?p:"input");let h="form-control";w?(h=`${h}-plaintext`,r(10,s="input")):n?h=`${h}-file`:t?h=I?null:"form-check-input":u?h=`btn btn-${y||"secondary"}`:a?h="form-control-range":c&&(h=""),d&&e.test(d)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r(14,v=d),r(13,d=void 0)),r(9,o=ot(l,b&&"is-invalid",g&&"is-valid",!!v&&`form-control-${v}`,h))}},[m,E,_,p,A,S,N,k,O,o,s,t=>{r(1,E=t.target.value)},a,d,v,l,y,g,b,w,I,c,u,function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(e){P(t,e)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){_=this.files,r(2,_)},function(){m=this.checked,E=this.value,r(0,m),r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=T(this.value),r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=T(this.value),r(1,E)},function(){E=this.value,r(1,E)},function(){E=this.value,r(1,E)},function(){E=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),r(1,E)}]}class Mt extends rt{constructor(t){super(),nt(this,t,Lt,Rt,s,{class:15,type:3,size:13,bsSize:14,color:16,checked:0,valid:17,invalid:18,plaintext:19,addon:20,value:1,files:2,readonly:4,multiple:5,name:6,placeholder:7,disabled:8},[-1,-1,-1,-1,-1])}}function jt(t){let n,r;const i=t[12].default,o=a(i,t,t[11],null);let s=[t[3],{class:t[1]}],u={};for(let t=0;t<s.length;t+=1)u=e(u,s[t]);return{c(){n=y("table"),o&&o.c(),E(n,u)},m(t,e){p(t,n,e),o&&o.m(n,null),r=!0},p(t,e){o&&o.p&&2048&e&&c(o,i,t,t[11],e,null,null),E(n,u=Y(s,[8&e&&t[3],(!r||2&e)&&{class:t[1]}]))},i(t){r||(J(o,t),r=!0)},o(t){X(o,t),r=!1},d(t){t&&d(n),o&&o.d(t)}}}function Vt(t){let n,r,i;const o=t[12].default,s=a(o,t,t[11],null);let u=[t[3],{class:t[1]}],h={};for(let t=0;t<u.length;t+=1)h=e(h,u[t]);return{c(){n=y("div"),r=y("table"),s&&s.c(),E(r,h),I(n,"class",t[2])},m(t,e){p(t,n,e),l(n,r),s&&s.m(r,null),i=!0},p(t,e){s&&s.p&&2048&e&&c(s,o,t,t[11],e,null,null),E(r,h=Y(u,[8&e&&t[3],(!i||2&e)&&{class:t[1]}])),(!i||4&e)&&I(n,"class",t[2])},i(t){i||(J(s,t),i=!0)},o(t){X(s,t),i=!1},d(t){t&&d(n),s&&s.d(t)}}}function Ut(t){let e,n,r,i;const o=[Vt,jt],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=o[e](t),{c(){n.c(),r=b()},m(t,n){s[e].m(t,n),p(t,r,n),i=!0},p(t,[i]){let u=e;e=a(t),e===u?s[e].p(t,i):(G(),X(s[u],1,1,(()=>{s[u]=null})),W(),n=s[e],n?n.p(t,i):(n=s[e]=o[e](t),n.c()),J(n,1),n.m(r.parentNode,r))},i(t){i||(J(n),i=!0)},o(t){X(n),i=!1},d(t){s[e].d(t),t&&d(r)}}}function Ft(t,n,r){const i=["class","size","bordered","borderless","striped","dark","hover","responsive"];let o,s,a=f(n,i),{$$slots:u={},$$scope:c}=n,{class:l=""}=n,{size:p=""}=n,{bordered:d=!1}=n,{borderless:v=!1}=n,{striped:y=!1}=n,{dark:m=!1}=n,{hover:g=!1}=n,{responsive:b=!1}=n;return t.$$set=t=>{n=e(e({},n),h(t)),r(3,a=f(n,i)),"class"in t&&r(4,l=t.class),"size"in t&&r(5,p=t.size),"bordered"in t&&r(6,d=t.bordered),"borderless"in t&&r(7,v=t.borderless),"striped"in t&&r(8,y=t.striped),"dark"in t&&r(9,m=t.dark),"hover"in t&&r(10,g=t.hover),"responsive"in t&&r(0,b=t.responsive),"$$scope"in t&&r(11,c=t.$$scope)},t.$$.update=()=>{2032&t.$$.dirty&&r(1,o=ot(l,"table",!!p&&"table-"+p,!!d&&"table-bordered",!!v&&"table-borderless",!!y&&"table-striped",!!m&&"table-dark",!!g&&"table-hover")),1&t.$$.dirty&&r(2,s=!0===b?"table-responsive":`table-responsive-${b}`)},[b,o,s,a,l,p,d,v,y,m,g,c,u]}class qt extends rt{constructor(t){super(),nt(this,t,Ft,Ut,s,{class:4,size:5,bordered:6,borderless:7,striped:8,dark:9,hover:10,responsive:0})}}class Bt{constructor(t,e){this.score=[],this.name=t,this.answer=e}}const $t=t=>new Bt(t[1],t.slice(2)),Ht=t=>t.replace(/[\"]/g,"");function Kt(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function zt(t){let e,n,r=t[3]+1+"";return{c(){e=y("th"),n=m(r),S(e,"width",80/t[0].length+"%")},m(t,r){p(t,e,r),l(e,n)},p(t,n){1&n&&S(e,"width",80/t[0].length+"%")},d(t){t&&d(e)}}}function Gt(e){let n,r,i,o,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=zt(Kt(e,s,t));return{c(){n=y("thead"),r=y("tr"),i=y("th"),i.textContent="回答者",o=g();for(let t=0;t<a.length;t+=1)a[t].c();S(i,"width","20%"),I(r,"class","svelte-1eaqam3"),I(n,"class","svelte-1eaqam3")},m(t,e){p(t,n,e),l(n,r),l(r,i),l(r,o);for(let t=0;t<a.length;t+=1)a[t].m(r,null)},p(t,[e]){if(1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=Kt(t,s,n);a[n]?a[n].p(i,e):(a[n]=zt(i),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&d(n),v(a,t)}}}function Wt(t,e,n){let{header:r}=e;return t.$$set=t=>{"header"in t&&n(0,r=t.header)},[r]}class Jt extends rt{constructor(t){super(),nt(this,t,Wt,Gt,s,{header:0})}}function Xt(t,e,n){const r=t.slice();return r[1]=e[n],r}function Yt(t){let e,n,r,i=t[1].replace(/[\"]/g,"")+"";return{c(){e=y("td"),n=m(i),r=g(),S(e,"width",80/t[0].answer.length+"%"),I(e,"class","svelte-1d5xwpr")},m(t,i){p(t,e,i),l(e,n),l(e,r)},p(t,r){1&r&&i!==(i=t[1].replace(/[\"]/g,"")+"")&&_(n,i),1&r&&S(e,"width",80/t[0].answer.length+"%")},d(t){t&&d(e)}}}function Qt(e){let n,r,i,o,s=e[0].name.replace(/[\"]/g,"")+"",a=e[0].answer,u=[];for(let t=0;t<a.length;t+=1)u[t]=Yt(Xt(e,a,t));return{c(){n=y("tr"),r=y("td"),i=m(s),o=g();for(let t=0;t<u.length;t+=1)u[t].c();S(r,"width","20%"),I(r,"class","svelte-1d5xwpr"),I(n,"class","svelte-1d5xwpr")},m(t,e){p(t,n,e),l(n,r),l(r,i),l(n,o);for(let t=0;t<u.length;t+=1)u[t].m(n,null)},p(t,[e]){if(1&e&&s!==(s=t[0].name.replace(/[\"]/g,"")+"")&&_(i,s),1&e){let r;for(a=t[0].answer,r=0;r<a.length;r+=1){const i=Xt(t,a,r);u[r]?u[r].p(i,e):(u[r]=Yt(i),u[r].c(),u[r].m(n,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}},i:t,o:t,d(t){t&&d(n),v(u,t)}}}function Zt(t,e,n){let{answers:r}=e;return t.$$set=t=>{"answers"in t&&n(0,r=t.answers)},[r]}class te extends rt{constructor(t){super(),nt(this,t,Zt,Qt,s,{answers:0})}}function ee(t,e,n){const r=t.slice();return r[1]=e[n],r}function ne(t){let e,n,r=Ht(t[1])+"";return{c(){e=y("td"),n=m(r)},m(t,r){p(t,e,r),l(e,n)},p(t,e){1&e&&r!==(r=Ht(t[1])+"")&&_(n,r)},d(t){t&&d(e)}}}function re(e){let n,r,i,o,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=ne(ee(e,s,t));return{c(){n=y("tfoot"),r=y("tr"),i=y("td"),i.textContent="正解",o=g();for(let t=0;t<a.length;t+=1)a[t].c();I(r,"class","svelte-fou2nt"),I(n,"class","svelte-fou2nt")},m(t,e){p(t,n,e),l(n,r),l(r,i),l(r,o);for(let t=0;t<a.length;t+=1)a[t].m(r,null)},p(t,[e]){if(1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=ee(t,s,n);a[n]?a[n].p(i,e):(a[n]=ne(i),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&d(n),v(a,t)}}}function ie(t,e,n){let{footer:r}=e;return t.$$set=t=>{"footer"in t&&n(0,r=t.footer)},[r]}class oe extends rt{constructor(t){super(),nt(this,t,ie,re,s,{footer:0})}}function se(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function ae(t){let e,n;return e=new qt({props:{class:"table",$$slots:{default:[ce]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},p(t,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function ue(t){let e,n,r=0!=t[3]&&function(t){let e,n;return e=new te({props:{answers:t[1]}}),{c(){Q(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.answers=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}(t);return{c(){r&&r.c(),e=b()},m(t,i){r&&r.m(t,i),p(t,e,i),n=!0},p(t,e){0!=t[3]&&r.p(t,e)},i(t){n||(J(r),n=!0)},o(t){X(r),n=!1},d(t){r&&r.d(t),t&&d(e)}}}function ce(t){let e,n,r,i,o,s;e=new Jt({props:{header:t[0].getAnswers()[0].answer}});let a=t[0].getAnswers(),u=[];for(let e=0;e<a.length;e+=1)u[e]=ue(se(t,a,e));const c=t=>X(u[t],1,1,(()=>{u[t]=null}));return o=new oe({props:{footer:t[0].getCorrect("ok")}}),{c(){Q(e.$$.fragment),n=g(),r=y("tbody");for(let t=0;t<u.length;t+=1)u[t].c();i=g(),Q(o.$$.fragment),I(r,"class","svelte-r7d1oy")},m(t,a){Z(e,t,a),p(t,n,a),p(t,r,a);for(let t=0;t<u.length;t+=1)u[t].m(r,null);p(t,i,a),Z(o,t,a),s=!0},p(t,n){const i={};if(1&n&&(i.header=t[0].getAnswers()[0].answer),e.$set(i),1&n){let e;for(a=t[0].getAnswers(),e=0;e<a.length;e+=1){const i=se(t,a,e);u[e]?(u[e].p(i,n),J(u[e],1)):(u[e]=ue(i),u[e].c(),J(u[e],1),u[e].m(r,null))}for(G(),e=a.length;e<u.length;e+=1)c(e);W()}const s={};1&n&&(s.footer=t[0].getCorrect("ok")),o.$set(s)},i(t){if(!s){J(e.$$.fragment,t);for(let t=0;t<a.length;t+=1)J(u[t]);J(o.$$.fragment,t),s=!0}},o(t){X(e.$$.fragment,t),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)X(u[t]);X(o.$$.fragment,t),s=!1},d(t){tt(e,t),t&&d(n),t&&d(r),v(u,t),t&&d(i),tt(o,t)}}}function he(t){let e,n,r=t[0]&&ae(t);return{c(){e=y("div"),r&&r.c(),I(e,"id","answerTable")},m(t,i){p(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&J(r,1)):(r=ae(t),r.c(),J(r,1),r.m(e,null)):r&&(G(),X(r,1,1,(()=>{r=null})),W())},i(t){n||(J(r),n=!0)},o(t){X(r),n=!1},d(t){t&&d(e),r&&r.d()}}}function fe(t,e,n){let{answers:r}=e;return t.$$set=t=>{"answers"in t&&n(0,r=t.answers)},[r]}class le extends rt{constructor(t){super(),nt(this,t,fe,he,s,{answers:0})}}class pe{constructor(){this.getAnswers=()=>this.answers,this.setAnswers=t=>{const e=t.map((t=>{t.answer.length})),n=1==Array.from(new Set(e)).length;return this.answers=n?t:void 0,n},this.getCorrect=t=>{let e=[];for(let n=0;n<this.answers[0].answer.length;n++)for(const r of this.answers)if(Ht(r.answer[n])===t){e.push(r.name);break}return e},this.calcScore=t=>{const e=this.getCorrect(t);for(const t of this.answers){let n=[];t.answer.forEach(((t,r)=>{const i=e[r];n.push(Ht(t)===Ht(i))})),t.score=n}},this.getScoreBoard=t=>{let e=new Array;for(const n of this.answers){let r=[];r.push(n.name),r.push(this.getScoreForScoreBoard(n,t)),e.push(r)}return e},this.getScoreForScoreBoard=(t,e)=>{const n=this.getCorrect(e);let r=0;return r=t.score.filter((t=>t)).length,n.forEach(((e,n)=>{if(Ht(e)===Ht(t.name)){const e=this.answers.filter((t=>t.score[n])).length;console.log(t.name),console.log("index:"+n),console.log("point:"+(0===e?0:this.answers.length-2-e)),r+=0===e?0:this.answers.length-2-e}})),r.toString()}}}function de(e){let n,r,i,o,s,a,u=e[0][0]+"",c=e[0][1]+"";return{c(){n=y("tr"),r=y("th"),i=m(u),o=g(),s=y("td"),a=m(c),S(r,"width","20%"),S(s,"width","20%"),I(s,"class","svelte-1d5xwpr"),I(n,"class","svelte-1d5xwpr")},m(t,e){p(t,n,e),l(n,r),l(r,i),l(n,o),l(n,s),l(s,a)},p(t,[e]){1&e&&u!==(u=t[0][0]+"")&&_(i,u),1&e&&c!==(c=t[0][1]+"")&&_(a,c)},i:t,o:t,d(t){t&&d(n)}}}function ve(t,e,n){let{score:r}=e;return t.$$set=t=>{"score"in t&&n(0,r=t.score)},[r]}class ye extends rt{constructor(t){super(),nt(this,t,ve,de,s,{score:0})}}function me(t,e,n){const r=t.slice();return r[1]=e[n],r}function ge(t){let e,n,r=t[0].getScoreBoard("ok"),i=[];for(let e=0;e<r.length;e+=1)i[e]=be(me(t,r,e));const o=t=>X(i[t],1,1,(()=>{i[t]=null}));return{c(){e=y("table");for(let t=0;t<i.length;t+=1)i[t].c();I(e,"class","svelte-9b14pv")},m(t,r){p(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=t[0].getScoreBoard("ok"),s=0;s<r.length;s+=1){const o=me(t,r,s);i[s]?(i[s].p(o,n),J(i[s],1)):(i[s]=be(o),i[s].c(),J(i[s],1),i[s].m(e,null))}for(G(),s=r.length;s<i.length;s+=1)o(s);W()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)J(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)X(i[t]);n=!1},d(t){t&&d(e),v(i,t)}}}function be(t){let e,n;return e=new ye({props:{score:t[1]}}),{c(){Q(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.score=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function we(t){let e,n,r=t[0]&&ge(t);return{c(){e=y("div"),r&&r.c(),I(e,"id","answerTable")},m(t,i){p(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&J(r,1)):(r=ge(t),r.c(),J(r,1),r.m(e,null)):r&&(G(),X(r,1,1,(()=>{r=null})),W())},i(t){n||(J(r),n=!0)},o(t){X(r),n=!1},d(t){t&&d(e),r&&r.d()}}}function Ie(t,e,n){let{scores:r}=e;return t.$$set=t=>{"scores"in t&&n(0,r=t.scores)},[r]}class Ee extends rt{constructor(t){super(),nt(this,t,Ie,we,s,{scores:0})}}function Te(t){let e;return{c(){e=m("計算開始")},m(t,n){p(t,e,n)},d(t){t&&d(e)}}}function _e(t){let e,n,r,i,o,s,a,u,c,h,f,v,m,b,w,E,T,_,A;return c=new Mt({props:{type:"file",id:"file"}}),c.$on("change",t[1]),b=new vt({props:{color:"primary",$$slots:{default:[Te]},$$scope:{ctx:t}}}),b.$on("click",t[2]),E=new le({props:{answers:t[0]}}),_=new Ee({props:{scores:t[0]}}),{c(){e=y("div"),n=y("h1"),n.textContent="曲あてクイズ",r=g(),i=y("h2"),i.textContent="得点計算",o=g(),s=y("div"),a=y("h4"),a.textContent="ファイル指定",u=g(),Q(c.$$.fragment),h=g(),f=y("div"),v=y("h4"),v.textContent="計算",m=g(),Q(b.$$.fragment),w=g(),Q(E.$$.fragment),T=g(),Q(_.$$.fragment),I(n,"class","svelte-u7ka7f"),I(s,"class","svelte-u7ka7f"),I(f,"class","svelte-u7ka7f"),I(e,"id","home"),I(e,"class","svelte-u7ka7f")},m(t,d){p(t,e,d),l(e,n),l(e,r),l(e,i),l(e,o),l(e,s),l(s,a),l(s,u),Z(c,s,null),l(e,h),l(e,f),l(f,v),l(f,m),Z(b,f,null),l(e,w),Z(E,e,null),l(e,T),Z(_,e,null),A=!0},p(t,[e]){const n={};16&e&&(n.$$scope={dirty:e,ctx:t}),b.$set(n);const r={};1&e&&(r.answers=t[0]),E.$set(r);const i={};1&e&&(i.scores=t[0]),_.$set(i)},i(t){A||(J(c.$$.fragment,t),J(b.$$.fragment,t),J(E.$$.fragment,t),J(_.$$.fragment,t),A=!0)},o(t){X(c.$$.fragment,t),X(b.$$.fragment,t),X(E.$$.fragment,t),X(_.$$.fragment,t),A=!1},d(t){t&&d(e),tt(c),tt(b),tt(E),tt(_)}}}function Ae(t,e,n){let r,i="";return[r,t=>{var e=t.target.files[0],n=new FileReader;null!=e.name.match(".csv$")?(n.onerror=function(){alert("ファイル読み取りに失敗しました")},n.readAsText(e),n.addEventListener("load",(function(){i=n.result}))):alert("csvファイルを選択してください")},()=>{const t=(t=>t.split("\n").map((t=>$t(t.split(",")))))(i);n(0,r=new pe),r.setAnswers(t),r.calcScore("ok")}]}class Se extends rt{constructor(t){super(),nt(this,t,Ae,_e,s,{})}}function Ne(t){let e;const n=t[5].default,r=a(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&16&e&&c(r,n,t,t[4],e,null,null)},i(t){e||(J(r,t),e=!0)},o(t){X(r,t),e=!1},d(t){r&&r.d(t)}}}function ke(t){let e,n,r=t[0]&&Ne(t);return{c(){r&&r.c(),e=b()},m(t,i){r&&r.m(t,i),p(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&J(r,1)):(r=Ne(t),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(G(),X(r,1,1,(()=>{r=null})),W())},i(t){n||(J(r),n=!0)},o(t){X(r),n=!1},d(t){r&&r.d(t),t&&d(e)}}}function Oe(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:s=!1}=e,{analytics:a=!1}=e,u=!1;const c=x();var h,f;return h="firebase",f={getFirebase:()=>o},C().$$.context.set(h,f),function(t){C().$$.on_mount.push(t)}((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");s&&o.performance(),a&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,s=t.perf),"analytics"in t&&n(3,a=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,s,a,i,r]}class De extends rt{constructor(t){super(),nt(this,t,Oe,ke,s,{firebase:1,perf:2,analytics:3})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ce=function(){return(Ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function xe(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Re(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Re(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Le=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Ve(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ue(){return"indexedDB"in self&&null!=indexedDB}function Fe(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function qe(){return!(!navigator||!navigator.cookieEnabled)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Be=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,$e.prototype.create),o}return function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t),e}(Error),$e=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?He(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Be(i,a,r);return u},t}();function He(t,e){return t.replace(Ke,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ke=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ge(t,e){var n=new We(t,e);return n.subscribe.bind(n)}var We=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Je),void 0===r.error&&(r.error=Je),void 0===r.complete&&(r.complete=Je);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Je(){}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xe(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Ye=function(){return(Ye=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Qe(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Ze(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function tn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function en(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tn(arguments[e]));return t}var nn=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),rn="[DEFAULT]",on=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=rn);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Le;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ye({identifier:rn,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService(rn)}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=tn(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=rn),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Qe(this,void 0,void 0,(function(){var t;return Ze(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(en(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===rn?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:rn:t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sn,an=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new on(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function un(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cn,hn=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(cn||(cn={}));var fn,ln={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},pn=cn.INFO,dn=((sn={})[cn.DEBUG]="log",sn[cn.VERBOSE]="log",sn[cn.INFO]="info",sn[cn.WARN]="warn",sn[cn.ERROR]="error",sn),vn=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=dn[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,un(["["+i+"]  "+t.name+":"],n))}},yn=function(){function t(t){this.name=t,this._logLevel=pn,this._logHandler=vn,this._userLogHandler=null,hn.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in cn))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ln[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,un([this,cn.DEBUG],t)),this._logHandler.apply(this,un([this,cn.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,un([this,cn.VERBOSE],t)),this._logHandler.apply(this,un([this,cn.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,un([this,cn.INFO],t)),this._logHandler.apply(this,un([this,cn.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,un([this,cn.WARN],t)),this._logHandler.apply(this,un([this,cn.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,un([this,cn.ERROR],t)),this._logHandler.apply(this,un([this,cn.ERROR],t))},t}();function mn(t){hn.forEach((function(e){e.setLogLevel(t)}))}var gn,bn=((fn={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",fn["bad-app-name"]="Illegal App name: '{$appName}",fn["duplicate-app"]="Firebase App named '{$appName}' already exists",fn["app-deleted"]="Firebase App named '{$appName}' already deleted",fn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",fn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",fn),wn=new $e("app","Firebase",bn),In="@firebase/app",En="[DEFAULT]",Tn=((gn={})[In]="fire-core",gn["@firebase/analytics"]="fire-analytics",gn["@firebase/auth"]="fire-auth",gn["@firebase/database"]="fire-rtdb",gn["@firebase/functions"]="fire-fn",gn["@firebase/installations"]="fire-iid",gn["@firebase/messaging"]="fire-fcm",gn["@firebase/performance"]="fire-perf",gn["@firebase/remote-config"]="fire-rc",gn["@firebase/storage"]="fire-gcs",gn["@firebase/firestore"]="fire-fst",gn["fire-js"]="fire-js",gn["firebase-wrapper"]="fire-js-all",gn),_n=new yn("@firebase/app"),An=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Re(void 0,t),this.container=new an(e.name),this._addComponent(new nn("app",(function(){return o}),"PUBLIC"));try{for(var s=xe(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=En),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=En),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){_n.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw wn.create("app-deleted",{appName:this.name_})},t}();An.prototype.name&&An.prototype.options||An.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Sn(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=En);var s=o.name;if("string"!=typeof s||!s)throw wn.create("bad-app-name",{appName:String(s)});if(ze(e,s))throw wn.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Tn[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void _n.warn(u.join(" "))}o(new nn(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:mn,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw wn.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ln[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:cn[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=hn;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!ze(e,t=t||En))throw wn.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return _n.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw wn.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Re(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var h=xe(Object.keys(e)),f=h.next();!f.done;f=h.next()){var l=f.value;e[l]._addComponent(o)}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Nn=function t(){var e=Sn(An);return e.INTERNAL=Ce(Ce({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Re(e,t)},createSubscribe:Ge,ErrorFactory:$e,deepExtend:Re}),e}(),kn=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){_n.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var On=self.firebase.SDK_VERSION;On&&On.indexOf("LITE")>=0&&_n.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Dn=Nn.initializeApp;Nn.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return je()&&_n.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Dn.apply(void 0,t)};var Cn=Nn;!function(t,e){t.INTERNAL.registerComponent(new nn("platform-logger",(function(t){return new kn(t)}),"PRIVATE")),t.registerVersion(In,"0.6.13",e),t.registerVersion("fire-js","")}(Cn);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Cn.registerVersion("firebase","8.2.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Rn,Ln="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mn=Mn||{},jn=Ln||self;function Vn(){}function Un(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qn="closure_uid_"+(1e9*Math.random()>>>0),Bn=0;function $n(t,e,n){return t.call.apply(t.bind,arguments)}function Hn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Kn(t,e,n){return(Kn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$n:Hn).apply(null,arguments)}function zn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Gn(){return Date.now()}function Wn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Jn(){this.j=this.j,this.i=this.i}Jn.prototype.j=!1,Jn.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,qn)&&t[qn]||(t[qn]=++Bn)})(this)},Jn.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Xn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Qn(t){return Array.prototype.concat.apply([],arguments)}function Zn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function tr(t){return/^[\s\xa0]*$/.test(t)}var er,nr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rr(t,e){return-1!=t.indexOf(e)}function ir(t,e){return t<e?-1:t>e?1:0}t:{var or=jn.navigator;if(or){var sr=or.userAgent;if(sr){er=sr;break t}}er=""}function ar(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ur(t){var e={};for(var n in t)e[n]=t[n];return e}var cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<cr.length;o++)n=cr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fr(t){return fr[" "](t),t}fr[" "]=Vn;var lr,pr,dr=rr(er,"Opera"),vr=rr(er,"Trident")||rr(er,"MSIE"),yr=rr(er,"Edge"),mr=yr||vr,gr=rr(er,"Gecko")&&!(rr(er.toLowerCase(),"webkit")&&!rr(er,"Edge"))&&!(rr(er,"Trident")||rr(er,"MSIE"))&&!rr(er,"Edge"),br=rr(er.toLowerCase(),"webkit")&&!rr(er,"Edge");function wr(){var t=jn.document;return t?t.documentMode:void 0}t:{var Ir="",Er=(pr=er,gr?/rv:([^\);]+)(\)|;)/.exec(pr):yr?/Edge\/([\d\.]+)/.exec(pr):vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pr):br?/WebKit\/(\S+)/.exec(pr):dr?/(?:Version)[ \/]?(\S+)/.exec(pr):void 0);if(Er&&(Ir=Er?Er[1]:""),vr){var Tr=wr();if(null!=Tr&&Tr>parseFloat(Ir)){lr=String(Tr);break t}}lr=Ir}var _r,Ar={};function Sr(t){return function(t,e){var n=Ar;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=nr(String(lr)).split("."),r=nr(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ir(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ir(0==s[2].length,0==a[2].length)||ir(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(jn.document&&vr){var Nr=wr();_r=Nr||(parseInt(lr,10)||void 0)}else _r=void 0;var kr=_r,Or=!vr||9<=Number(kr),Dr=vr&&!Sr("9"),Cr=function(){if(!jn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{jn.addEventListener("test",Vn,e),jn.removeEventListener("test",Vn,e)}catch(t){}return t}();function xr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pr(t,e){if(xr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(gr){t:{try{fr(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Rr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xr.prototype.b=function(){this.defaultPrevented=!0},Wn(Pr,xr);var Rr={2:"touch",3:"pen",4:"mouse"};Pr.prototype.b=function(){Pr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Dr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Lr="closure_listenable_"+(1e6*Math.random()|0),Mr=0;function jr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Mr,this.Y=this.Z=!1}function Vr(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ur(t){this.src=t,this.a={},this.b=0}function Fr(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Xn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Vr(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function qr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ur.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=qr(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new jr(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Br="closure_lm_"+(1e6*Math.random()|0),$r={};function Hr(t,e,n,r,i){if(r&&r.once)return zr(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Hr(t,e[o],n,r,i);return null}return n=ti(n),t&&t[Lr]?t.va(e,n,Fn(r)?!!r.capture:!!r,i):Kr(t,e,n,!1,r,i)}function Kr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fn(i)?!!i.capture:!!i;if(s&&!Or)return null;var a=Qr(t);if(a||(t[Br]=a=new Ur(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Yr,e=Or?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cr||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Jr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function zr(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)zr(t,e[o],n,r,i);return null}return n=ti(n),t&&t[Lr]?t.wa(e,n,Fn(r)?!!r.capture:!!r,i):Kr(t,e,n,!0,r,i)}function Gr(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gr(t,e[o],n,r,i);else r=Fn(r)?!!r.capture:!!r,n=ti(n),t&&t[Lr]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=qr(o=t.a[e],n,r,i))&&(Vr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Qr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=qr(e,n,r,i)),(n=-1<t?e[t]:null)&&Wr(n))}function Wr(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Lr])Fr(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Jr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Qr(e))?(Fr(n,t),0==n.b&&(n.src=null,e[Br]=null)):Vr(t)}}}function Jr(t){return t in $r?$r[t]:$r[t]="on"+t}function Xr(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Wr(t),n.call(r,e)}function Yr(t,e){if(t.Y)return!0;if(!Or){if(!e)t:{e=["window","event"];for(var n=jn,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Xr(t,e=new Pr(e,this))}return Xr(t,new Pr(e,this))}function Qr(t){return(t=t[Br])instanceof Ur?t:null}var Zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ti(t){return"function"==typeof t?t:(t[Zr]||(t[Zr]=function(e){return t.handleEvent(e)}),t[Zr])}function ei(){Jn.call(this),this.c=new Ur(this),this.J=this,this.C=null}function ni(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xr(e,t);else if(e instanceof xr)e.target=e.target||t;else{var i=e;hr(e=new xr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ri(s,r,!0,e)&&i}if(i=ri(s=e.a=t,r,!0,e)&&i,i=ri(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ri(s=e.a=n[o],r,!1,e)&&i}function ri(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Fr(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Wn(ei,Jn),ei.prototype[Lr]=!0,(Rn=ei.prototype).addEventListener=function(t,e,n,r){Hr(this,t,e,n,r)},Rn.removeEventListener=function(t,e,n,r){Gr(this,t,e,n,r)},Rn.G=function(){if(ei.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Vr(n[r]);delete e.a[t],e.b--}}this.C=null},Rn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Rn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ii=jn.JSON.stringify;function oi(){this.b=this.a=null}var si,ai=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new ci}),(function(t){t.reset()}));function ui(){var t=pi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ci(){this.next=this.b=this.a=null}function hi(t){jn.setTimeout((function(){throw t}),0)}function fi(t,e){si||function(){var t=jn.Promise.resolve(void 0);si=function(){t.then(di)}}(),li||(si(),li=!0),pi.add(t,e)}oi.prototype.add=function(t,e){var n=ai.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ci.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ci.prototype.reset=function(){this.next=this.b=this.a=null};var li=!1,pi=new oi;function di(){for(var t;t=ui();){try{t.a.call(t.b)}catch(t){hi(t)}var e=ai;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}li=!1}function vi(t,e){ei.call(this),this.b=t||1,this.a=e||jn,this.f=Kn(this.Za,this),this.g=Gn()}function yi(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function mi(t,e,n){if("function"==typeof t)n&&(t=Kn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Kn(t.handleEvent,t)}return 2147483647<Number(e)?-1:jn.setTimeout(t,e||0)}function gi(t){t.a=mi((function(){t.a=null,t.c&&(t.c=!1,gi(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Wn(vi,ei),(Rn=vi.prototype).aa=!1,Rn.M=null,Rn.Za=function(){if(this.aa){var t=Gn()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ni(this,"tick"),this.aa&&(yi(this),this.start()))}},Rn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Gn())},Rn.G=function(){vi.X.G.call(this),yi(this),delete this.a};var bi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}xn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:gi(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(jn.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Jn);function wi(t){Jn.call(this),this.b=t,this.a={}}Wn(wi,Jn);var Ii=[];function Ei(t,e,n,r){Array.isArray(n)||(n&&(Ii[0]=n.toString()),n=Ii);for(var i=0;i<n.length;i++){var o=Hr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ti(t){ar(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Wr(t)}),t),t.a={}}function _i(){this.a=!0}function Ai(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ii(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}wi.prototype.G=function(){wi.X.G.call(this),Ti(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_i.prototype.info=function(){};var Si={},Ni=null;function ki(){return Ni=Ni||new ei}function Oi(t){xr.call(this,Si.Fa,t)}function Di(t){var e=ki();ni(e,new Oi(e,t))}function Ci(t,e){xr.call(this,Si.STAT_EVENT,t),this.stat=e}function xi(t){var e=ki();ni(e,new Ci(e,t))}function Pi(t){xr.call(this,Si.Ga,t)}function Ri(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return jn.setTimeout((function(){t()}),e)}Si.Fa="serverreachability",Wn(Oi,xr),Si.STAT_EVENT="statevent",Wn(Ci,xr),Si.Ga="timingevent",Wn(Pi,xr);var Li={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Mi={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ji(){}function Vi(t){var e;return(e=t.a)||(e=t.a={}),e}function Ui(){}ji.prototype.a=null;var Fi,qi={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Bi(){xr.call(this,"d")}function $i(){xr.call(this,"c")}function Hi(){}function Ki(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new wi(this),this.P=zi,t=mr?125:void 0,this.R=new vi(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Wn(Bi,xr),Wn($i,xr),Wn(Hi,ji),Fi=new Hi;var zi=45e3,Gi={},Wi={};function Ji(t,e,n){t.H=1,t.i=go(fo(e)),t.j=n,t.I=!0,Xi(t,null)}function Xi(t,e){t.u=Gn(),Zi(t),t.l=fo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Co(n.b,"t",r),t.D=0,t.a=As(t.g,t.g.C?e:null),0<t.O&&(t.F=new bi(Kn(t.Ca,t,t.a),t.O)),Ei(t.J,t.a,"readystatechange",t.Xa),e=t.B?ur(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Di(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Yi(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Qi(t,n);if(i==Wi){4==e&&(t.h=4,xi(14),r=!1),Ai(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gi){t.h=4,xi(15),Ai(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ai(t.c,t.f,i,null),io(t,i)}4==e&&0==n.length&&(t.h=1,xi(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ms(e),e.F=!0,xi(11))):(Ai(t.c,t.f,n,"[Invalid Chunked Response]"),ro(t),no(t))}function Qi(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Wi:(n=Number(e.substring(n,r)),isNaN(n)?Gi:(r+=1)+n>e.length?Wi:(e=e.substr(r,n),t.D=r+n,e))}function Zi(t){t.T=Gn()+t.P,to(t,t.P)}function to(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ri(Kn(t.Va,t),e)}function eo(t){t.o&&(jn.clearTimeout(t.o),t.o=null)}function no(t){0==t.g.v||t.A||ws(t.g,t)}function ro(t){eo(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,yi(t.R),Ti(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function io(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Vo(n.b,t)))if(n.I=t.N,!t.C&&Vo(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;bs(n),us(n)}ys(n),xi(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ri(Kn(n.Sa,n),6e3));if(1>=jo(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Es(n,11)}else if((t.C||n.a==t)&&bs(n),!tr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(rr(h,"spdy")||rr(h,"quic")||rr(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Uo(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,mo(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Gn()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=_s(u,u.C?u.ga:null,u.fa),p.C){Fo(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(eo(d),Zi(d)),u.a=p}else vs(u);0<n.g.length&&fs(n)}else"stop"!=i[0]&&"close"!=i[0]||Es(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Es(n,7):as(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Di(4)}catch(t){}}function oo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Un(t)||"string"==typeof t)Yn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Un(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Un(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function so(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof so)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ao(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];uo(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)uo(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function uo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Rn=Ki.prototype).setTimeout=function(t){this.P=t},Rn.Xa=function(t){t=t.target;var e=this.F;e&&3==rs(t)?e.f():this.Ca(t)},Rn.Ca=function(t){try{if(t==this.a)t:{var e=rs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!mr&&!this.a.$())){this.A||4!=e||7==n||Di(8==n||0>=r?3:2),eo(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,xi(12),ro(this),no(this);break t}Ai(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,io(this,u)}this.I?(Yi(this,e,o),mr&&this.b&&3==e&&(Ei(this.J,this.R,"tick",this.Wa),this.R.start())):(Ai(this.c,this.f,o,null),io(this,o)),4==e&&ro(this),this.b&&!this.A&&(4==e?ws(this.g,this):(this.b=!1,Zi(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xi(12)):(this.h=0,xi(13)),ro(this),no(this)}}}catch(t){}},Rn.Wa=function(){if(this.a){var t=rs(this.a),e=this.a.$();this.D<e.length&&(eo(this),Yi(this,t,e),this.b&&4!=t&&Zi(this))}},Rn.cancel=function(){this.A=!0,ro(this)},Rn.Va=function(){this.o=null;var t=Gn();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Di(3),xi(17)),ro(this),this.h=2,no(this)):to(this,this.T-t)},(Rn=so.prototype).K=function(){ao(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Rn.L=function(){return ao(this),this.a.concat()},Rn.get=function(t,e){return uo(this.b,t)?this.b[t]:e},Rn.set=function(t,e){uo(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Rn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var co=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ho(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ho){this.a=void 0!==e?e:t.a,lo(this,t.f),this.j=t.j,po(this,t.c),vo(this,t.h),this.g=t.g,e=t.b;var n=new No;n.c=e.c,e.a&&(n.a=new so(e.a),n.b=e.b),yo(this,n),this.i=t.i}else t&&(n=String(t).match(co))?(this.a=!!e,lo(this,n[1]||"",!0),this.j=bo(n[2]||""),po(this,n[3]||"",!0),vo(this,n[4]),this.g=bo(n[5]||"",!0),yo(this,n[6]||"",!0),this.i=bo(n[7]||"")):(this.a=!!e,this.b=new No(null,this.a))}function fo(t){return new ho(t)}function lo(t,e,n){t.f=n?bo(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function po(t,e,n){t.c=n?bo(e,!0):e}function vo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function yo(t,e,n){e instanceof No?(t.b=e,function(t,e){e&&!t.f&&(ko(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Oo(this,e),Co(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=wo(e,Ao)),t.b=new No(e,t.a))}function mo(t,e,n){t.b.set(e,n)}function go(t){return mo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Gn()).toString(36)),t}function bo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wo(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Io),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Io(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ho.prototype.toString=function(){var t=[],e=this.f;e&&t.push(wo(e,Eo,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(wo(e,Eo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(wo(n,"/"==n.charAt(0)?_o:To,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",wo(n,So)),t.join("")};var Eo=/[#\/\?@]/g,To=/[#\?:]/g,_o=/[#\?]/g,Ao=/[#\?@]/g,So=/#/g;function No(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ko(t){t.a||(t.a=new so,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Oo(t,e){ko(t),e=xo(t,e),uo(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,uo((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ao(t)))}function Do(t,e){return ko(t),e=xo(t,e),uo(t.a.b,e)}function Co(t,e,n){Oo(t,e),0<n.length&&(t.c=null,t.a.set(xo(t,e),Zn(n)),t.b+=n.length)}function xo(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Rn=No.prototype).add=function(t,e){ko(this),this.c=null,t=xo(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Rn.forEach=function(t,e){ko(this),this.a.forEach((function(n,r){Yn(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Rn.L=function(){ko(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Rn.K=function(t){ko(this);var e=[];if("string"==typeof t)Do(this,t)&&(e=Qn(e,this.a.get(xo(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Qn(e,t[n])}return e},Rn.set=function(t,e){return ko(this),this.c=null,Do(this,t=xo(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Rn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Rn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Po=function(t,e){this.b=t,this.a=e};function Ro(t){this.g=t||Lo,jn.PerformanceNavigationTiming?t=0<(t=jn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(jn.ia&&jn.ia.ya&&jn.ia.ya()&&jn.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Lo=10;function Mo(t){return!!t.b||!!t.a&&t.a.size>=t.f}function jo(t){return t.b?1:t.a?t.a.size:0}function Vo(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Uo(t,e){t.a?t.a.add(e):t.b=e}function Fo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function qo(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Pn(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Zn(t.c)}function Bo(){}function $o(){this.a=new Bo}function Ho(t,e,n){var r=n||"";try{oo(t,(function(t,n){var i=t;Fn(t)&&(i=ii(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Ko(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ro.prototype.cancel=function(){var t,e;if(this.c=qo(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Pn(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Bo.prototype.stringify=function(t){return jn.JSON.stringify(t,void 0)},Bo.prototype.parse=function(t){return jn.JSON.parse(t,void 0)};var zo=jn.JSON.parse;function Go(t){ei.call(this),this.headers=new so,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Wo,this.D=this.F=!1}Wn(Go,ei);var Wo="",Jo=/^https?$/i,Xo=["POST","PUT"];function Yo(t){return"content-type"==t.toLowerCase()}function Qo(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Zo(t),es(t)}function Zo(t){t.u||(t.u=!0,ni(t,"complete"),ni(t,"error"))}function ts(t){if(t.b&&void 0!==Mn&&(!t.s[1]||4!=rs(t)||2!=t.W()))if(t.l&&4==rs(t))mi(t.za,0,t);else if(ni(t,"readystatechange"),4==rs(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(co)[1]||null;if(!o&&jn.self&&jn.self.location){var s=jn.self.location.protocol;o=s.substr(0,s.length-1)}i=!Jo.test(o?o.toLowerCase():"")}e=i}if(e)ni(t,"complete"),ni(t,"success");else{t.h=6;try{var a=2<rs(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Zo(t)}}finally{es(t)}}}function es(t,e){if(t.a){ns(t);var n=t.a,r=t.s[0]?Vn:null;t.a=null,t.s=null,e||ni(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function ns(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(jn.clearTimeout(t.m),t.m=null)}function rs(t){return t.a?t.a.readyState:0}function is(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ar(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mo(t,e,n))}function os(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ss(t){this.pa=0,this.g=[],this.c=new _i,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=os("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=os("baseRetryDelayMs",5e3,t),this.Ra=os("retryDelaySeedMs",1e4,t),this.Ma=os("forwardChannelMaxRetries",2,t),this.ma=os("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ro(t&&t.concurrentRequestLimit),this.ka=new $o,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function as(t){if(cs(t),3==t.v){var e=t.R++,n=fo(t.B);mo(n,"SID",t.J),mo(n,"RID",e),mo(n,"TYPE","terminate"),ps(t,n),(e=new Ki(t,t.c,e,void 0)).H=2,e.i=go(fo(n)),n=!1,jn.navigator&&jn.navigator.sendBeacon&&(n=jn.navigator.sendBeacon(e.i.toString(),"")),!n&&jn.Image&&((new Image).src=e.i,n=!0),n||(e.a=As(e.g,null),e.a.ba(e.i)),e.u=Gn(),Zi(e)}Ts(t)}function us(t){t.a&&(ms(t),t.a.cancel(),t.a=null)}function cs(t){us(t),t.j&&(jn.clearTimeout(t.j),t.j=null),bs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&jn.clearTimeout(t.h),t.h=null)}function hs(t,e){t.g.push(new Po(t.Oa++,e)),3==t.v&&fs(t)}function fs(t){Mo(t.b)||t.h||(t.h=!0,fi(t.Ba,t),t.u=0)}function ls(t,e){var n;n=e?e.f:t.R++;var r=fo(t.B);mo(r,"SID",t.J),mo(r,"RID",n),mo(r,"AID",t.P),ps(t,r),t.i&&t.l&&is(r,t.i,t.l),n=new Ki(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ds(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Uo(t.b,n),Ji(n,r,e)}function ps(t,e){t.f&&oo({},(function(t,n){mo(e,n,t)}))}function ds(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Kn(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ho(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function vs(t){t.a||t.j||(t.T=1,fi(t.Aa,t),t.o=0)}function ys(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ri(Kn(t.Aa,t),Is(t,t.o)),t.o++,!0)}function ms(t){null!=t.s&&(jn.clearTimeout(t.s),t.s=null)}function gs(t){t.a=new Ki(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=fo(t.la);mo(e,"RID","rpc"),mo(e,"SID",t.J),mo(e,"CI",t.H?"0":"1"),mo(e,"AID",t.P),ps(t,e),mo(e,"TYPE","xmlhttp"),t.i&&t.l&&is(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=go(fo(e)),n.j=null,n.I=!0,Xi(n,t)}function bs(t){null!=t.m&&(jn.clearTimeout(t.m),t.m=null)}function ws(t,e){var n=null;if(t.a==e){bs(t),ms(t),t.a=null;var r=2}else{if(!Vo(t.b,e))return;n=e.s,Fo(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Gn()-e.u;var i=t.u;ni(r=ki(),new Pi(r,n,e,i)),fs(t)}else vs(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(jo(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ri(Kn(t.Ba,t,e),Is(t,t.u)),t.u++,0)))}(t,e)||2==r&&ys(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Es(t,5);break;case 4:Es(t,10);break;case 3:Es(t,6);break;default:Es(t,2)}}function Is(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Es(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Kn(t.Ya,t);n||(n=new ho("//www.google.com/images/cleardot.gif"),jn.location&&"http"==jn.location.protocol||lo(n,"https"),go(n)),function(t,e){var n=new _i;if(jn.Image){var r=new Image;r.onload=zn(Ko,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zn(Ko,n,r,"TestLoadImage: error",!1,e),r.onabort=zn(Ko,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zn(Ko,n,r,"TestLoadImage: timeout",!1,e),jn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else xi(2);t.v=0,t.f&&t.f.ra(e),Ts(t),cs(t)}function Ts(t){t.v=0,t.I=-1,t.f&&(0==qo(t.b).length&&0==t.g.length||(t.b.c.length=0,Zn(t.g),t.g.length=0),t.f.qa())}function _s(t,e,n){var r=function(t){return t instanceof ho?fo(t):new ho(t,void 0)}(n);if(""!=r.c)e&&po(r,e+"."+r.c),vo(r,r.h);else{var i=jn.location;r=function(t,e,n,r){var i=new ho(null,void 0);return t&&lo(i,t),e&&po(i,e),n&&vo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ar(t.V,(function(t,e){mo(r,e,t)})),e=t.A,n=t.na,e&&n&&mo(r,e,n),mo(r,"VER",t.ha),ps(t,r),r}function As(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Go(t.Na)).F=t.C,e}function Ss(){}function Ns(){if(vr&&!(10<=Number(kr)))throw Error("Environmental error: no available transport.")}function ks(t,e){ei.call(this),this.a=new ss(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!tr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Cs(this)}function Os(t){Bi.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ds(){$i.call(this),this.status=1}function Cs(t){this.a=t}(Rn=Go.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Vi(this.H):Vi(Fi),this.a.onreadystatechange=Kn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Qo(this,t)}t=n||"";var i=new so(this.headers);r&&oo(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Yo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=jn.FormData&&t instanceof jn.FormData,!(0<=Xn(Xo,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ns(this),0<this.o&&((this.D=function(t){return vr&&Sr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Kn(this.xa,this)):this.m=mi(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Qo(this,t)}},Rn.xa=function(){void 0!==Mn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ni(this,"timeout"),this.abort(8))},Rn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ni(this,"complete"),ni(this,"abort"),es(this))},Rn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),es(this,!0)),Go.X.G.call(this)},Rn.za=function(){this.j||(this.A||this.l||this.g?ts(this):this.Ua())},Rn.Ua=function(){ts(this)},Rn.W=function(){try{return 2<rs(this)?this.a.status:-1}catch(t){return-1}},Rn.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Rn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),zo(e)}},Rn.ua=function(){return this.h},Rn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Rn=ss.prototype).ha=8,Rn.v=1,Rn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ki(this,this.c,t,void 0),r=this.l;if(this.O&&(r?hr(r=ur(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ds(this,n,e),mo(i=fo(this.B),"RID",t),mo(i,"CVER",22),this.A&&mo(i,"X-HTTP-Session-Id",this.A),ps(this,i),this.i&&r&&is(i,this.i,r),Uo(this.b,n),this.Ia&&mo(i,"TYPE","init"),this.da?(mo(i,"$req",e),mo(i,"SID","null"),n.U=!0,Ji(n,i,null)):Ji(n,i,e),this.v=2}}else 3==this.v&&(t?ls(this,t):0==this.g.length||Mo(this.b)||ls(this))},Rn.Aa=function(){if(this.j=null,gs(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ri(Kn(this.Ta,this),t)}},Rn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xi(10),us(this),gs(this))},Rn.Sa=function(){null!=this.m&&(this.m=null,us(this),ys(this),xi(19))},Rn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xi(2)):(this.c.info("Failed to ping google.com"),xi(1))},(Rn=Ss.prototype).ta=function(){},Rn.sa=function(){},Rn.ra=function(){},Rn.qa=function(){},Rn.Ja=function(){},Ns.prototype.a=function(t,e){return new ks(t,e)},Wn(ks,ei),ks.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xi(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_s(t,null,t.fa),fs(t)},ks.prototype.close=function(){as(this.a)},ks.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,hs(this.a,e)}else this.l?((e={}).__data__=ii(t),hs(this.a,e)):hs(this.a,t)},ks.prototype.G=function(){this.a.f=null,delete this.f,as(this.a),delete this.a,ks.X.G.call(this)},Wn(Os,Bi),Wn(Ds,$i),Wn(Cs,Ss),Cs.prototype.ta=function(){ni(this.a,"a")},Cs.prototype.sa=function(t){ni(this.a,new Os(t))},Cs.prototype.ra=function(t){ni(this.a,new Ds(t))},Cs.prototype.qa=function(){ni(this.a,"b")},Ns.prototype.createWebChannel=Ns.prototype.a,ks.prototype.send=ks.prototype.h,ks.prototype.open=ks.prototype.g,ks.prototype.close=ks.prototype.close,Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Mi.COMPLETE="complete",Ui.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",ei.prototype.listen=ei.prototype.va,Go.prototype.listenOnce=Go.prototype.wa,Go.prototype.getLastError=Go.prototype.Qa,Go.prototype.getLastErrorCode=Go.prototype.ua,Go.prototype.getStatus=Go.prototype.W,Go.prototype.getResponseJson=Go.prototype.Pa,Go.prototype.getResponseText=Go.prototype.$,Go.prototype.send=Go.prototype.ba;var xs=Li,Ps=Mi,Rs=Si,Ls=10,Ms=11,js=Ui,Vs=Go,Us=function(t,e){return(Us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Fs(t,e){function n(){this.constructor=t}Us(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function qs(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Bs(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function $s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hs=new yn("@firebase/firestore");function Ks(){return Hs.logLevel}function zs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hs.logLevel<=cn.DEBUG){var r=e.map(Js);Hs.debug.apply(Hs,$s(["Firestore (8.2.1): "+t],r))}}function Gs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hs.logLevel<=cn.ERROR){var r=e.map(Js);Hs.error.apply(Hs,$s(["Firestore (8.2.1): "+t],r))}}function Ws(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hs.logLevel<=cn.WARN){var r=e.map(Js);Hs.warn.apply(Hs,$s(["Firestore (8.2.1): "+t],r))}}function Js(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Gs(e),new Error(e)}function Ys(t,e){t||Xs()}function Qs(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zs(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ta=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Zs(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ea(t,e){return t<e?-1:t>e?1:0}function na(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ra(t){return t+"\0"}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ia=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return ea(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();ia.h=new ia("");var oa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sa=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Fs(e,t),e}(Error),aa=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(ia.fromBase64String(e))}catch(e){throw new sa(oa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ia.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),ua=function(t){this._=t};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ca(){if("undefined"==typeof Uint8Array)throw new sa(oa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ha(){if("undefined"==typeof atob)throw new sa(oa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.fromBase64String=function(t){return ha(),new e(aa.fromBase64String(t))},e.fromUint8Array=function(t){return ca(),new e(aa.fromUint8Array(t))},e.prototype.toBase64=function(){return ha(),this._.toBase64()},e.prototype.toUint8Array=function(){return ca(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ua),la=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},pa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),da=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */da.UNAUTHENTICATED=new da(null),da.P=new da("google-credentials-uid"),da.g=new da("first-party-uid");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var va=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ya=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(da.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ma=function(){function t(t){var e=this;this.C=null,this.currentUser=da.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(zs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ys("string"==typeof n.accessToken),new va(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Ys(null===t||"string"==typeof t),new da(t)},t}(),ga=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=da.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ba=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new ga(this.k,this.M))},t.prototype.S=function(t){t(da.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),wa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();wa.U=-1;var Ia=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new sa(oa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new sa(oa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new sa(oa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sa(oa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?ea(this.nanoseconds,t.nanoseconds):ea(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ea=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Ia(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ta=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xs(),void 0===n?n=t.length-e:n>t.length-e&&Xs(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new sa(oa.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Ta),Aa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Aa.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new sa(oa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new sa(oa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sa(oa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new sa(oa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ta),Na=function(){function t(t){this.path=t}return t.ft=function(e){return new t(_a.ct(e))},t.dt=function(e){return new t(_a.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_a.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return _a.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new _a(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ka(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oa(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Da(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ca=function(){function t(t){this.fields=t,t.sort(Sa.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return na(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),xa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Pa(t){if(Ys(!!t),"string"==typeof t){var e=0,n=xa.exec(t);if(Ys(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ra(t.seconds),nanos:Ra(t.nanos)}}function Ra(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function La(t){return"string"==typeof t?ia.fromBase64String(t):ia.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ma(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ja(t){var e=t.mapValue.fields.__previous_value__;return Ma(e)?ja(e):e}function Va(t){var e=Pa(t.mapValue.fields.__local_write_time__.timestampValue);return new Ia(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ua(t){return null==t}function Fa(t){return 0===t&&1/t==-1/0}function qa(t){return"number"==typeof t&&Number.isInteger(t)&&!Fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ma(t)?4:10:Xs()}function $a(t,e){var n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Pa(t.timestampValue),r=Pa(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return La(t.bytesValue).isEqual(La(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ra(t.geoPointValue.latitude)===Ra(e.geoPointValue.latitude)&&Ra(t.geoPointValue.longitude)===Ra(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ra(t.integerValue)===Ra(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ra(t.doubleValue),r=Ra(e.doubleValue);return n===r?Fa(n)===Fa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],$a);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ka(n)!==ka(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$a(n[i],r[i])))return!1;return!0}(t,e);default:return Xs()}}function Ha(t,e){return void 0!==(t.values||[]).find((function(t){return $a(t,e)}))}function Ka(t,e){var n=Ba(t),r=Ba(e);if(n!==r)return ea(n,r);switch(n){case 0:return 0;case 1:return ea(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ra(t.integerValue||t.doubleValue),r=Ra(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return za(t.timestampValue,e.timestampValue);case 4:return za(Va(t),Va(e));case 5:return ea(t.stringValue,e.stringValue);case 6:return function(t,e){var n=La(t),r=La(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ea(n[i],r[i]);if(0!==o)return o}return ea(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ea(Ra(t.latitude),Ra(e.latitude));return 0!==n?n:ea(Ra(t.longitude),Ra(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ka(n[i],r[i]);if(o)return o}return ea(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ea(r[s],o[s]);if(0!==a)return a;var u=Ka(n[r[s]],i[o[s]]);if(0!==u)return u}return ea(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xs()}}function za(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ea(t,e);var n=Pa(t),r=Pa(e),i=ea(n.seconds,r.seconds);return 0!==i?i:ea(n.nanos,r.nanos)}function Ga(t){return Wa(t)}function Wa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Pa(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?La(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Na.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Wa(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Wa(t.fields[o])}return e+"}"}(t.mapValue):Xs();var e,n}function Ja(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Xa(t){return!!t&&"integerValue"in t}function Ya(t){return!!t&&"arrayValue"in t}function Qa(t){return!!t&&"nullValue"in t}function Za(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tu(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var eu=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!tu(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return $a(this.proto,t.proto)},t}(),nu=function(){function t(t){void 0===t&&(t=eu.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ba(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Sa.at(),this.Rt);return null!=t?new eu(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=tu(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ru(t){var e=[];return Oa(t.fields||{},(function(t,n){var r=new Sa([t]);if(tu(n)){var i=ru(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Ca(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var iu=function(t,e){this.key=t,this.version=e},ou=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Fs(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(iu),su=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Fs(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(iu),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(iu),uu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function cu(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new uu(t,e,n,r,i,o,s)}function hu(t){var e=Qs(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Ga(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Tu(e.startAt)),e.endAt&&(n+="|ub:",n+=Tu(e.endAt)),e.St=n}return e.St}function fu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Au(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!$a(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nu(t.startAt,e.startAt)&&Nu(t.endAt,e.endAt)}function lu(t){return Na.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var pu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Fs(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new du(t,n,r):"array-contains"===n?new gu(t,r):"in"===n?new bu(t,r):"not-in"===n?new wu(t,r):"array-contains-any"===n?new Iu(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new vu(t,n):new yu(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Ka(e,this.value)):null!==e&&Ba(this.value)===Ba(e)&&this.Ct(Ka(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xs()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),du=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Na.dt(r.referenceValue),i}return Fs(e,t),e.prototype.matches=function(t){var e=Na.J(t.key,this.key);return this.Ct(e)},e}(pu),vu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=mu("in",n),r}return Fs(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pu),yu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=mu("not-in",n),r}return Fs(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(pu);function mu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Na.dt(t.referenceValue)}))}var gu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Fs(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ya(e)&&Ha(e.arrayValue,this.value)},e}(pu),bu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Fs(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ha(this.value.arrayValue,e)},e}(pu),wu=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Fs(e,t),e.prototype.matches=function(t){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ha(this.value.arrayValue,e)},e}(pu),Iu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Fs(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ya(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ha(e.value.arrayValue,t)}))},e}(pu),Eu=function(t,e){this.position=t,this.before=e};function Tu(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ga(t)})).join(",")}var _u=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Au(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Su(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Na.J(Na.dt(s.referenceValue),n.key):Ka(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Nu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$a(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ku=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function Ou(t,e,n,r,i,o,s,a){return new ku(t,e,n,r,i,o,s,a)}function Du(t){return new ku(t)}function Cu(t){return!Ua(t.limit)&&"F"===t.limitType}function xu(t){return!Ua(t.limit)&&"L"===t.limitType}function Pu(t){return t.Nt.length>0?t.Nt[0].field:null}function Ru(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Lu(t){return null!==t.collectionGroup}function Mu(t){var e=Qs(t);if(null===e.Ft){e.Ft=[];var n=Ru(e),r=Pu(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new _u(n)),e.Ft.push(new _u(Sa.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new _u(Sa.lt(),u))}}}return e.Ft}function ju(t){var e=Qs(t);if(!e.Ot)if("F"===e.limitType)e.Ot=cu(e.path,e.collectionGroup,Mu(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Mu(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new _u(o.field,s))}var a=e.endAt?new Eu(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Eu(e.startAt.position,!e.startAt.before):null;e.Ot=cu(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.Ot}function Vu(t,e,n){return new ku(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uu(t,e){return fu(ju(t),ju(e))&&t.limitType===e.limitType}function Fu(t){return hu(ju(t))+"|lt:"+t.limitType}function qu(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Ga(e.value);var e})).join(", ")+"]"),Ua(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Tu(t.startAt)),t.endAt&&(e+=", endAt: "+Tu(t.endAt)),"Target("+e+")"}(ju(t))+"; limitType="+t.limitType+")"}function Bu(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Na.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Su(t.startAt,Mu(t),e)||t.endAt&&Su(t.endAt,Mu(t),e))}(t,e)}function $u(t){return function(e,n){for(var r=!1,i=0,o=Mu(t);i<o.length;i++){var s=o[i],a=Hu(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Hu(t,e,n){var r=t.field.ht()?Na.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ka(r,i):Xs()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xs()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ku=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Ea.min()),void 0===o&&(o=Ea.min()),void 0===s&&(s=ia.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zu(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function Gu(t){return{integerValue:""+t}}function Wu(t,e){return qa(e)?Gu(e):zu(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ju=function(){this.Ut=void 0};function Xu(t,e,n){return t instanceof Zu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof tc?ec(t,e):t instanceof nc?rc(t,e):function(t,e){var n=Qu(t,e),r=oc(n)+oc(t.Qt);return Xa(n)&&Xa(t.Qt)?Gu(r):zu(t.Kt,r)}(t,e)}function Yu(t,e,n){return t instanceof tc?ec(t,e):t instanceof nc?rc(t,e):n}function Qu(t,e){return t instanceof ic?Xa(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e}(Ju),tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Fs(e,t),e}(Ju);function ec(t,e){for(var n=sc(e),r=function(t){n.some((function(e){return $a(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Fs(e,t),e}(Ju);function rc(t,e){for(var n=sc(e),r=function(t){n=n.filter((function(e){return!$a(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ic=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Fs(e,t),e}(Ju);function oc(t){return Ra(t.integerValue||t.doubleValue)}function sc(t){return Ya(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ac=function(t,e){this.field=t,this.transform=e},uc=function(t,e){this.version=t,this.transformResults=e},cc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function hc(t,e){return void 0!==t.updateTime?e instanceof ou&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ou}var fc=function(){};function lc(t,e,n){return t instanceof mc?function(t,e,n){var r=t.value;if(n.transformResults){var i=wc(t.fieldTransforms,e,n.transformResults);r=Ec(t.fieldTransforms,r,i)}return new ou(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof gc?function(t,e,n){if(!hc(t.Gt,e))return new au(t.key,n.version);var r=bc(t,e,n.transformResults?wc(t.fieldTransforms,e,n.transformResults):[]);return new ou(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new su(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function pc(t,e,n,r){return t instanceof mc?function(t,e,n,r){if(!hc(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Ic(t.fieldTransforms,n,e,r);i=Ec(t.fieldTransforms,i,o)}var s=yc(e);return new ou(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof gc?function(t,e,n,r){if(!hc(t.Gt,e))return e;var i=yc(e),o=bc(t,e,Ic(t.fieldTransforms,n,e,r));return new ou(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return hc(t.Gt,e)?new su(t.key,Ea.min()):e}(t,e)}function dc(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof ou?e.field(o.field):void 0,a=Qu(o.transform,s||null);null!=a&&(n=null==n?(new nu).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function vc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&na(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof tc&&e instanceof tc||t instanceof nc&&e instanceof nc?na(t.elements,e.elements,$a):t instanceof ic&&e instanceof ic?$a(t.Qt,e.Qt):t instanceof Zu&&e instanceof Zu}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function yc(t){return t instanceof ou?t.version:Ea.min()}var mc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Fs(e,t),e}(fc),gc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Fs(e,t),e}(fc);function bc(t,e,n){var r;return r=function(t,e){var n=new nu(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof ou?e.data():eu.empty()),Ec(t.fieldTransforms,r,n)}function wc(t,e,n){var r=[];Ys(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ou&&(a=e.field(o.field)),r.push(Yu(s,a,n[i]))}return r}function Ic(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ou&&(c=n.field(a.field)),null===c&&r instanceof ou&&(c=r.field(a.field)),i.push(Xu(u,c,e))}return i}function Ec(t,e,n){for(var r=new nu(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var Tc,_c,Ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Fs(e,t),e}(fc),Sc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Fs(e,t),e}(fc),Nc=function(t){this.count=t};function kc(t){switch(t){case oa.OK:return Xs();case oa.CANCELLED:case oa.UNKNOWN:case oa.DEADLINE_EXCEEDED:case oa.RESOURCE_EXHAUSTED:case oa.INTERNAL:case oa.UNAVAILABLE:case oa.UNAUTHENTICATED:return!1;case oa.INVALID_ARGUMENT:case oa.NOT_FOUND:case oa.ALREADY_EXISTS:case oa.PERMISSION_DENIED:case oa.FAILED_PRECONDITION:case oa.ABORTED:case oa.OUT_OF_RANGE:case oa.UNIMPLEMENTED:case oa.DATA_LOSS:return!0;default:return Xs()}}function Oc(t){if(void 0===t)return Gs("GRPC error has no .code"),oa.UNKNOWN;switch(t){case Tc.OK:return oa.OK;case Tc.CANCELLED:return oa.CANCELLED;case Tc.UNKNOWN:return oa.UNKNOWN;case Tc.DEADLINE_EXCEEDED:return oa.DEADLINE_EXCEEDED;case Tc.RESOURCE_EXHAUSTED:return oa.RESOURCE_EXHAUSTED;case Tc.INTERNAL:return oa.INTERNAL;case Tc.UNAVAILABLE:return oa.UNAVAILABLE;case Tc.UNAUTHENTICATED:return oa.UNAUTHENTICATED;case Tc.INVALID_ARGUMENT:return oa.INVALID_ARGUMENT;case Tc.NOT_FOUND:return oa.NOT_FOUND;case Tc.ALREADY_EXISTS:return oa.ALREADY_EXISTS;case Tc.PERMISSION_DENIED:return oa.PERMISSION_DENIED;case Tc.FAILED_PRECONDITION:return oa.FAILED_PRECONDITION;case Tc.ABORTED:return oa.ABORTED;case Tc.OUT_OF_RANGE:return oa.OUT_OF_RANGE;case Tc.UNIMPLEMENTED:return oa.UNIMPLEMENTED;case Tc.DATA_LOSS:return oa.DATA_LOSS;default:return Xs()}}(_c=Tc||(Tc={}))[_c.OK=0]="OK",_c[_c.CANCELLED=1]="CANCELLED",_c[_c.UNKNOWN=2]="UNKNOWN",_c[_c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_c[_c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_c[_c.NOT_FOUND=5]="NOT_FOUND",_c[_c.ALREADY_EXISTS=6]="ALREADY_EXISTS",_c[_c.PERMISSION_DENIED=7]="PERMISSION_DENIED",_c[_c.UNAUTHENTICATED=16]="UNAUTHENTICATED",_c[_c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_c[_c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_c[_c.ABORTED=10]="ABORTED",_c[_c.OUT_OF_RANGE=11]="OUT_OF_RANGE",_c[_c.UNIMPLEMENTED=12]="UNIMPLEMENTED",_c[_c.INTERNAL=13]="INTERNAL",_c[_c.UNAVAILABLE=14]="UNAVAILABLE",_c[_c.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dc=function(){function t(t,e){this.J=t,this.root=e||xc.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,xc.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,xc.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Cc(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Cc(this.root,t,this.J,!1)},t.prototype.se=function(){return new Cc(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Cc(this.root,t,this.J,!0)},t}(),Cc=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),xc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Xs();if(this.right._e())throw Xs();var t=this.left.me();if(t!==this.right.me())throw Xs();return t+(this._e()?0:1)},t}();xc.EMPTY=null,xc.RED=!0,xc.Jt=!1,xc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new xc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pc=function(){function t(t){this.J=t,this.data=new Dc(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Rc(this.data.ee())},t.prototype.ne=function(t){return new Rc(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Rc=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Lc=new Dc(Na.J);function Mc(){return Lc}function jc(){return Mc()}var Vc=new Dc(Na.J);function Uc(){return Vc}var Fc=new Dc(Na.J);var qc=new Pc(Na.J);function Bc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $c=new Pc(ea);function Hc(){return $c}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Kc=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Na.J(e.key,n.key)}:function(t,e){return Na.J(t.key,e.key)},this.Ve=Uc(),this.pe=new Dc(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),zc=function(){function t(){this.ve=new Dc(Na.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Xs():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Gc=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Kc.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Uu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Wc=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Jc.Be(e,n)),new t(Ea.min(),r,Hc(),Mc(),Bc())},t}(),Jc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(ia.h,n,Bc(),Bc(),Bc())},t}(),Xc=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Yc=function(t,e){this.targetId=t,this.Ge=e},Qc=function(t,e,n,r){void 0===n&&(n=ia.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Zc=function(){function t(){this.ze=0,this.He=nh(),this.Je=ia.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Bc(),e=Bc(),n=Bc();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xs()}})),new Jc(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=nh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),th=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Mc(),this.fn=eh(),this.dn=new Pc(ea)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof ou?this.En(r,t.je):t.je instanceof su&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Xs()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(lu(i))if(0===n){var o=new Na(i.path);this.Tn(e,o,new su(o,Ea.min()))}else Ys(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&lu(o.target)){var s=new Na(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new su(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Bc();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Wc(t,n,this.dn,this._n,r);return this._n=Mc(),this.fn=eh(),this.dn=new Pc(ea),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Zc,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Pc(ea),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||zs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Zc),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function eh(){return new Dc(Na.J)}function nh(){return new Dc(Na.J)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rh={asc:"ASCENDING",desc:"DESCENDING"},ih={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh=function(t,e){this.T=t,this.qt=e};function sh(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ah(t,e){return t.qt?e.toBase64():e.toUint8Array()}function uh(t,e){return sh(t,e.G())}function ch(t){return Ys(!!t),Ea.W(function(t){var e=Pa(t);return new Ia(e.seconds,e.nanos)}(t))}function hh(t,e){return function(t){return new _a(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function fh(t){var e=_a.ct(t);return Ys(Rh(e)),e}function lh(t,e){return hh(t.T,e.path)}function ph(t,e){var n=fh(e);if(n.get(1)!==t.T.projectId)throw new sa(oa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new sa(oa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Na(mh(n))}function dh(t,e){return hh(t.T,e)}function vh(t){var e=fh(t);return 4===e.length?_a.at():mh(e)}function yh(t){return new _a(["projects",t.T.projectId,"databases",t.T.database]).ot()}function mh(t){return Ys(t.length>4&&"documents"===t.get(4)),t.X(5)}function gh(t,e,n){return{name:lh(t,e),fields:n.proto.mapValue.fields}}function bh(t,e){var n;if(e instanceof mc)n={update:gh(t,e.key,e.value)};else if(e instanceof Ac)n={delete:lh(t,e.key)};else if(e instanceof gc)n={update:gh(t,e.key,e.data),updateMask:Ph(e.zt)};else{if(!(e instanceof Sc))return Xs();n={verify:lh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Zu)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof tc)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof nc)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ic)return{fieldPath:e.field.ot(),increment:n.Qt};throw Xs()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:uh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xs()}(t,e.Gt)),n}function wh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cc.updateTime(ch(t.updateTime)):void 0!==t.exists?cc.exists(t.exists):cc.Wt()}(e.currentDocument):cc.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Ys("REQUEST_TIME"===e.setToServerValue),n=new Zu;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new tc(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new nc(i)}else"increment"in e?n=new ic(t,e.increment):Xs();var o=Sa._t(e.fieldPath);return new ac(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ph(t,e.update.name),o=new eu({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Ca(e.map((function(t){return Sa._t(t)})))}(e.updateMask);return new gc(i,o,s,n,r)}return new mc(i,o,n,r)}if(e.delete){var a=ph(t,e.delete);return new Ac(a,n)}if(e.verify){var u=ph(t,e.verify);return new Sc(u,n)}return Xs()}function Ih(t,e){return{documents:[dh(t,e.path)]}}function Eh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=dh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dh(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Za(t.value))return{unaryFilter:{field:Oh(t.field),op:"IS_NAN"}};if(Qa(t.value))return{unaryFilter:{field:Oh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Za(t.value))return{unaryFilter:{field:Oh(t.field),op:"IS_NOT_NAN"}};if(Qa(t.value))return{unaryFilter:{field:Oh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(t.field),op:kh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Oh(t.field),direction:Nh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Ua(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ah(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ah(e.endAt)),n}function Th(t){var e=vh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ys(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=_h(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new _u(Dh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ua(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Sh(n.startAt));var h=null;return n.endAt&&(h=Sh(n.endAt)),Ou(e,i,a,s,u,"F",c,h)}function _h(t){return t?void 0!==t.unaryFilter?[xh(t)]:void 0!==t.fieldFilter?[Ch(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return _h(t)})).reduce((function(t,e){return t.concat(e)})):Xs():[]}function Ah(t){return{before:t.before,values:t.position}}function Sh(t){var e=!!t.before,n=t.values||[];return new Eu(n,e)}function Nh(t){return rh[t]}function kh(t){return ih[t]}function Oh(t){return{fieldPath:t.ot()}}function Dh(t){return Sa._t(t.fieldPath)}function Ch(t){return pu.create(Dh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xs()}}(t.fieldFilter.op),t.fieldFilter.value)}function xh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Dh(t.unaryFilter.field);return pu.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Dh(t.unaryFilter.field);return pu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dh(t.unaryFilter.field);return pu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dh(t.unaryFilter.field);return pu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xs()}}function Ph(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Rh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Lh=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Mh=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Xs(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),jh=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Lh,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Fh(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Kh(e.target.error);n.qn.reject(new Fh(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Fh(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(zs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Bh(e)},t}(),Vh=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Me())&&Gs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zs("SimpleDb","Removing database:",t),$h(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Me(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return qs(this,void 0,void 0,(function(){var e,n=this;return Bs(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(zs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new sa(oa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Fh(t,n))},i.onupgradeneeded=function(t){zs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){zs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return qs(this,void 0,void 0,(function(){var i,o,s,a,u;return Bs(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return Bs(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=f.sent(),e=jh.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Mh.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(f.sent(),s),u)];case 4:return c=f.sent(),h="FirebaseError"!==c.name&&o<3,zs("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Uh=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return $h(this.ts.delete())},t}(),Fh=function(t){function e(e,n){var r=this;return(r=t.call(this,oa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Fs(e,t),e}(sa);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qh(t){return"IndexedDbTransactionError"===t.name}var Bh=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$h(n)},t.prototype.add=function(t){return zs("SimpleDb","ADD",this.store.name,t,t),$h(this.store.add(t))},t.prototype.get=function(t){var e=this;return $h(this.store.get(t)).next((function(n){return void 0===n&&(n=null),zs("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return zs("SimpleDb","DELETE",this.store.name,t),$h(this.store.delete(t))},t.prototype.count=function(){return zs("SimpleDb","COUNT",this.store.name),$h(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){zs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Mh((function(n,r){e.onerror=function(t){var e=Kh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Mh((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Uh(i),s=e(i.primaryKey,i.value,o);if(s instanceof Mh){var a=s.catch((function(t){return o.done(),Mh.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Mh.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $h(t){return new Mh((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Kh(t.target.error);n(e)}}))}var Hh=!1;function Kh(t){var e=Vh.Kn(Me());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new sa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Hh||(Hh=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zh=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Lh,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new sa(oa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Gh(t,e){if(Gs("AsyncQueue",e+": "+t),qh(t))return new sa(oa.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jh=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qh(e)),e=Yh(t.get(n),e);return Qh(e)}function Yh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qh(t){return t+""}function Zh(t){var e=t.length;if(Ys(e>=2),2===e)return Ys(""===t.charAt(0)&&""===t.charAt(1)),_a.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Xs(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Xs()}o=s+2}return new _a(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tf=function(t,e){this.seconds=t,this.nanoseconds=e},ef=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ef.store="owner",ef.key="owner";var nf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};nf.store="mutationQueues",nf.keyPath="userId";var rf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};rf.store="mutations",rf.keyPath="batchId",rf.userMutationsIndex="userMutationsIndex",rf.userMutationsKeyPath=["userId","batchId"];var of=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xh(e)]},t.key=function(t,e,n){return[t,Xh(e),n]},t}();of.store="documentMutations",of.PLACEHOLDER=new of;var sf=function(t,e){this.path=t,this.readTime=e},af=function(t,e){this.path=t,this.version=e},uf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};uf.store="remoteDocuments",uf.readTimeIndex="readTimeIndex",uf.readTimeIndexPath="readTime",uf.collectionReadTimeIndex="collectionReadTimeIndex",uf.collectionReadTimeIndexPath=["parentPath","readTime"];var cf=function(t){this.byteSize=t};cf.store="remoteDocumentGlobal",cf.key="remoteDocumentGlobalKey";var hf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};hf.store="targets",hf.keyPath="targetId",hf.queryTargetsIndexName="queryTargetsIndex",hf.queryTargetsKeyPath=["canonicalId","targetId"];var ff=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ff.store="targetDocuments",ff.keyPath=["targetId","path"],ff.documentTargetsIndex="documentTargetsIndex",ff.documentTargetsKeyPath=["path","targetId"];var lf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lf.key="targetGlobalKey",lf.store="targetGlobal";var pf=function(t,e){this.collectionId=t,this.parent=e};pf.store="collectionParents",pf.keyPath=["collectionId","parent"];var df=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};df.store="clientMetadata",df.keyPath="clientId";var vf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};vf.store="bundles",vf.keyPath="bundleId";var yf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};yf.store="namedQueries",yf.keyPath="name";var mf=$s($s($s($s([nf.store,rf.store,of.store,uf.store,hf.store,ef.store,lf.store,ff.store],[df.store]),[cf.store]),[pf.store]),[vf.store,yf.store]),gf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Fs(e,t),e}(Jh);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bf(t,e){var n=Qs(t);return Vh.Hn(n.vs,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wf=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=lc(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=pc(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=pc(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Bc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&na(this.mutations,t.mutations,(function(t,e){return vc(t,e)}))&&na(this.baseMutations,t.baseMutations,(function(t,e){return vc(t,e)}))},t}(),If=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Ys(e.mutations.length===r.length);for(var i=Fc,o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ef=function(t){this.Ms=t};function Tf(t,e){if(e.document)return function(t,e,n){var r=ph(t,e.name),i=ch(e.updateTime),o=new eu({mapValue:{fields:e.fields}});return new ou(r,i,o,{hasCommittedMutations:!!n})}(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Na.Tt(e.noDocument.path),r=kf(e.noDocument.readTime);return new su(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Na.Tt(e.unknownDocument.path);return r=kf(e.unknownDocument.version),new au(i,r)}return Xs()}function _f(t,e,n){var r=Af(n),i=e.key.path.Z().rt();if(e instanceof ou){var o=function(t,e){return{name:lh(t,e.key),fields:e.vt().mapValue.fields,updateTime:sh(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new uf(null,null,o,s,r,i)}if(e instanceof su){var a=e.key.path.rt(),u=Nf(e.version);return s=e.hasCommittedMutations,new uf(null,new sf(a,u),null,s,r,i)}if(e instanceof au){var c=e.key.path.rt(),h=Nf(e.version);return new uf(new af(c,h),null,null,!0,r,i)}return Xs()}function Af(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Sf(t){var e=new Ia(t[0],t[1]);return Ea.W(e)}function Nf(t){var e=t.G();return new tf(e.seconds,e.nanoseconds)}function kf(t){var e=new Ia(t.seconds,t.nanoseconds);return Ea.W(e)}function Of(t,e){for(var n=(e.baseMutations||[]).map((function(e){return wh(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return wh(t.Ms,e)})),s=Ia.fromMillis(e.localWriteTimeMs);return new wf(e.batchId,s,n,o)}function Df(t){var e,n,r=kf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?kf(t.lastLimboFreeSnapshotVersion):Ea.min();return void 0!==t.query.documents?(Ys(1===(n=t.query).documents.length),e=ju(Du(vh(n.documents[0])))):e=function(t){return ju(Th(t))}(t.query),new Ku(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ia.fromBase64String(t.resumeToken))}function Cf(t,e){var n,r=Nf(e.Mt),i=Nf(e.lastLimboFreeSnapshotVersion);n=lu(e.target)?Ih(t.Ms,e.target):Eh(t.Ms,e.target);var o=e.resumeToken.toBase64();return new hf(e.targetId,hu(e.target),r,o,e.sequenceNumber,i,n)}function xf(t){var e=Th({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vu(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pf=function(){function t(){}return t.prototype.Ls=function(t,e){return Rf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:kf(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return Rf(t).put({bundleId:(n=e).id,createTime:Nf(ch(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return Lf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:xf(e.bundledQuery),readTime:kf(e.readTime)};var e}))},t.prototype.qs=function(t,e){return Lf(t).put(function(t){return{name:t.name,readTime:Nf(ch(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Rf(t){return bf(t,vf.store)}function Lf(t){return bf(t,yf.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Mf=function(){function t(){this.Us=new jf}return t.prototype.Qs=function(t,e){return this.Us.add(e),Mh.resolve()},t.prototype.Ks=function(t,e){return Mh.resolve(this.Us.getEntries(e))},t}(),jf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Pc(_a.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Pc(_a.J)).rt()},t}(),Vf=function(){function t(){this.Ws=new jf}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:Xh(i)};return Uf(t).put(o)}return Mh.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ra(e),""],!1,!0);return Uf(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Zh(o.parent))}return n}))},t}();function Uf(t){return bf(t,pf.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ff={js:!1,Gs:0,zs:0,Hs:0},qf=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bf(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){if(t.code!==oa.FAILED_PRECONDITION||t.message!==Wh)throw t;return zs("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */qf.ti=10,qf.ei=1e3,qf.ni=new qf(41943040,qf.ti,qf.ei),qf.si=new qf(-1,0,0);var $f=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.ri(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Oa(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.nt=function(){return Da(this.oi)},t}(),Hf=function(){function t(){this.ci=new $f((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Ea.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Mh.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kf(t,e,n){var r=t.store(rf.store),i=t.store(of.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ys(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=of.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Mh.$n(o).next((function(){return c}))}function zf(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xs();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gf=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Ys(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jf(t).ls({index:rf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=Xf(t),s=Jf(t);return s.add({}).next((function(a){Ys("number"==typeof a);for(var u=new wf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return bh(t.Ms,e)})),i=n.mutations.map((function(e){return bh(t.Ms,e)}));return new rf(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),h=[],f=new Pc((function(t,e){return ea(t.ot(),e.ot())})),l=0,p=r;l<p.length;l++){var d=p[l],v=of.key(i.userId,d.key.path,a);f=f.add(d.key.path.Z()),h.push(s.put(c)),h.push(o.put(v,of.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=u.keys()})),Mh.$n(h).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return Jf(t).get(e).next((function(t){return t?(Ys(t.userId===n.userId),Of(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Mh.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Jf(t).ls({index:rf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ys(e.batchId>=r),o=Of(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jf(t).ls({index:rf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jf(t).os(rf.userMutationsIndex,n).next((function(t){return t.map((function(t){return Of(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=of.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xf(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Zh(u);if(a===n.userId&&e.path.isEqual(h))return Jf(t).get(c).next((function(t){if(!t)throw Xs();Ys(t.userId===n.userId),o.push(Of(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Pc(ea),i=[];return e.forEach((function(e){var o=of.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Xf(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Zh(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Mh.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=of.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Pc(ea);return Xf(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Zh(u);s===n.userId&&r.st(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Jf(t).get(e).next((function(t){if(null===t)throw Xs();Ys(t.userId===n.userId),r.push(Of(n.Kt,t))})))})),Mh.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return Kf(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),Mh.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return Mh.resolve();var r=IDBKeyRange.lowerBound(of.prefixForUser(e.userId)),i=[];return Xf(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Zh(t[1]);i.push(o)}else r.done()})).next((function(){Ys(0===i.length)}))}))},t.prototype.Mi=function(t,e){return Wf(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Yf(t).get(this.userId).next((function(t){return t||new nf(e.userId,-1,"")}))},t}();function Wf(t,e,n){var r=of.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Xf(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Jf(t){return bf(t,rf.store)}function Xf(t){return bf(t,of.store)}function Yf(t){return bf(t,nf.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qf=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Zf=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new Qf(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return Ea.W(new Ia(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return tl(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return Ys(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return tl(t).ls((function(s,a){var u=Df(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return Mh.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return tl(t).ls((function(t,n){var r=Df(n);e(r)}))},t.prototype.Qi=function(t){return el(t).get(lf.key).next((function(t){return Ys(null!==t),t}))},t.prototype.Ki=function(t,e){return el(t).put(lf.key,e)},t.prototype.Hi=function(t,e){return tl(t).put(Cf(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=hu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tl(t).ls({range:r,index:hf.queryTargetsIndexName},(function(t,n,r){var o=Df(n);fu(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=nl(t);return e.forEach((function(e){var s=Xh(e.path);i.push(o.put(new ff(n,s))),i.push(r.mi.ir(t,n,e))})),Mh.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=nl(t);return Mh.forEach(e,(function(e){var o=Xh(e.path);return Mh.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=nl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=nl(t),i=Bc();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Zh(t[1]),o=new Na(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Xh(e.path),r=IDBKeyRange.bound([n],[ra(n)],!1,!0),i=0;return nl(t).ls({index:ff.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return tl(t).get(e).next((function(t){return t?Df(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function tl(t){return bf(t,hf.store)}function el(t){return bf(t,lf.store)}function nl(t){return bf(t,ff.store)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function rl(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=ea(n,i);return 0===s?ea(r,o):s}var il=function(){function t(t){this.ur=t,this.buffer=new Pc(rl),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();rl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ol=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;zs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return qs(e,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return qh(e=n.sent())?(zs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Bf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),sl=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return Mh.resolve(wa.U);var r=new il(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(zs("LruGarbageCollector","Garbage collection skipped; disabled"),Mh.resolve(Ff)):this.vr(t).next((function(r){return r<n.params.Js?(zs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Ff):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(zs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),Ks()<=cn.DEBUG&&zs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Mh.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),al=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new sl(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return ul(t,n)},t.prototype.cr=function(t,e,n){return ul(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return ul(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Yf(t)._s((function(r){return Wf(t,r,e).next((function(t){return t&&(n=!0),Mh.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){if(a<=e){var u=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),nl(t).delete([0,Xh(s.path)])}))}));i.push(u)}})).next((function(){return Mh.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return ul(t,e)},t.prototype.Nr=function(t,e){var n,r=nl(t),i=wa.U;return r.ls({index:ff.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==wa.U&&e(new Na(Zh(n)),i),i=a,n=s):i=wa.U})).next((function(){i!==wa.U&&e(new Na(Zh(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function ul(t,e){return nl(t).put(function(t,e){return new ff(0,Xh(t.path),e)}(e,t.Ss))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cl=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return ll(t).put(pl(e),n)},t.prototype.fi=function(t,e){var n=ll(t),r=pl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return ll(t).get(pl(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return ll(t).get(pl(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:zf(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=jc();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=jc(),i=new Dc(Na.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,zf(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return Mh.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return ll(t).ls({range:r},(function(t,e,r){for(var s=Na.Tt(t);o&&Na.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Uc(),o=e.path.length+1,s={};if(n.isEqual(Ea.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Af(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=uf.collectionReadTimeIndex}return ll(t).ls(s,(function(t,n,s){if(t.length===o){var a=Tf(r.Kt,n);e.path.st(a.key.path)?a instanceof ou&&Bu(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new hl(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return fl(t).get(cf.key).next((function(t){return Ys(!!t),t}))},t.prototype.$r=function(t,e){return fl(t).put(cf.key,e)},t.prototype.Br=function(t){if(t){var e=Tf(this.Kt,t);return e instanceof su&&e.version.isEqual(Ea.min())?null:e}return null},t}(),hl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new $f((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Fs(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Pc((function(t,e){return ea(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a=e.Hr.get(o);if(s._i){var u=_f(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=zf(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var h=_f(e.zr.Kt,new su(o,Ea.min()),e.ui(o));n.push(e.zr.hi(t,o,h))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),Mh.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(Hf);function fl(t){return bf(t,cf.store)}function ll(t){return bf(t,uf.store)}function pl(t){return t.path.rt()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dl=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ys(n<r&&n>=0&&r<=11);var o=new jh("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ef.store)}(t),function(t){t.createObjectStore(nf.store,{keyPath:nf.keyPath}),t.createObjectStore(rf.store,{keyPath:rf.keyPath,autoIncrement:!0}).createIndex(rf.userMutationsIndex,rf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(of.store)}(t),vl(t),function(t){t.createObjectStore(uf.store)}(t));var s=Mh.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ff.store),t.deleteObjectStore(hf.store),t.deleteObjectStore(lf.store)}(t),vl(t)),s=s.next((function(){return function(t){var e=t.store(lf.store),n=new lf(0,0,Ea.min().G(),0);return e.put(lf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(rf.store).os().next((function(n){t.deleteObjectStore(rf.store),t.createObjectStore(rf.store,{keyPath:rf.keyPath,autoIncrement:!0}).createIndex(rf.userMutationsIndex,rf.userMutationsKeyPath,{unique:!0});var r=e.store(rf.store),i=n.map((function(t){return r.put(t)}));return Mh.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(df.store,{keyPath:df.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(cf.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(uf.store);e.createIndex(uf.readTimeIndex,uf.readTimeIndexPath,{unique:!1}),e.createIndex(uf.collectionReadTimeIndex,uf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(vf.store,{keyPath:vf.keyPath})}(t),function(t){t.createObjectStore(yf.store,{keyPath:yf.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(uf.store).ls((function(t,n){e+=zf(n)})).next((function(){var n=new cf(e);return t.store(cf.store).put(cf.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(nf.store),r=t.store(rf.store);return n.os().next((function(n){return Mh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(rf.userMutationsIndex,i).next((function(r){return Mh.forEach(r,(function(r){Ys(r.userId===n.userId);var i=Of(e.Kt,r);return Kf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(ff.store),n=t.store(uf.store);return t.store(lf.store).get(lf.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new _a(n),s=function(t){return[0,Xh(t)]}(o);r.push(e.get(s).next((function(n){return n?Mh.resolve():function(n){return e.put(new ff(0,Xh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Mh.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(pf.store,{keyPath:pf.keyPath});var n=e.store(pf.store),r=new jf,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Xh(i)})}};return e.store(uf.store).ls({hs:!0},(function(t,e){var n=new _a(t);return i(n.Z())})).next((function(){return e.store(of.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Zh(n));return i(r.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(hf.store);return n.ls((function(t,r){var i=Df(r),o=Cf(e.Kt,i);return n.put(o)}))},t}();function vl(t){t.createObjectStore(ff.store,{keyPath:ff.keyPath}).createIndex(ff.documentTargetsIndex,ff.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(hf.store,{keyPath:hf.keyPath}).createIndex(hf.queryTargetsIndexName,hf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lf.store)}var yl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ml=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=h,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new sa(oa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new al(this,i),this._o=n+"main",this.Kt=new Ef(u),this.fo=new Vh(this._o,11,new dl(this.Kt)),this.wo=new Zf(this.mi,this.Kt),this.Ii=new Vf,this.Eo=function(t,e){return new cl(t,e)}(this.Kt,this.Ii),this.To=new Pf,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===h&&Gs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new sa(oa.FAILED_PRECONDITION,yl);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new wa(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return qs(e,void 0,void 0,(function(){return Bs(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return qs(e,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return qs(e,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return bl(e).put(new df(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(qh(e))return zs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return gl(t).get(ef.key).next((function(t){return Mh.resolve(e.xo(t))}))},t.prototype.No=function(t){return bl(t).delete(this.clientId)},t.prototype.Fo=function(){return qs(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Bs(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=bf(t,df.store);return e.os().next((function(t){var n=i.ko(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Mh.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Io)for(e=0,n=t;e<n.length;e++)r=n[e],this.Io.removeItem(this.Mo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?Mh.resolve(!0):gl(t).get(ef.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new sa(oa.FAILED_PRECONDITION,yl);return!1}}return!(!e.networkEnabled||!e.inForeground)||bl(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&zs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return qs(this,void 0,void 0,(function(){var t=this;return Bs(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[ef.store,df.store],(function(e){var n=new gf(e,wa.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return bl(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Gf.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;zs("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.fo.runTransaction(t,o,mf,(function(o){return i=new gf(o,r.ro?r.ro.next():wa.U),"readwrite-primary"===e?r.bo(i).next((function(t){return!!t||r.So(i)})).next((function(e){if(!e)throw Gs("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.no.vo((function(){return r.lo(!1)})),new sa(oa.FAILED_PRECONDITION,Wh);return n(i)})).next((function(t){return r.Co(i).next((function(){return t}))})):r.zo(i).next((function(){return n(i)}))})).then((function(t){return i.bs(),t}))},t.prototype.zo=function(t){var e=this;return gl(t).get(ef.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new sa(oa.FAILED_PRECONDITION,yl)}))},t.prototype.Co=function(t){var e=new ef(this.clientId,this.allowTabSynchronization,Date.now());return gl(t).put(ef.key,e)},t.Wn=function(){return Vh.Wn()},t.prototype.Do=function(t){var e=this,n=gl(t);return n.get(ef.key).next((function(t){return e.xo(t)?(zs("IndexedDbPersistence","Releasing primary lease."),n.delete(ef.key)):Mh.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Gs("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return zs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Gs("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Gs("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gl(t){return bf(t,ef.store)}function bl(t){return bf(t,df.store)}function wl(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Il=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=jc();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Mc();return i.forEach((function(t,e){e||(e=new su(t,Ea.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Na.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Lu(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Na(e)).next((function(t){var e=Uc();return t instanceof ou&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Uc();return this.Ii.Ks(t,i).next((function(s){return Mh.forEach(s,(function(s){var a=function(t,e){return new ku(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),f=pc(u,h,h,o.Ds);r=f instanceof ou?r.Ht(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Bu(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Bc(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof gc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ou&&(c=c.Ht(t,e))})),c}))},t}(),El=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Bc(),i=Bc(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Tl=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ea.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(Cu(e)||xu(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Ks()<=cn.DEBUG&&zs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qu(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Pc($u(t));return e.forEach((function(e,r){r instanceof ou&&Bu(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Ks()<=cn.DEBUG&&zs("QueryEngine","Using full collection scan to execute query:",qu(e)),this.uc.jr(t,e,Ea.min())},t}(),_l=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Dc(ea),this.wc=new $f((function(t){return hu(t)}),fu),this.Ec=Ea.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Il(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Al(t,e,n,r){return new _l(t,e,n,r)}function Sl(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o;return Bs(this,(function(s){switch(s.label){case 0:return n=Qs(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new Il(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=Bc(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];s=s.add(g.key)}}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Nl(t,e){var n=Qs(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Mh.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);Ys(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function kl(t){var e=Qs(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function Ol(t,e){var n=Qs(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return Ys(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}}));var a=Mc();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(function(t,e,n,r,i){var o=Bc();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Mc();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof su&&s.version.isEqual(Ea.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):zs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(Ea.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(u)}return Mh.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Dl(t,e){var n=Qs(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function Cl(t,e){var n=Qs(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?(r=i,Mh.resolve(r)):n.wo.Ui(t).next((function(i){return r=new Ku(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function xl(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s;return Bs(this,(function(a){switch(a.label){case 0:r=Qs(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qh(s=a.sent()))throw s;return zs("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Pl(t,e,n){var r=Qs(t),i=Ea.min(),o=Bc();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Qs(t),i=r.wc.get(n);return void 0!==i?Mh.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,ju(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Ea.min(),n?o:Bc())})).next((function(t){return{documents:t,Pc:o}}))}))}function Rl(t,e){var n=Qs(t),r=Qs(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Ll(t){var e=Qs(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Qs(t),i=Mc(),o=Af(n),s=ll(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:uf.readTimeIndex,range:a},(function(t,e){var n=Tf(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Sf(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs,r=t.readTime;return e.Ec=r,n}))}function Ml(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){return[2,(e=Qs(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ll(t),n=Ea.min();return e.ls({index:uf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Sf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jl=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return Mh.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:ch(n.createTime)}),Mh.resolve()},t.prototype.Bs=function(t,e){return Mh.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:xf(t.bundledQuery),readTime:ch(t.readTime)}}(e)),Mh.resolve()},t}(),Vl=function(){function t(){this.Sc=new Pc(Ul.Dc),this.Cc=new Pc(Ul.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Ul(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new Ul(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Na(new _a([])),r=new Ul(n,t),i=new Ul(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Na(new _a([])),n=new Ul(e,t),r=new Ul(e,t+1),i=Bc();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Ul(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Ul=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Na.J(t.key,e.key)||ea(t.$c,e.$c)},t.xc=function(t,e){return ea(t.$c,e.$c)||Na.J(t.key,e.key)},t}(),Fl=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Pc(Ul.Dc)}return t.prototype.Pi=function(t){return Mh.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new wf(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Ul(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return Mh.resolve(o)},t.prototype.gi=function(t,e){return Mh.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return Mh.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.bi=function(){return Mh.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return Mh.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Ul(e,0),i=new Ul(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Mh.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Pc(ea);return e.forEach((function(t){var e=new Ul(t,0),i=new Ul(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Mh.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Na.Et(i)||(i=i.child(""));var o=new Ul(new Na(i),0),s=new Pc(ea);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Mh.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;Ys(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Mh.forEach(e.mutations,(function(i){var o=new Ul(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Ul(e,0),r=this.qc.Pe(n);return Mh.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return this.Ho.length,Mh.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),ql=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Dc(Na.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return Mh.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=jc();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),Mh.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Uc(),i=new Na(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.key,u=s.value,c=u._i,h=u.readTime;if(!e.path.st(a.path))break;h.u(n)<=0||c instanceof ou&&Bu(e,c)&&(r=r.Ht(c.key,c))}return Mh.resolve(r)},t.prototype.Gc=function(t,e){return Mh.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Bl(this)},t.prototype.Lr=function(t){return Mh.resolve(this.size)},t}(),Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Fs(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),Mh.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(Hf),$l=function(){function t(t){this.persistence=t,this.zc=new $f((function(t){return hu(t)}),fu),this.lastRemoteSnapshotVersion=Ea.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Vl,this.targetCount=0,this.Yc=Qf.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Mh.resolve()},t.prototype.Wi=function(t){return Mh.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Mh.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Mh.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Mh.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Qf(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Mh.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),Mh.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Mh.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),Mh.$n(o).next((function(){return i}))},t.prototype.er=function(t){return Mh.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return Mh.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Mh.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Mh.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),Mh.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return Mh.resolve(n)},t.prototype.Mi=function(t,e){return Mh.resolve(this.Jc.Mi(e))},t}(),Hl=function(){function t(t,e){var n=this;this.Xc={},this.ro=new wa(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new $l(this),this.Ii=new Mf,this.Eo=function(t,e){return new ql(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new Ef(e),this.To=new jl(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Fl(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;zs("MemoryPersistence","Starting transaction:",t);var i=new Kl(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return Mh.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),Kl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Fs(e,t),e}(Jh),zl=function(){function t(t){this.persistence=t,this.sa=new Vl,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Xs()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Mh.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Mh.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Mh.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return Mh.forEach(this.oa,(function(r){var i=Na.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Mh.Bn([function(){return Mh.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gl(t,e){return"firestore_clients_"+t+"_"+e}function Wl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Jl(t,e){return"firestore_targets_"+t+"_"+e}var Xl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new sa(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Gs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new sa(r.error.code,r.error.message)),i?new t(e,r.state,o):(Gs("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ql=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hc(),s=0;i&&s<r.activeTargetIds.length;++s)i=qa(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Gs("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Gs("SharedClientState","Failed to parse online state: "+e),null)},t}(),tp=function(){function t(){this.activeTargetIds=Hc()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ep=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Dc(ea),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Gl(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new tp),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return qs(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,f=this;return Bs(this,(function(l){switch(l.label){case 0:return[4,this.fa.Ko()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Gl(this.persistenceKey,r)))&&(o=Ql.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)h=c[u],this.Ea(h);return this.Ia=[],this.window.addEventListener("unload",(function(){return f.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Jl(this.persistenceKey,t));if(n){var r=Yl.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Jl(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Gs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return qs(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Bs(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=wa.U;if(null!=t)try{var n=JSON.parse(t);Ys("number"==typeof n),e=n}catch(t){Gs("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wa.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Xl(this.currentUser,t,e,n),i=Wl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Wl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=Jl(this.persistenceKey,t),i=new Yl(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Ql.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xl.aa(new da(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Yl.aa(r,e)},t.prototype.ba=function(t){return Zl.aa(t)},t.prototype.Xa=function(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(zs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Hc();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),np=function(){function t(){this.ru=new tp,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new tp,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),rp=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),ip=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){zs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){zs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),op={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sp=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ap=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Fs(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Vs;s.listenOnce(Ps.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case xs.NO_ERROR:var e=s.getResponseJson();zs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xs.TIMEOUT:zs("Connection",'RPC "'+t+'" timed out'),o(new sa(oa.DEADLINE_EXCEEDED,"Request time out"));break;case xs.HTTP_ERROR:var n=s.getStatus();if(zs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(oa).indexOf(e)>=0?e:oa.UNKNOWN}(r.status);o(new sa(a,r.message))}else o(new sa(oa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new sa(oa.UNAVAILABLE,"Connection failed."));break;default:Xs()}}finally{zs("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ns,i=ki(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())||"object"==typeof navigator&&"ReactNative"===navigator.product||Me().indexOf("Electron/")>=0||function(){var t=Me();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Me().indexOf("MSAppHost/")>=0||Ve()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");zs("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,h=new sp({du:function(t){c?zs("Connection","Not sending because WebChannel is closed:",t):(u||(zs("Connection","Opening WebChannel transport."),a.open(),u=!0),zs("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a,js.EventType.OPEN,(function(){c||zs("Connection","WebChannel transport opened.")})),f(a,js.EventType.CLOSE,(function(){c||(c=!0,zs("Connection","WebChannel transport closed"),h.Pu())})),f(a,js.EventType.ERROR,(function(t){c||(c=!0,Ws("Connection","WebChannel transport errored:",t),h.Pu(new sa(oa.UNAVAILABLE,"The operation could not be completed")))})),f(a,js.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ys(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){zs("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Tc[t];if(void 0!==e)return Oc(e)}(o),u=i.message;void 0===s&&(s=oa.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,h.Pu(new sa(s,u)),a.close()}else zs("Connection","WebChannel received:",n),h.yu(n)}})),f(i,Rs.STAT_EVENT,(function(t){t.stat===Ls?zs("Connection","Detected buffering proxy"):t.stat===Ms&&zs("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ru()}),0),h},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);zs("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return zs("RestConnection","Received: ",t),t}),(function(e){throw Ws("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=op[t];return this.Vu+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function up(){return"undefined"!=typeof window?window:null}function cp(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hp(t){return new oh(t,!0)}var fp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&zs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),lp=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new fp(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return qs(this,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return qs(this,void 0,void 0,(function(){return Bs(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return qs(this,void 0,void 0,(function(){return Bs(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===oa.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===oa.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new sa(oa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return qs(t,void 0,void 0,(function(){return Bs(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return zs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(zs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),pp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Fs(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xs()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Ys(void 0===e||"string"==typeof e),ia.fromBase64String(e||"")):(Ys(void 0===e||e instanceof Uint8Array),ia.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?oa.UNKNOWN:Oc(t.code);return new sa(e,t.message||"")}(a);n=new Qc(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ph(t,r.document.name),o=ch(r.document.updateTime);var a=new eu({mapValue:{fields:r.document.fields}}),u=(s=new ou(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new Xc(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ph(t,r.document),o=r.readTime?ch(r.readTime):Ea.min(),a=new su(i,o),s=r.removedTargetIds||[],n=new Xc([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ph(t,r.document),o=r.removedTargetIds||[],n=new Xc([],o,i,null);else{if(!("filter"in e))return Xs();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Nc(r),o=h.targetId,n=new Yc(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ea.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ea.min():e.readTime?ch(e.readTime):Ea.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=yh(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=lu(r)?{documents:Ih(t,r)}:{query:Eh(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=ah(t,e.resumeToken):e.Mt.u(Ea.min())>0&&(n.readTime=sh(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xs()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=yh(this.Kt),e.removeTarget=t,this.eh(e)},e}(lp),dp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Fs(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ys(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ys(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ch(t.updateTime):ch(e);n.isEqual(Ea.min())&&(n=ch(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new uc(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ch(t.commitTime);return this.listener.wh(n,e)}return Ys(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=yh(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return bh(e.Kt,t)}))};this.eh(n)},e}(lp),vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Fs(e,t),e.prototype.mh=function(){if(this.Ih)throw new sa(oa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===oa.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===oa.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),yp=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Gs(e),this.Ph=!1):zs("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),mp=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return qs(o,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return Sp(this)?(zs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return(e=Qs(t)).Fh.add(4),[4,bp(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,gp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new yp(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gp(t){return qs(this,void 0,void 0,(function(){var e,n;return Bs(this,(function(r){switch(r.label){case 0:if(!Sp(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bp(t){return qs(this,void 0,void 0,(function(){var e,n;return Bs(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wp(t,e){var n=Qs(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Ap(n)?_p(n):qp(n).Ju()&&Ep(n,e))}function Ip(t,e){var n=Qs(t),r=qp(n);n.Nh.delete(e),r.Ju()&&Tp(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Sp(n)&&n.Mh.set("Unknown"))}function Ep(t,e){t.Lh.cn(e.targetId),qp(t).hh(e)}function Tp(t,e){t.Lh.cn(e),qp(t).lh(e)}function _p(t){t.Lh=new th({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),qp(t).start(),t.Mh.yh()}function Ap(t){return Sp(t)&&!qp(t).Hu()&&t.Nh.size>0}function Sp(t){return 0===Qs(t).Fh.size}function Np(t){t.Lh=void 0}function kp(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){return t.Nh.forEach((function(e,n){Ep(t,e)})),[2]}))}))}function Op(t,e){return qs(this,void 0,void 0,(function(){return Bs(this,(function(n){return Np(t),Ap(t)?(t.Mh.ph(e),_p(t)):t.Mh.set("Unknown"),[2]}))}))}function Dp(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o;return Bs(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Qc&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o;return Bs(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),zs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Xc?t.Lh.wn(e):e instanceof Yc?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ea.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,kl(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(ia.h,n.Mt)),Tp(t,e);var r=new Ku(n.target,e,1,n.sequenceNumber);Ep(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return zs("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Cp(t,e,n){return qs(this,void 0,void 0,(function(){var r=this;return Bs(this,(function(i){switch(i.label){case 0:if(!qh(e))throw e;return t.Fh.add(1),[4,bp(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return kl(t.Sh)}),t.fs.vo((function(){return qs(r,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return zs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,gp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function xp(t,e){return e().catch((function(n){return Cp(t,n,e)}))}function Pp(t){return qs(this,void 0,void 0,(function(){var e,n,r,i,o;return Bs(this,(function(s){switch(s.label){case 0:e=Qs(t),n=Bp(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Sp(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Dl(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Bp(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Rp(e)&&Lp(e),[2]}}))}))}function Rp(t){return Sp(t)&&!Bp(t).Hu()&&t.xh.length>0}function Lp(t){Bp(t).start()}function Mp(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){return Bp(t).Th(),[2]}))}))}function jp(t){return qs(this,void 0,void 0,(function(){var e,n,r,i;return Bs(this,(function(o){for(e=Bp(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function Vp(t,e,n){return qs(this,void 0,void 0,(function(){var r,i;return Bs(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=If.from(r,e,n),[4,xp(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Pp(t)];case 2:return o.sent(),[2]}}))}))}function Up(t,e){return qs(this,void 0,void 0,(function(){return Bs(this,(function(n){switch(n.label){case 0:return e&&Bp(t).fh?[4,function(t,e){return qs(this,void 0,void 0,(function(){var n,r;return Bs(this,(function(i){switch(i.label){case 0:return kc(r=e.code)&&r!==oa.ABORTED?(n=t.xh.shift(),Bp(t).Xu(),[4,xp(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Pp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Rp(t)&&Lp(t),[2]}}))}))}function Fp(t,e){return qs(this,void 0,void 0,(function(){var n;return Bs(this,(function(r){switch(r.label){case 0:return n=Qs(t),e?(n.Fh.delete(2),[4,gp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,bp(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function qp(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Qs(t);return r.mh(),new pp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:kp.bind(null,t),Iu:Op.bind(null,t),uh:Dp.bind(null,t)}),t.Oh.push((function(n){return qs(e,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Ap(t)?_p(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Np(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Bp(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Qs(t);return r.mh(),new dp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Mp.bind(null,t),Iu:Up.bind(null,t),Eh:jp.bind(null,t),wh:Vp.bind(null,t)}),t.Oh.push((function(n){return qs(e,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Pp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(zs("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var $p=function(){this.Wh=void 0,this.listeners=[]},Hp=function(){this.queries=new $f((function(t){return Fu(t)}),Uu),this.onlineState="Unknown",this.jh=new Set};function Kp(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Bs(this,(function(c){switch(c.label){case 0:if(n=Qs(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new $p),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Gh(a,"Initialization of query '"+qu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Jp(n),[2]}}))}))}function zp(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s;return Bs(this,(function(a){return n=Qs(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Gp(t,e){for(var n=Qs(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hh(s)&&(r=!0);u.Wh=s}}r&&Jp(n)}function Wp(t,e,n){var r=Qs(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Jp(t){t.jh.forEach((function(t){t.next()}))}var Xp=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Gc(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Gc.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Yp=function(t){this.key=t},Qp=function(t){this.key=t},Zp=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Bc(),this.Ce=Bc(),this.ll=$u(t),this._l=new Kc(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new zc,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Cu(this.query)&&i.size===this.query.limit?i.last():null,c=xu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var h=i.get(t),f=e instanceof ou?e:null;f&&(f=Bu(n.query,f)?f:null);var l=!!h&&n.Ce.has(h.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.El(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.ll(f,u)>0||c&&n.ll(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Cu(this.query)||xu(this.query))for(;s.size>this.query.limit;){var h=Cu(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xs()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Gc(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new zc,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Bc(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Qp(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Yp(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Bc();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return Gc.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),td=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ed=function(t){this.key=t,this.yl=!1},nd=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new $f((function(t){return Fu(t)}),Uu),this.Dl=new Map,this.Cl=[],this.xl=new Dc(Na.J),this.Nl=new Map,this.Fl=new Vl,this.Ol={},this.kl=new Map,this.Ml=Qf.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function rd(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Bs(this,(function(u){switch(u.label){case 0:return n=xd(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Cl(n.Sh,ju(e))];case 2:return s=u.sent(),a=n.pl.ka(s.targetId),r=s.targetId,[4,id(n,e,r,"current"===a)];case 3:i=u.sent(),n.$l&&wp(n.gl,s),u.label=4;case 4:return[2,i]}}))}))}function id(t,e,n,r){return qs(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Bs(this,(function(h){switch(h.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return qs(this,void 0,void 0,(function(){var i,o,s;return Bs(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Pl(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(md(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,Pl(t.Sh,e,!0)];case 1:return i=h.sent(),o=new Zp(e,i.Pc),s=o.dl(i.documents),a=Jc.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),md(t,n,u.ml),c=new td(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function od(t,e){return qs(this,void 0,void 0,(function(){var n,r,i;return Bs(this,(function(o){switch(o.label){case 0:return n=Qs(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Uu(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,xl(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Ip(n.gl,r.targetId),vd(n,r.targetId)})).catch(Bf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return vd(n,r.targetId),[4,xl(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function sd(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s;return Bs(this,(function(a){switch(a.label){case 0:r=Pd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Qs(t),i=Ia.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Bc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=dc(c,n.get(c.key));null!=h&&s.push(new gc(c.key,h,ru(h.proto.mapValue),cc.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Dc(ea)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,wd(r,i.ci)];case 3:return a.sent(),[4,Pp(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Gh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ad(t,e){return qs(this,void 0,void 0,(function(){var n,r;return Bs(this,(function(i){switch(i.label){case 0:n=Qs(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ol(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Ys(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ys(r.yl):t.Ke.size>0&&(Ys(r.yl),r.yl=!1))})),[4,wd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Bf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ud(t,e,n){var r=Qs(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Qs(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Jp(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function cd(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Bs(this,(function(c){switch(c.label){case 0:return(r=Qs(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Dc(Na.J)).Ht(o,new su(o,Ea.min())),a=Bc().add(o),u=new Wc(Ea.min(),new Map,new Pc(ea),s,a),[4,ad(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),bd(r),[3,4];case 2:return[4,xl(r.Sh,e,!1).then((function(){return vd(r,e,n)})).catch(Bf)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function hd(t,e){return qs(this,void 0,void 0,(function(){var n,r,i;return Bs(this,(function(o){switch(o.label){case 0:n=Qs(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nl(n.Sh,e)];case 2:return i=o.sent(),dd(n,r,null),pd(n,r),n.pl.Fa(r,"acknowledged"),[4,wd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function fd(t,e,n){return qs(this,void 0,void 0,(function(){var r,i;return Bs(this,(function(o){switch(o.label){case 0:r=Qs(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Qs(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return Ys(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),dd(r,e,n),pd(r,e),r.pl.Fa(e,"rejected",n),[4,wd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ld(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s;return Bs(this,(function(a){switch(a.label){case 0:Sp((n=Qs(t)).gl)||zs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Qs(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Gh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function pd(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function dd(t,e,n){var r=Qs(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function vd(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||yd(t,e)}))}function yd(t,e){var n=t.xl.get(e);null!==n&&(Ip(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),bd(t))}function md(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yp?(t.Fl.ir(o.key,e),gd(t,o)):o instanceof Qp?(zs("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||yd(t,o.key)):Xs()}}function gd(t,e){var n=e.key;t.xl.get(n)||(zs("SyncEngine","New document in limbo: "+n),t.Cl.push(n),bd(t))}function bd(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new ed(e)),t.xl=t.xl.Ht(e,n),wp(t.gl,new Ku(ju(Du(e.path)),n,2,wa.U))}}function wd(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s;return Bs(this,(function(a){switch(a.label){case 0:return r=Qs(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=El.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return Bs(this,(function(f){switch(f.label){case 0:n=Qs(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Mh.forEach(e,(function(e){return Mh.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return Mh.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!qh(r=f.sent()))throw r;return zs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.dc.get(a),c=u.Mt,h=u.Bt(c),n.dc=n.dc.Ht(a,h));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Id(t,e){return qs(this,void 0,void 0,(function(){var n,r;return Bs(this,(function(i){switch(i.label){case 0:return(n=Qs(t)).currentUser.isEqual(e)?[3,3]:(zs("SyncEngine","User change. New user:",e.R()),[4,Sl(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new sa(oa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,wd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ed(t,e){var n=Qs(t),r=n.Nl.get(e);if(r&&r.yl)return Bc().add(r.key);var i=Bc(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function Td(t,e){return qs(this,void 0,void 0,(function(){var n,r,i;return Bs(this,(function(o){switch(o.label){case 0:return[4,Pl((n=Qs(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&md(n,e.targetId,i.ml),i)]}}))}))}function _d(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){return[2,Ll((e=Qs(t)).Sh).then((function(t){return wd(e,t)}))]}))}))}function Ad(t,e,n,r){return qs(this,void 0,void 0,(function(){var i,o;return Bs(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Qs(t),r=Qs(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Mh.resolve(null)}))}))}((i=Qs(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Pp(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(dd(i,e,r||null),pd(i,e),function(t,e){Qs(Qs(t).Ho).Fi(e)}(i.Sh,e)):Xs(),s.label=4;case 4:return[4,wd(i,o)];case 5:return s.sent(),[3,7];case 6:zs("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Sd(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Bs(this,(function(h){switch(h.label){case 0:return xd(n=Qs(t)),Pd(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Nd(n,r.rt())]);case 1:return i=h.sent(),n.Ll=!0,[4,Fp(n.gl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],wp(n.gl,a);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):c=c.then((function(){return vd(n,e),xl(n.Sh,e,!0)})),Ip(n.gl,e)})),[4,c]);case 4:return h.sent(),[4,Nd(n,u)];case 5:return h.sent(),function(t){var e=Qs(t);e.Nl.forEach((function(t,n){Ip(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Dc(Na.J)}(n),n.Ll=!1,[4,Fp(n.gl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Nd(t,e,n){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,f,l,p,d,v;return Bs(this,(function(y){switch(y.label){case 0:n=Qs(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Dl.get(a))&&0!==c.length?[4,Cl(n.Sh,ju(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.Sl.get(l),[4,Td(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Rl(n.Sh,a)];case 8:return v=y.sent(),[4,Cl(n.Sh,v)];case 9:return u=y.sent(),[4,id(n,kd(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function kd(t){return Ou(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Od(t){var e=Qs(t);return Qs(Qs(e.Sh).persistence).Ko()}function Dd(t,e,n,r){return qs(this,void 0,void 0,(function(){var i,o,s;return Bs(this,(function(a){switch(a.label){case 0:return(i=Qs(t)).Ll?(zs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ll(i.Sh)];case 3:return o=a.sent(),s=Wc.$e(e,"current"===n),[4,wd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,xl(i.Sh,e,!0)];case 6:return a.sent(),vd(i,e,r),[3,8];case 7:Xs(),a.label=8;case 8:return[2]}}))}))}function Cd(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,f,l;return Bs(this,(function(p){switch(p.label){case 0:if(!(r=xd(t)).Ll)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Dl.has(s)?(zs("SyncEngine","Adding an already active target "+s),[3,5]):[4,Rl(r.Sh,s)]):[3,6];case 2:return a=p.sent(),[4,Cl(r.Sh,a)];case 3:return u=p.sent(),[4,id(r,kd(a),u.targetId,!1)];case 4:p.sent(),wp(r.gl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Bs(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,xl(r.Sh,t,!1).then((function(){Ip(r.gl,t),vd(r,t)})).catch(Bf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function xd(t){var e=Qs(t);return e.gl.Ch.Bh=ad.bind(null,e),e.gl.Ch.Sn=Ed.bind(null,e),e.gl.Ch.$h=cd.bind(null,e),e.vl.uh=Gp.bind(null,e.Vl),e.vl.ql=Wp.bind(null,e.Vl),e}function Pd(t){var e=Qs(t);return e.gl.Ch.qh=hd.bind(null,e),e.gl.Ch.Uh=fd.bind(null,e),e}var Rd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return this.Kt=hp(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Al(this.persistence,new Tl,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Hl(zl.ra,this.Kt)},t.prototype.jl=function(t){return new np},t.prototype.terminate=function(){return qs(this,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),Ld=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Fs(e,t),e.prototype.initialize=function(e){return qs(this,void 0,void 0,(function(){return Bs(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ml(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Pd(this.Xl.fa)];case 4:return n.sent(),[4,Pp(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Al(this.persistence,new Tl,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new ol(e,t.fs)},e.prototype.Gl=function(t){var e=wl(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?qf.Zs(this.cacheSizeBytes):qf.ni;return new ml(this.synchronizeTabs,e,t.clientId,n,t.fs,up(),cp(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new np},e}(Rd),Md=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Fs(e,t),e.prototype.initialize=function(e){return qs(this,void 0,void 0,(function(){var n,r=this;return Bs(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof ep?(this.pl.fa={nu:Ad.bind(null,n),su:Dd.bind(null,n),iu:Cd.bind(null,n),Ko:Od.bind(null,n),eu:_d.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return qs(r,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return[4,Sd(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=up();if(!ep.Wn(e))throw new sa(oa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wl(t.gu.T,t.gu.persistenceKey);return new ep(e,t.fs,n,t.clientId,t.Yl)},e}(Ld),jd=function(){function t(){}return t.prototype.initialize=function(t,e){return qs(this,void 0,void 0,(function(){var n=this;return Bs(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return ud(n.fa,t,1)},this.gl.Ch.s_=Id.bind(null,this.fa),[4,Fp(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Hp},t.prototype.Zl=function(t){var e,n=hp(t.gu.T),r=(e=t.gu,new ap(e));return function(t,e,n){return new vp(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return ud(s.fa,t,0)},o=ip.Wn()?new ip:new rp,new mp(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new nd(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return e=Qs(t),zs("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,bp(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Vd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ud=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new sa(oa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Sa(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),Fd=function(t){this._methodName=t};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function qd(t,e,n){if(!n)throw new sa(oa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Bd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sa(oa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $d(t,e,n,r){if(!0===e&&!0===r)throw new sa(oa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hd(t){if(!Na.Et(t))throw new sa(oa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Kd(t){if(Na.Et(t))throw new sa(oa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xs()}function Gd(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new sa(oa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zd(t);throw new sa(oa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Wd(t,e){if(e<=0)throw new sa(oa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new sa(oa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sa(oa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,$d("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xd=new Map,Yd=function(){function t(t,e){this.w_="(lite)",this.E_=new Jd({}),this.T_=!1,t instanceof pa?(this.I_=t,this.m_=new ya):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new sa(oa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(t.options.projectId)}(t),this.m_=new ma(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new sa(oa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new sa(oa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Jd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ya;switch(t.type){case"gapi":var e=t.client;return Ys(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ba(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new sa(oa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Xd.get(this))&&(zs("ComponentProvider","Removing Datastore"),Xd.delete(this),t.terminate()),Promise.resolve();var t},t}(),Qd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tv(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Zd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Du(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Fs(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Qd(this.firestore,null,new Na(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Zd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ev(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ua&&(t=t._),qd("collection","path",e),t instanceof Yd)return Kd(n=_a.ct.apply(_a,$s([e],r))),new tv(t,null,n);if(!(t instanceof Qd||t instanceof tv))throw new sa(oa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kd(n=_a.ct.apply(_a,$s([t.path],r)).child(_a.ct(e))),new tv(t.firestore,null,n)}function nv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ua&&(t=t._),1===arguments.length&&(e=ta.t()),qd("doc","path",e),t instanceof Yd)return Hd(n=_a.ct.apply(_a,$s([e],r))),new Qd(t,null,new Na(n));if(!(t instanceof Qd||t instanceof tv))throw new sa(oa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hd(n=t.D_.child(_a.ct.apply(_a,$s([e],r)))),new Qd(t.firestore,t instanceof tv?t.v_:null,new Na(n))}function rv(t,e){return t instanceof ua&&(t=t._),e instanceof ua&&(e=e._),(t instanceof Qd||t instanceof tv)&&(e instanceof Qd||e instanceof tv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function iv(t,e){return t instanceof ua&&(t=t._),e instanceof ua&&(e=e._),t instanceof Zd&&e instanceof Zd&&t.firestore===e.firestore&&Uu(t.C_,e.C_)&&t.v_===e.v_
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ov=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new sa(oa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new sa(oa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return ea(this.x_,t.x_)||ea(this.N_,t.N_)},t}(),sv=/^__.*__$/,av=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new gc(t,this.data,this.zt,e,this.fieldTransforms):new mc(t,this.data,e,this.fieldTransforms)},t}(),uv=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new gc(t,this.data,this.zt,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function cv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xs()}}var hv=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Dv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(cv(this.k_)&&sv.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),fv=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||hp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new hv({k_:t,methodName:e,j_:n,path:Sa.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function lv(t){var e=t.p_(),n=hp(t.I_);return new fv(t.I_,!!e.ignoreUndefinedProperties,n)}function pv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",s,r);var a,u,c=_v(r,s);if(o.merge)a=new Ca(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Nv(e,l[f],n);if(!s.contains(p))throw new sa(oa.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Cv(h,p)||h.push(p)}a=new Ca(h),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new av(new eu(c),a,u)}var dv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Fd);function vv(t,e,n){return new hv({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.z_=function(t){return new ac(t.path,new Zu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Fd),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Fs(e,t),e.prototype.z_=function(t){var e=vv(this,t,!0),n=this.H_.map((function(t){return Tv(t,e)})),r=new tc(n);return new ac(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fd),gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Fs(e,t),e.prototype.z_=function(t){var e=vv(this,t,!0),n=this.H_.map((function(t){return Tv(t,e)})),r=new nc(n);return new ac(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fd),bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Fs(e,t),e.prototype.z_=function(t){var e=new ic(t.Kt,Wu(t.Kt,this.J_));return new ac(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Fd);function wv(t,e,n,r){var i=t.G_(1,e,n);Sv("Data must be an object, but it was:",i,r);var o=[],s=new nu;Oa(r,(function(t,r){var a=Ov(e,t,n);r instanceof ua&&(r=r._);var u=i.U_(a);if(r instanceof dv)o.push(a);else{var c=Tv(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Ca(o);return new uv(s.yt(),a,i.fieldTransforms)}function Iv(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Nv(e,r,n)],u=[i];if(o.length%2!=0)throw new sa(oa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Nv(e,o[c])),u.push(o[c+1]);for(var h=[],f=new nu,l=a.length-1;l>=0;--l)if(!Cv(h,a[l])){var p=a[l],d=u[l];d instanceof ua&&(d=d._);var v=s.U_(p);if(d instanceof dv)h.push(p);else{var y=Tv(d,v);null!=y&&(h.push(p),f.set(p,y))}}var m=new Ca(h);return new uv(f.yt(),m,s.fieldTransforms)}function Ev(t,e,n,r){return void 0===r&&(r=!1),Tv(n,t.G_(r?4:3,e))}function Tv(t,e){if(t instanceof ua&&(t=t._),Av(t))return Sv("Unsupported field value:",e,t),_v(t,e);if(t instanceof Fd)return function(t,e){if(!cv(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Tv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ua&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wu(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ia.fromDate(t);return{timestampValue:sh(e.Kt,n)}}if(t instanceof Ia)return n=new Ia(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:sh(e.Kt,n)};if(t instanceof ov)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof aa)return{bytesValue:ah(e.Kt,t.l)};if(t instanceof Qd){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:hh(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+zd(t))}(t,e)}function _v(t,e){var n={};return Da(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Oa(t,(function(t,r){var i=Tv(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Av(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ia||t instanceof ov||t instanceof aa||t instanceof Qd||t instanceof Fd)}function Sv(t,e,n){if(!Av(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zd(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Nv(t,e,n){if(e instanceof ua&&(e=e._),e instanceof Ud)return e.d_;if("string"==typeof e)return Ov(t,e);throw Dv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kv=new RegExp("[~\\*/\\[\\]]");function Ov(t,e,n){if(e.search(kv)>=0)throw Dv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ud.bind.apply(Ud,$s([void 0],e.split("."))))).d_}catch(r){throw Dv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Dv(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new sa(oa.INVALID_ARGUMENT,(a+=". ")+t+u)}function Cv(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return qs(this,void 0,void 0,(function(){var e,n=this;return Bs(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new sa(oa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return qs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Bs(this,(function(u){switch(u.label){case 0:return n=Qs(t),r=yh(n.Kt)+"/documents",i={documents:e.map((function(t){return lh(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ys(!!e.found),e.found.name,e.found.updateTime;var n=ph(t,e.found.name),r=ch(e.found.updateTime),i=new eu({mapValue:{fields:e.found.fields}});return new ou(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ys(!!e.missing),Ys(!!e.readTime);var n=ph(t,e.missing),r=ch(e.readTime);return new su(n,r)}(t,e):Xs()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Ys(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof su||t instanceof ou?n.sf(t):Xs()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ac(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return qs(this,void 0,void 0,(function(){var t,e=this;return Bs(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Na.ft(n);e.mutations.push(new Sc(r,e.Gt(r)))})),[4,function(t,e){return qs(this,void 0,void 0,(function(){var n,r,i;return Bs(this,(function(o){switch(o.label){case 0:return n=Qs(t),r=yh(n.Kt)+"/documents",i={writes:e.map((function(t){return bh(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof ou)e=t.version;else{if(!(t instanceof su))throw Xs();e=Ea.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new sa(oa.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?cc.updateTime(e):cc.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ea.min()))throw new sa(oa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cc.updateTime(e)}return cc.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Pv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new fp(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return qs(t,void 0,void 0,(function(){var t,e,n=this;return Bs(this,(function(r){return t=new xv(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ua(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!kc(e)}return!1},t}(),Rv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=da.UNAUTHENTICATED,this.clientId=ta.t(),this._f=function(){},this.N=new Lh,this.credentials.S((function(t){zs("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return qs(this,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new sa(oa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Lh;return this.fs.Tf((function(){return qs(t,void 0,void 0,(function(){var t,n;return Bs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Gh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Lv(t,e){return qs(this,void 0,void 0,(function(){var n,r,i=this;return Bs(this,(function(o){switch(o.label){case 0:return t.fs.Af(),zs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return qs(i,void 0,void 0,(function(){return Bs(this,(function(t){switch(t.label){case 0:return[4,Sl(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Mv(t,e){return qs(this,void 0,void 0,(function(){var n,r;return Bs(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,jv(t)];case 1:return n=i.sent(),zs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return qs(this,void 0,void 0,(function(){var n,r;return Bs(this,(function(i){switch(i.label){case 0:return(n=Qs(t)).fs.Af(),zs("RemoteStore","RemoteStore received new credentials"),r=Sp(n),n.Fh.add(3),[4,bp(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,gp(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function jv(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(zs("FirestoreClient","Using default OfflineComponentProvider"),[4,Lv(t,new Rd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Vv(t){return qs(this,void 0,void 0,(function(){return Bs(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(zs("FirestoreClient","Using default OnlineComponentProvider"),[4,Mv(t,new jd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Uv(t){return jv(t).then((function(t){return t.persistence}))}function Fv(t){return jv(t).then((function(t){return t.Sh}))}function qv(t){return Vv(t).then((function(t){return t.gl}))}function Bv(t){return Vv(t).then((function(t){return t.fa}))}function $v(t){return qs(this,void 0,void 0,(function(){var e,n;return Bs(this,(function(r){switch(r.label){case 0:return[4,Vv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=rd.bind(null,e.fa),n.Jh=od.bind(null,e.fa),n)]}}))}))}function Hv(t,e,n){var r=this;void 0===n&&(n={});var i=new Lh;return t.fs.ys((function(){return qs(r,void 0,void 0,(function(){var r;return Bs(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(o){e.ys((function(){return zp(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new sa(oa.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new sa(oa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Xp(Du(n.path),o,{includeMetadataChanges:!0,sl:!0});return Kp(t,s)},[4,$v(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Kv(t,e,n){var r=this;void 0===n&&(n={});var i=new Lh;return t.fs.ys((function(){return qs(r,void 0,void 0,(function(){var r;return Bs(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(n){e.ys((function(){return zp(t,s)})),n.fromCache&&"server"===r.source?i.reject(new sa(oa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Xp(n,o,{includeMetadataChanges:!0,sl:!0});return Kp(t,s)},[4,$v(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var zv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new fp(this,"async_queue_retry"),this.vf=function(){var e=cp();e&&zs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=cp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=cp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return qs(this,void 0,void 0,(function(){var t,e=this;return Bs(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!qh(t=n.sent()))throw t;return zs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Gs("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=zh.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Xs()},t.prototype.Af=function(){},t.prototype.Nf=function(){return qs(this,void 0,void 0,(function(){var t;return Bs(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new zv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Fs(e,t),e.prototype.b_=function(){return this.Lf||Jv(this),this.Lf.terminate()},e}(Yd);function Wv(t){return t.Lf||Jv(t),t.Lf.df(),t.Lf}function Jv(t){var e=t.p_(),n=function(t,e,n){return new la(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Rv(t.m_,t.Mf,n)}function Xv(t,e,n){var r=this,i=new Lh;return t.fs.enqueue((function(){return qs(r,void 0,void 0,(function(){var r;return Bs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Lv(t,n)];case 1:return o.sent(),[4,Mv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===oa.FAILED_PRECONDITION||t.code===oa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Yv(t){if(t.R_||t.P_)throw new sa(oa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ba(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ra(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(La(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Xs()}},t.prototype.jf=function(t,e){var n=this,r={};return Oa(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new ov(Ra(t.latitude),Ra(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=ja(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Va(t));default:return null}},t.prototype.Bf=function(t){var e=Pa(t);return new Ia(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=_a.ct(t);Ys(Rh(n));var r=new pa(n.get(1),n.get(3)),i=new Na(n.X(5));return r.isEqual(e)||Gs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Zv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qd(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new ty(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(ey("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Zv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ey(t,e){return"string"==typeof e?Ov(t,e):e instanceof ua?e._.d_:e.d_}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ny(t){if(xu(t)&&0===t.Nt.length)throw new sa(oa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ry=function(){};function iy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Fs(e,t),e.prototype.Yf=function(t){var e=lv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new sa(oa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ly(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var f=h[c];u.push(fy(r,t,f))}a={arrayValue:{values:u}}}else a=fy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ly(s,o),a=Ev(n,"where",s,"in"===o||"not-in"===o);var l=pu.create(i,o,a);return function(t,e){if(e.xt()){var n=Ru(t);if(null!==n&&!n.isEqual(e.field))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Pu(t);null!==r&&py(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new sa(oa.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new sa(oa.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Zd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ry),sy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Fs(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new sa(oa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new sa(oa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _u(e,n);return function(t,e){if(null===Pu(t)){var n=Ru(t);null!==n&&py(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Zd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ku(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ry),ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Fs(e,t),e.prototype.Yf=function(t){return new Zd(t.firestore,t.v_,Vu(t.C_,this.nd,this.sd))},e}(ry),uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Fs(e,t),e.prototype.Yf=function(t){var e=hy(t,this.type,this.rd,this.od);return new Zd(t.firestore,t.v_,function(t,e){return new ku(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ry),cy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Fs(e,t),e.prototype.Yf=function(t){var e=hy(t,this.type,this.rd,this.od);return new Zd(t.firestore,t.v_,function(t,e){return new ku(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ry);function hy(t,e,n,r){if(n[0]instanceof ua&&(n[0]=n[0]._),n[0]instanceof Zv)return function(t,e,n,r,i){if(!r)throw new sa(oa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Mu(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Ja(e,r.key));else{var c=r.field(u.field);if(Ma(c))throw new sa(oa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.ot();throw new sa(oa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Eu(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=lv(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new sa(oa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new sa(oa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Lu(t)&&-1!==c.indexOf("/"))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(_a.ct(c));if(!Na.Et(h))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Na(h);a.push(Ja(e,f))}else{var l=Ev(n,r,c);a.push(l)}}return new Eu(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function fy(t,e,n){if(n instanceof ua&&(n=n._),"string"==typeof n){if(""===n)throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lu(e)&&-1!==n.indexOf("/"))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(_a.ct(n));if(!Na.Et(r))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ja(t,new Na(r))}if(n instanceof Qd)return Ja(t,n.S_);throw new sa(oa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zd(n)+".")}function ly(t,e){if(!Array.isArray(t)||0===t.length)throw new sa(oa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new sa(oa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function py(t,e,n){if(!n.isEqual(e))throw new sa(oa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function vy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fs(e,t),e.prototype.Uf=function(t){return new aa(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Qd(this.firestore,null,e)},e}(Qv),my=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),gy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Fs(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new by(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(ey("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Zv),by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(gy),wy=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new my(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new by(n.zf,n.Hf,r.key,r,new my(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new sa(oa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new by(t.zf,t.Hf,e.doc.key,e.doc,new my(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new by(t.zf,t.Hf,e.doc.key,e.doc,new my(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Iy(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Iy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xs()}}function Ey(t,e){return t instanceof gy&&e instanceof gy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof wy&&e instanceof wy&&t.zf===e.zf&&iv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ty=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fs(e,t),e.prototype.Uf=function(t){return new aa(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Qd(this.firestore,null,e)},e}(Qv);function _y(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Gd(t,Qd);var o=Gd(t.firestore,Gv),s=lv(o);return e instanceof ua&&(e=e._),Sy(o,[("string"==typeof e||e instanceof Ud?Iv(s,"updateDoc",t.S_,e,n,r):wv(s,"updateDoc",t.S_,e)).F_(t.S_,cc.exists(!0))])}function Ay(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ua&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||dy(i[a])||(s=i[a],a++);var u,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(dy(i[a])){var l=i[a];i[a]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[a+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[a+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof Qd)c=Gd(t.firestore,Gv),h=Du(t.S_.path),u={next:function(e){i[a]&&i[a](Ny(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=Gd(t,Zd);c=Gd(p.firestore,Gv),h=p.C_;var d=new Ty(c);u={next:function(t){i[a]&&i[a](new wy(c,d,p,t))},error:i[a+1],complete:i[a+2]},ny(t.C_)}return function(t,e,n,r){var i=this,o=new Vd(r),s=new Xp(e,o,n);return t.fs.ys((function(){return qs(i,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return e=Kp,[4,$v(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return qs(i,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return e=zp,[4,$v(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Wv(c),h,f,u)}function Sy(t,e){return function(t,e){var n=this,r=new Lh;return t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var n;return Bs(this,(function(i){switch(i.label){case 0:return n=sd,[4,Bv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Wv(t),e)}function Ny(t,e,n){var r=n.docs.get(e.S_),i=new Ty(t);return new gy(t,i,e.S_,r,new my(n.hasPendingWrites,n.fromCache),e.v_)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ky=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=lv(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Oy(t,this.zf),i=vy(r.v_,e,n),o=pv(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,cc.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Oy(t,this.zf);return e instanceof ua&&(e=e._),o="string"==typeof e||e instanceof Ud?Iv(this.wd,"WriteBatch.update",s.S_,e,n,r):wv(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,cc.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Oy(t,this.zf);return this.fd=this.fd.concat(new Ac(e.S_,cc.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new sa(oa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Oy(t,e){if(t instanceof ua&&(t=t._),t.firestore!==e)throw new sa(oa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Fs(e,t),e.prototype.get=function(e){var n=this,r=Oy(e,this.zf),i=new Ty(this.zf);return t.prototype.get.call(this,e).then((function(t){return new gy(n.zf,i,r.S_,t.Jf,new my(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=lv(t)}return t.prototype.get=function(t){var e=this,n=Oy(t,this.zf),r=new yy(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Xs();var i=t[0];if(i instanceof su)return new Zv(e.zf,r,n.S_,null,n.v_);if(i instanceof ou)return new Zv(e.zf,r,i.key,i,n.v_);throw Xs()}))},t.prototype.set=function(t,e,n){var r=Oy(t,this.zf),i=vy(r.v_,e,n),o=pv(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Oy(t,this.zf);return e instanceof ua&&(e=e._),o="string"==typeof e||e instanceof Ud?Iv(this.wd,"Transaction.update",s.S_,e,n,r):wv(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Oy(t,this.zf);return this.Td.delete(e.S_),this},t}()),Cy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Yv(t=Gd(t,Gv));var n=Wv(t),r=t.p_(),i=new jd;return Xv(n,i,new Ld(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Yv(t=Gd(t,Gv));var e=Wv(t),n=t.p_(),r=new jd;return Xv(e,r,new Md(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new sa(oa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Lh;return t.Mf.Tf((function(){return qs(e,void 0,void 0,(function(){var e;return Bs(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return Vh.Wn()?(e=t+"main",[4,Vh.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(wl(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof pa||(i.md=e),i}return Fs(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return qs(e,void 0,void 0,(function(){var e,n;return Bs(this,(function(r){switch(r.label){case 0:return[4,Uv(t)];case 1:return e=r.sent(),[4,qv(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=Qs(t);return e.Fh.delete(0),gp(e)}(n))]}}))}))}))}(Wv(Gd(this._,Gv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return qs(e,void 0,void 0,(function(){var e,n;return Bs(this,(function(r){switch(r.label){case 0:return[4,Uv(t)];case 1:return e=r.sent(),[4,qv(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return qs(this,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return(e=Qs(t)).Fh.add(0),[4,bp(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Wv(Gd(this._,Gv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&$d("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Lh;return t.fs.ys((function(){return qs(e,void 0,void 0,(function(){var e;return Bs(this,(function(r){switch(r.label){case 0:return e=ld,[4,Bv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Wv(Gd(this._,Gv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vd(e);return t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return e=function(t,e){Qs(t).jh.add(e),e.next()},[4,$v(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var e;return Bs(this,(function(n){switch(n.label){case 0:return e=function(t,e){Qs(t).jh.delete(e)},[4,$v(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Wv(t=Gd(t,Gv)),dy(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new sa(oa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ky(this,ev(this._,t))}catch(t){throw jy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new My(this,nv(this._,t))}catch(t){throw jy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new By(this,function(t,e){if(t=Gd(t,Yd),qd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sa(oa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zd(t,null,function(t){return new ku(_a.at(),t)}(e))}(this._,t))}catch(t){throw jy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Lh;return t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var n;return Bs(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vv(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Pv(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Wv(t),(function(n){return e(new Dy(t,n))}))}(this._,(function(n){return t(new Ry(e,n))}))},e.prototype.batch=function(){var t=this;return Wv(this._),new Ly(new ky(this._,(function(e){return Sy(t._,e)})))},e.prototype.loadBundle=function(t){throw new sa(oa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new sa(oa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ua),Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Fs(e,t),e.prototype.Uf=function(t){return new fa(new aa(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return My.Ad(e,this.firestore,null)},e}(Qv);var Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Fs(e,t),e.prototype.get=function(t){var e=this,n=zy(t);return this._.get(n).then((function(t){return new Fy(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=zy(t);return n?(Bd("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,$s([s,e,n],i)),this},e.prototype.delete=function(t){var e=zy(t);return this._.delete(e),this},e}(ua),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.set=function(t,e,n){var r=zy(t);return n?(Bd("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zy(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,$s([s,e,n],i)),this},e.prototype.delete=function(t){var e=zy(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(ua),My=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Py(e),r}return Fs(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new sa(oa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Qd(n._,r,new Na(t)))},e.Ad=function(t,n,r){return new e(n,new Qd(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ky(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ky(this.firestore,ev(this._,t))}catch(t){throw jy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ua&&(t=t._),t instanceof Qd&&rv(this._,t)},e.prototype.set=function(t,e){e=Bd("DocumentReference.set",e);try{return function(t,e,n){t=Gd(t,Qd);var r=Gd(t.firestore,Gv),i=vy(t.v_,e,n);return Sy(r,[pv(lv(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,cc.Wt())])}(this._,t,e)}catch(t){throw jy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_y(this._,t):_y.apply(void 0,$s([this._,t,e],n))}catch(t){throw jy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sy(Gd((t=this._).firestore,Gv),[new Ac(t.S_,cc.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=Uy(e,(function(e){return new Fy(t.firestore,new gy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Ay(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gd(t,Qd);var e=Gd(t.firestore,Gv),n=Wv(e),r=new Ty(e);return function(t,e){var n=this,r=new Lh;return t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var n;return Bs(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return qs(this,void 0,void 0,(function(){var r,i;return Bs(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Qs(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof ou?n.resolve(i):i instanceof su?n.resolve(null):n.reject(new sa(oa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Gh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Fv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new gy(e,r,t.S_,n,new my(n instanceof ou&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Gd(t,Qd);var e=Gd(t.firestore,Gv);return Hv(Wv(e),t.S_,{source:"server"}).then((function(n){return Ny(e,t,n)}))}(this._):function(t){t=Gd(t,Qd);var e=Gd(t.firestore,Gv);return Hv(Wv(e),t.S_).then((function(n){return Ny(e,t,n)}))}(this._)).then((function(t){return new Fy(e.firestore,new gy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ua);function jy(t,e,n){return t.message=t.message.replace(e,n),t}function Vy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!dy(r))return r}return{}}function Uy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=dy(t[0])?t[0]:dy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Fy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Fs(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new My(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Ey(this._,t._)},e}(ua),qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Fy),By=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Py(e),r}return Fs(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,iy(this._,function(t,e,n){var r=e,i=ey("where",t);return new oy(i,r,n)}(t,n,r)))}catch(t){throw jy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,iy(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=ey("orderBy",t);return new sy(r,n)}(t,n)))}catch(t){throw jy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,iy(this._,function(t){return Wd("limit",t),new ay("limit",t,"F")}(t)))}catch(t){throw jy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,iy(this._,function(t){return Wd("limitToLast",t),new ay("limitToLast",t,"L")}(t)))}catch(t){throw jy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iy(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw jy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iy(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uy("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw jy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iy(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cy("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw jy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iy(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cy("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw jy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return iv(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gd(t,Zd);var e=Gd(t.firestore,Gv),n=Wv(e),r=new Ty(e);return function(t,e){var n=this,r=new Lh;return t.fs.ys((function(){return qs(n,void 0,void 0,(function(){var n;return Bs(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return qs(this,void 0,void 0,(function(){var r,i,o,s,a;return Bs(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Pl(t,e,!0)];case 1:return a=u.sent(),r=new Zp(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Gh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Fv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new wy(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Gd(t,Zd);var e=Gd(t.firestore,Gv),n=Wv(e),r=new Ty(e);return Kv(n,t.C_,{source:"server"}).then((function(n){return new wy(e,r,t,n)}))}(this._):function(t){t=Gd(t,Zd);var e=Gd(t.firestore,Gv),n=Wv(e),r=new Ty(e);return ny(t.C_),Kv(n,t.C_).then((function(n){return new wy(e,r,t,n)}))}(this._)).then((function(t){return new Hy(e.firestore,new wy(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=Uy(e,(function(e){return new Hy(t.firestore,new wy(t.firestore._,t.Hf,t._,e.ud))}));return Ay(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ua),$y=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Fs(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new qy(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(ua),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Fs(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new By(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new qy(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new $y(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new qy(n.zf,r))}))},e.prototype.isEqual=function(t){return Ey(this._,t._)},e}(ua),Ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Fs(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new My(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new My(this.firestore,void 0===t?nv(this._):nv(this._,t))}catch(t){throw jy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Gd(t.firestore,Gv),r=nv(t),i=vy(t.v_,e);return Sy(n,[pv(lv(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,cc.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new My(e.firestore,t)}))},e.prototype.isEqual=function(t){return rv(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(By);function zy(t){return t instanceof ua&&(t=t._),Gd(t,Qd)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gy,Wy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ud.bind.apply(Ud,$s([void 0],e))))||this}return Fs(e,t),e.documentId=function(){return new e(Sa.lt().ot())},e.prototype.isEqual=function(t){return t instanceof ua&&(t=t._),t instanceof Ud&&this._.d_.isEqual(t.d_)},e}(ua),Jy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fs(e,t),e.serverTimestamp=function(){var t=new yv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new dv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mv("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gv("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new bv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(ua),Xy={Firestore:xy,GeoPoint:ov,Timestamp:Ia,Blob:fa,Transaction:Ry,WriteBatch:Ly,DocumentReference:My,DocumentSnapshot:Fy,Query:By,QueryDocumentSnapshot:qy,QuerySnapshot:Hy,CollectionReference:Ky,FieldPath:Wy,FieldValue:Jy,setLogLevel:function(t){var e;e=t,Hs.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new nn("firestore",(function(t){return function(t,e){return new xy(t,new Gv(t,e),new Cy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Xy)))})(Gy=Cn),Gy.registerVersion("@firebase/firestore","2.1.1"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Pa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function l(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function _(t,e,n){this.code=N+t,this.message=e||k[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new _(e.substring(N.length),t.message,t.serverResponse):null}E(_,Error),_.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.w()};var S,N="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,E(x,Error),x.prototype.name="CustomError",E(P,x),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new F}),(function(t){t.reset()}));function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var $=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=q(t,e)}function G(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ct=ut.userAgent;if(ct){Y=ct;break t}}Y=""}function ht(t){return st(Y,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===It&&e||"",this.b=wt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===wt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,wt={},It={};function Et(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(t){s.console&&s.console.error(t.message)}bt=t}else bt=t}return bt}function Tt(t,e){this.a=e===kt?t:""}function _t(t){return t instanceof Tt&&t.constructor===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=gt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new Tt(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ot(t,e){this.a=e===Mt?t:""}function Dt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Ot(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new Ot(t,Mt):null}return t}function Lt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Mt))}var Mt={},jt=new Ot("about:invalid#zClosurez",Mt);function Vt(t,e,n){this.a=n===Ut?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Ft(t,e,n,r){return t=t instanceof Ot?t:Lt(t),e=e||s,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function $t(t){return $t[" "](t),t}$t[" "]=h;var Ht,Kt=ht("Opera"),zt=ht("Trident")||ht("MSIE"),Gt=ht("Edge"),Wt=Gt||zt,Jt=ht("Gecko")&&!(st(Y.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Xt=st(Y.toLowerCase(),"webkit")&&!ht("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Qt="",Zt=function(){var t=Y;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Gt?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Kt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Zt&&(Qt=Zt?Zt[1]:""),zt){var te=Yt();if(null!=te&&te>parseFloat(Qt)){Ht=String(te);break t}}Ht=Qt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Ht)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&zt){var ie=Yt();ee=ie||(parseInt(Ht,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var se=!zt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!l(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(ge)}}else he=function(){var t=ge;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ye||(he(),ye=!0),me.add(t,e)}var ye=!1,me=new j;function ge(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){de(t)}M(V,t)}ye=!1}function be(t,e){if(this.a=we,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,(function(t){Pe(n,Ie,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Pe(n,Ee,t)}))}catch(t){Pe(this,Ee,t)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new L((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof be)return t;var e=new be(h);return Pe(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Re(t,e,n,null)||ve(w(e,t))}function Oe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),je(n,i,Ee,e)))}t.c=null}else Pe(t,Ee,e)}function Ce(t,e){t.b||t.a!=Ie&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Ae(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Pe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Re(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Fe||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Re(t,e,n,r){if(t instanceof be)return Ce(t,Ae(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Le(t){t.i||(t.i=!0,ve(t.fc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(t){Ue.call(null,t)}M(_e,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).na=function(t,e){return(t=Ae(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Fe(t);ve((function(){De(this,e)}),this)}},t.Zc=function(t){this.a=we,Pe(this,Ie,t)},t.$c=function(t){this.a=we,Pe(this,Ee,t)},t.fc=function(){for(var t;t=Me(this);)je(this,t,this.a,this.h);this.i=!1};var Ue=de;function Fe(t){x.call(this,t)}function qe(){this.xa=this.xa,this.oa=this.oa}E(Fe,x),Fe.prototype.name="cancel";function Be(t){if(!t.xa&&(t.xa=!0,t.Da(),0))(function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)})(t)}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var $e=Object.freeze||function(t){return t},He=!zt||9<=Number(oe),Ke=zt&&!re("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function Ge(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(Ge.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{$t(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ge.prototype.preventDefault=function(){this.defaultPrevented=!0},E(We,Ge);var Je=$e({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},We.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ye,this.va=this.Oa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Qe(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?bn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=mn(n),t&&t[Xe]?wn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function fn(t){return t in on?on[t]:on[t]="on"+t}function ln(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&hn(t),n.call(r,e)}function dn(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=ln(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=ln(r[i],t,!1,e),n=n&&o}return n}return pn(t,new We(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function gn(){qe.call(this),this.v=new tn(this),this.$b=this,this.fb=null}function bn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&en(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Tn(t){var e=null;return new be((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function _n(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Sn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];kn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)kn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(gn,qe),gn.prototype[Xe]=!0,gn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},gn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},gn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Ge(t,n);else if(t instanceof Ge)t.target=t.target||n;else{var i=t;vt(t=new Ge(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},gn.prototype.Da=function(){if(gn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Sn.prototype).V=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Dn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,Rn(this,Zn(t.b)),this.i=t.i):t&&(n=String(t).match(On))?(this.h=!!e,xn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.c=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.i=Un(n[7]||"")):(this.h=!!e,this.b=new Gn(null,this.h))}function xn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Fn(e,Kn)),t.b=new Gn(e,t.h))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function jn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Vn(t,e,n,r){var i=new Dn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?Hn:$n,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fn(n,zn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.f;n?xn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Bn=/[#\/\?@]/g,$n=/[#\?:]/g,Hn=/[#\?]/g,Kn=/[#\?@]/g,zn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Sn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Wn(t),e=tr(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Yn(t,e){return Wn(t),e=tr(t,e),kn(t.a.b,e)}function Qn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),X(n)),t.b+=n.length)}function Zn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Sn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Wn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Wn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=J(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return zt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||jt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||s.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),_r(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Rt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Lt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ft("",r,n,s),t=Dt(e),s&&(Wt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Vt(t=(r=Et())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ft(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function mr(t){return t=t||Nr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return Cn.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Cn.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function _r(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?Er:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Ar={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=_r(i=Nr()):"Worker"===r&&(r=_r(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=s.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(t){return br()&&!!s.indexedDB}return!1}function Dr(){return(Cr()||"chrome-extension:"===xr()||mr())&&!Ir()&&Or()&&!br()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Pr(t){return!fr(t=t||Nr())&&_r(t)!=Er}function Rr(t){return void 0===t?null:er(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=_r(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function $r(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}Fr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Kr={};function zr(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Gr.abcd}catch(t){Hr=!1}function Wr(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Xr(t){var e={};return Jr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Yr(t[n]));return e}function Qr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ni]),Wr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(t){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Qr.call(this,t),Wr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[fi],i=t[li];if(t=Zr(t[hi]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[di]=n||null,e[yi]=n||null,e[pi]=r):(e[di]=r||null,e[yi]=r||null,e[pi]=n||null),e[vi]=t||null,Wr(this,gi,i),Wr(this,mi,Yr(e))}E(ii,Qr),ii.prototype.w=function(){var t=ii.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",fi="newEmail",li="requestType",pi="email",di="fromEmail",vi="multiFactorInfo",yi="previousEmail",mi="data",gi="operation";function bi(t){var e=Mn(t=jn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,_i)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new _("argument-error",wi+", "+Ii+"and "+_i+" are required in a valid action code URL.");Jr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,Ai)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",_i="mode",Ai="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new bi(t)}catch(t){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new _("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new _("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new _("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new _("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new _("missing-android-pkg-name")}}else if(void 0!==n)throw new _("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new _("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new _("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Di+" property must be a non empty string when specified.");this.h=t||null}var Oi="android",Di="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Pi="url",Ri="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Ui=null;function Fi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function qi(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(t){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Fi(t))}catch(t){}return null}qi.prototype.S=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.i};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ki},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ki},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ki},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Hi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Gi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Wi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Ji])return new Yi(t)}catch(t){}return null}var Ji="idToken",Xi="providerId";function Yi(t){var e=t[Xi];if(!e&&t[Ji]){var n=Bi(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Qi(t){Yi.call(this,t),Wr(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function ro(t){var e=jn(t),n=Mn(e,"link"),r=Mn(jn(n),"link");return e=Mn(e,"deep_link_id"),Mn(jn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new _("internal-error","Internal assert: no raw session string available");if(t&&e)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}E(Qi,Yi),E(Zi,Qi),E(to,Qi),E(eo,Qi),E(no,Qi);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Ys]){var n=Bi(t[Ys]);if(!n||e!=n.h)throw new _("user-mismatch");return t}throw new _("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new _("user-mismatch"):t}))}function co(t,e){if(!e)throw new _("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function yo(t,e){this.Pc=e||[],Jr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Gi(t)||{}).Ja||null,this.nb=null}function mo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function go(t){yo.call(this,t,Ki),this.a=[]}function bo(){go.call(this,"facebook.com")}function wo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){go.call(this,"github.com")}function Eo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){go.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Ao(){yo.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Co(e)))throw new _("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ni(t=ro(t)))&&t.operation===ai?t:null}function xo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new _("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Lo(t){try{this.a=t||Cn.auth()}catch(t){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new _("missing-verification-id");if(!e)throw new _("missing-verification-code");return new xo({cb:t,bb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Vo(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ja=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ja=function(t){return ba(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,wa(t,n)},co.prototype.c=function(t,e){return uo(Ia(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return ba(t,po(this))},lo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,wa(t,n)},lo.prototype.c=function(t,e){return uo(Ia(t,po(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Hb=pt(t),this},E(mo,yo),E(go,yo),go.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},go.prototype.Pb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},E(bo,go),Wr(bo,"PROVIDER_ID","facebook.com"),Wr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Io,go),Wr(Io,"PROVIDER_ID","github.com"),Wr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),E(To,go),Wr(To,"PROVIDER_ID","google.com"),Wr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Ao,yo),Wr(Ao,"PROVIDER_ID","twitter.com"),Wr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ja=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Oa,{email:this.a,oobCode:this.f}):nu(t,Ya,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Da,{idToken:e,email:this.a,oobCode:this.f}):nu(t,$a,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return uo(this.ja(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Oo,{PROVIDER_ID:"password"}),Jr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ja=function(t){return t.eb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,nu(t,Za,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",uo(t=nu(t,tu,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.eb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return nu(t,Ka,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return nu(t,za,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Jr(Lo,{PROVIDER_ID:"phone"}),Jr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Uo.prototype.S=function(){return this.i},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Bo,$o=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_.call(this,e,n)}function Ko(t,e,n){_.call(this,t,n),(t=e||{}).Ib&&Wr(this,"email",t.Ib),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Yb&&Wr(this,"tenantId",t.Yb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:jo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new _(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Go(){}function Wo(t){return t.c||(t.c=t.b())}function Jo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}E(Ho,_),E(Ko,_),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,E(Jo,Go),Jo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Jo,E(Yo,Go),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(R("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function hs(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function fs(t,e){t&&t.log(ss,e,void 0)}function ls(t){this.f=t}function ps(t){gn.call(this),this.u=t,this.i=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ls,Go),ls.prototype.a=function(){return new ps(this.f)},ls.prototype.b=function(t){return function(){return t}}({}),E(ps,gn);var ds=0;function vs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ys(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function gs(t){gn.call(this),this.headers=new Sn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=bs,this.u=this.R=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ys(this)),this.readyState=ds},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,vs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ys(this):ms(this),3==this.readyState&&vs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ys(this))},t.rc=function(t){this.a&&(this.response=t,ys(this))},t.Ta=function(t){var e=this.h;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ys(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),E(gs,gn);var bs="";gs.prototype.b=hs("goog.net.XhrIo");var ws=/^https?$/i,Is=["POST","PUT"];function Es(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Bo.a(),t.A=t.O?Wo(t.O):Wo(Bo),t.a.onreadystatechange=b(t.Ub,t);try{fs(t.b,Cs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return fs(t.b,Cs(t,"Error opening Xhr: "+e.message)),void _s(t,e)}e=r||"";var o=new Sn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)B(t,e,void 0);else for(var n=An(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!z(Is,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ks(t),0<t.g&&(t.u=function(t){return zt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=En(t.Ma,t.g,t)),fs(t.b,Cs(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){fs(t.b,Cs(t,"Send error: "+e.message)),_s(t,e)}}function Ts(t){return"content-type"==t.toLowerCase()}function _s(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,As(t),Ns(t)}function As(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Os(t)&&2==Ds(t))fs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.h&&4==Os(t))En(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){fs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(On)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ws.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(e){fs(t.b,"Can not get status: "+e.message),c=""}t.i=c+" ["+Ds(t)+"]",As(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){ks(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<Os(t)?t.a.status:-1}catch(t){return-1}}function Cs(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function xs(t){var e=$s;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Rs(t){if(t.a){if(!t.m)throw new Vs(t);t.m=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function Ms(t){return K(t.g,(function(t){return p(t[1])}))}function js(t){if(t.i&&t.a&&Ms(t)){var e=t.i,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.h=!0)}catch(r){e=r,t.f=!0,Ms(t)||(n=!0)}}t.c=e,r&&(u=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof xs?(Ls(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Fs(e),qs[e.a]=e,t.i=e.a)}function Vs(){x.call(this)}function Us(){x.call(this)}function Fs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=gs.prototype).Ma=function(){void 0!==o&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",fs(this.b,Cs(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),gs.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Ss(this):this.Ic())},t.Ic=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fs(this.b,"Can not get response: "+t.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Us(this),Rs(this),Ps(this,!1,t))}},xs.prototype.v=function(t,e){this.h=!1,Ps(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ls(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,E(Vs,x),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",E(Us,x),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",Fs.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Bs(t){var e,n=document,r=_t(t).toString(),i=pe(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new xs(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new Gs(zs,"Timeout reached for loading script "+r);Rs(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Rs(a),Ps(a,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new Gs(Ks,"Error while loading script "+r);Rs(a),Ps(a,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=_t(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function $s(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ks=0,zs=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Ws(t){this.f=t}function Js(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Qs,this.g=pt(t.secureTokenHeaders||Zs),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ta,this.a=pt(t.firebaseHeaders||ea),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&Cn.INTERNAL.node&&Cn.INTERNAL.node.XMLHttpRequest)&&!br())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ls(self):Ir()?this.f=new Ws(n):this.f=new Yo,this.b=null}E(Gs,x),E(Ws,Go),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Xs,Ys="idToken",Qs=new Fr(3e4,6e4),Zs={"Content-Type":"application/x-www-form-urlencoded"},ta=new Fr(3e4,6e4),ea={"Content-Type":"application/json"};function na(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ra(t,e){e&&(t.l=ia("https://securetoken.googleapis.com/v1/token",e),t.i=ia("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ia("https://identitytoolkit.googleapis.com/v2/",e))}function ia(t,e){return t=jn(t),e=jn(e.url),t.c=t.a+t.c,xn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function oa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function sa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=_r(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Xs||(Xs=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ua]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(Bs(At(aa,{onload:ua})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Js.prototype.S=function(){return this.b},Js.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new gs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(a,"ready",(function(){u&&clearTimeout(u),Be(this)})),wn(a,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),Es(a,t,n,r,i)};var aa=new mt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ua="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t,e,n,r,i,o,s){var a=jn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new be((function(e,n){sa(t,a.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new _("network-request-failed"))}),r,u?void 0:er(Lr(i)),t.a,t.m.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new _("invalid-email")}function fa(t){"email"in t&&ha(t)}function la(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,pt(t));throw new _("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}Js.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Js.prototype.yb=function(){return nu(this,Ha,{})},Js.prototype.Ab=function(t,e){return nu(this,Ba,{idToken:t,email:e})},Js.prototype.Bb=function(t,e){return nu(this,$a,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function va(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function ya(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;la(t)}function ba(t,e){return e.returnIdpCredential=!0,nu(t,Ga,e)}function wa(t,e){return e.returnIdpCredential=!0,nu(t,Ja,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Wa,e)}function Ea(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=Js.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(da,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Ba,n)},t.ub=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,ja,t)},t.vb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ra,t)},t.tb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,La,t)},t.Db=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ma,t)},t.eb=function(t){return nu(this,Qa,t)},t.mb=function(t,e){return nu(this,Fa,{oobCode:t,newPassword:e})},t.Qa=function(t){return nu(this,_a,{oobCode:t})},t.ib=function(t){return nu(this,Ta,{oobCode:t})};var Ta={endpoint:"setAccountInfo",B:Ea,Z:"email",C:!0},_a={endpoint:"resetPassword",B:Ea,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new _("internal-error")},C:!0},Aa={endpoint:"signupNewUser",B:function(t){if(ha(t),!t.password)throw new _("weak-password")},F:la,U:!0,C:!0},Sa={endpoint:"createAuthUri",C:!0},Na={endpoint:"deleteAccount",M:["idToken"]},ka={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new _("internal-error")}},Oa={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ha,F:la,U:!0,C:!0},Da={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ha,F:la,U:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:va,F:la,C:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:va,F:la,C:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",C:!0},La={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",C:!0},Ma={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",C:!0},ja={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",C:!0},Va={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ua={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},Fa={endpoint:"resetPassword",B:Ea,Z:"email",C:!0},qa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ba={endpoint:"setAccountInfo",M:["idToken"],B:fa,U:!0},$a={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(fa(t),!t.password)throw new _("weak-password")},F:la,U:!0},Ha={endpoint:"signupNewUser",F:la,U:!0,C:!0},Ka={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},C:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},C:!0,Na:!0},Ga={endpoint:"verifyAssertion",B:ya,Xa:ma,F:ga,U:!0,C:!0},Wa={endpoint:"verifyAssertion",B:ya,Xa:ma,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);la(t)},U:!0,C:!0},Ja={endpoint:"verifyAssertion",B:function(t){if(ya(t),!t.idToken)throw new _("internal-error")},Xa:ma,F:ga,U:!0},Xa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new _("invalid-custom-token")},F:la,U:!0,C:!0},Ya={endpoint:"verifyPassword",B:function(t){if(ha(t),!t.password)throw new _("wrong-password")},F:la,U:!0,C:!0},Qa={endpoint:"verifyPhoneNumber",B:pa,F:la,C:!0},Za={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new _("internal-error");pa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);la(t)}},tu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:pa,F:la,C:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ys]^!!t.refreshToken)throw new _("internal-error")},C:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ne(new _("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Se(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ca(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new _("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _(r[i],e);return!e&&t&&(e=Rr(t)),new _("internal-error",e)}function ou(t){this.b=t,this.a=null,this.qb=function(t){return(cu||(cu=new be((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:au.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Se(Bs(r=At(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new mt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),au=new Fr(3e4,6e4),uu=new Fr(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Vn((t=jn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.i),Ln(this.a,"appName",this.h),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function lu(t){try{return Cn.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function du(t){var e=ur();return function(t){return nu(t,Va,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(ur())}))}function vu(t){return t.v||(t.v=yr().then((function(){if(!t.u){var e=t.c,n=t.h,r=lu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new ou(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.v}function yu(t){return t.l||(t.A=t.c?Sr(t.c,lu(t.b)):null,t.l=new Js(t.g,D(t.h),t.A),t.f&&ra(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new fu(t,e,n,r,i,f)).l=o,t.g=s,t.h=a,t.b=pt(u||null),t.f=c,t.xb(h).toString()}function gu(t){if(this.a=t||Cn.INTERNAL.reactNative&&Cn.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.xb=function(t){return this.i=t,this},fu.prototype.toString=function(){if(this.m){var t=jn(this.m.url);t=Vn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Cn.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),lt(e)||Ln(t,"customParameters",Rr(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.h?Ln(t,"v",this.h):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.i?Ln(t,"tid",this.i):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(s=lu(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Nb=function(t,e,n){var r=new _("popup-closed-by-user"),i=new _("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.qb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Nr();return!Pr(t)&&!Vr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new _("popup-blocked"));if(s&&!Pr())return this.la().o((function(e){lr(t),i(e)})),r(),Se();this.a||(this.a=du(yu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=du(yu(this)));var i=this;return this.a.then((function(){Vo(e),cr(mu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return vu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new _("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){W(this.i,(function(e){return e==t}))},(t=gu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Rr(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Iu=[];function Eu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Nu(){if(!Cu())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;br()&&self?(this.m=function(){var t=br()?self:null;if(B(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Iu.push(e)}return e}(),Eu(this.m,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),Eu(this.m,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.i=e)&&(t.g=new _u(new Tu(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.h||(t.h=ku(t)),t.h}function Du(t,e){var n=0;return new be((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!s.indexedDB}catch(t){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.i&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Mu(t){return Ou(t).then((function(t){var e=xu(Pu(t,!1));return e.getAll?Ru(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=jr(),r="__sak"+t;return wu||(wu=new Nu),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==wr();if(!(t=qu()||t&&Cn.INTERNAL.node&&Cn.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=qu()||Cn.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bu(){this.type="nullStorage"}function $u(){if(!function(){var t="Node"==wr();if(!(t=Hu()||t&&Cn.INTERNAL.node&&Cn.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Hu()||Cn.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=s.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=Wu,t.Node=Ju,t.ReactNative=Xu,t.Worker=Yu,this.a=t[wr()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Ru((e=xu(Pu(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=xu(Pu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Ru(xu(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Ru(xu(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}ju(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&sn(s.window,"storage",t)},t.ia=function(t){s.window&&cn(s.window,"storage",t)},(t=Bu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=$u.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,Gu,Wu={D:Fu,ab:$u},Ju={D:Fu,ab:$u},Xu={D:gu,ab:Bu},Yu={D:Fu,ab:Bu},Qu={qd:"local",NONE:"none",sd:"session"};function Zu(){var t=!(Vr(Nr())||!gr()),e=Pr(),n=Or();this.v=t,this.i=e,this.l=n,this.a={},zu||(zu=new Ku),t=zu;try{this.g=!ar()&&$r()||!s.indexedDB?new t.a.D:new Vu(br()?new Uu:new t.a.D)}catch(t){this.g=new Uu,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Uu}this.m=new Uu,this.f=b(this.Xb,this),this.b={}}function tc(){return Gu||(Gu=new Zu),Gu}function ec(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.D&&(t.b[n]=null),ec(t,e.D).T(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.D).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(ec(this,"local").ca(this.f),this.i||(ar()||!$r())&&s.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new We({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},zt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var sc,ac={name:"authEvent",D:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(mc):mc),this.reset()}E(cc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,lc=[],pc=0;pc<fc;pc++)lc[pc]=0;var dc=J(128,lc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.i):X(this.i)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){cc.call(this,8,bc)}E(gc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new uc,this.g=new oc(this.i),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new _("invalid-cordova-configuration",t)}function Ec(t){var e=new gc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,dc,56-e.c):yc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function _c(t){return t.f||(t.f=t.la().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=jn(i),"firebaseError")||null))?A(o):null)?new Uo(r.c,r.b,null,null,o,null,r.S()):new Uo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Tc(t,i)}))}var n=new Uo("unknown",null,null,null,new _("no-auth-event")),r=!1,i=Tn(500).then((function(){return Ac(t).then((function(){r||Tc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},$o||($o=new qo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(ac,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,ac,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=tc()}(t=wc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?yr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new _("cordova-not-ready")}))},t.Nb=function(t,e){return e(new _("operation-not-supported-in-this-environment")),Se()},t.Lb=function(){return Ne(new _("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ne(new _("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Se().then((function(){return Vo(e),_c(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new _("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new _("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new _("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ec(o),h.sessionId=o;var f=mu(t.m,t.h,t.l,e,n,null,r,t.v,h,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(ac,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new _("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new _("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new _("invalid-cordova-configuration");e=Nr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Tn(2e3).then((function(){e(new _("redirect-cancelled-by-user"))})))},h=function(){qr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),_c(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new _("no-auth-event")),t(e))}))},t.Ra=function(t){W(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",D:"session"};function kc(t){return rc(t.b,Nc,t.a)}function Oc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=b(this.s,this),this.b=new Hc,this.A=new Jc,this.g=new Sc(Bc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Dc(this.O,this.m,this.v,S,this.G)}function Dc(t,e,n,r,i){var o=Cn.SDK_VERSION||null;return mr()?new wc(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Wb()&&Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Sb()||Kc(t.b)}function Pc(t,e){z(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Rc(t,e){W(t.i,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Dc(this.O,this.m,this.v,null,this.G),this.h={}},Oc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=I()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=I())),e=!0;break}}return Kc(this.b),e};var Lc=new Fr(2e3,1e4),Mc=new Fr(3e4,6e4);function jc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Vc(e))throw new _("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Fc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Lc.get())}Oc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function $c(t,e,n,r){var i=Bc(e,n,r);return qc[i]||(qc[i]=new Oc(t,e,n,r)),qc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Kc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function zc(t){t.g&&!t.h&&Wc(t,!1,null,null)}function Gc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Gc(t,n):Gc(t,{user:null}),t.f=[],t.c=[]}function Jc(){}function Xc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Yc(t,e){this.a=e,Wr(this,"verificationId",t)}function Qc(t,e,n,r){return new Lo(t).eb(e,n).then((function(t){return new Yc(t,r)}))}function Zc(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;B(e[eh]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Wc(t,a,e,null)})).o((function(e){Wc(t,a,null,e)}))}(this,t,e):Ne(new _("invalid-auth-event")):(Wc(this,!1,null,null),Se())}else Ne(new _("invalid-auth-event"))},Hc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new _("timeout");t.a&&t.a.cancel(),t.a=Tn(Mc.get()).then((function(){t.b||(t.g=!0,Wc(t,!0,null,e))}))}(t))}))},Jc.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Ne(new _("invalid-auth-event"))}else Ne(new _("invalid-auth-event"))},Yc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){_.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Wr(this,"resolver",this.b)}function ih(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function sh(t){Wr(this,"factorId",t.fa),this.a=t}function ah(t){if(sh.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in Ge.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Se():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){lh(t,!0)})).o((function(e){t.h(e)&&lh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Bi(e[Ys]||""),t.a=e.refreshToken,dh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?sa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new _("internal-error")):r(new _("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.v.get()):r(new _("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,dh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function mh(t,e){this.a=t||null,this.b=e||null,Jr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function gh(t,e,n,r,i,o){Jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Cn.SDK_VERSION?Sr(Cn.SDK_VERSION):null;this.a=new Js(this.l,D(S),r),t.emulatorConfig&&ra(this.a,t.emulatorConfig),this.b=new ph(this.a),Nh(this,e[Ys]),vh(this.b,e),Wr(this,"refreshToken",this.b.a),Dh(this,n||{}),gn.call(this),this.P=!1,this.s&&Dr()&&(this.h=$c(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=b(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){ra(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Eh(i,t.f)},this.aa=null,this.N=new ch(this,n),Wr(this,"multiFactor",this.N)}function wh(t,e){t.ba&&cn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&sn(e,"languageCodeChanged",t.Ba)}function Ih(t,e){t.W&&cn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&sn(e,"emulatorConfigChanged",t.za)}function Eh(t,e){t.X=e,oa(t.a,Cn.SDK_VERSION?Sr(Cn.SDK_VERSION,t.X):null)}function Th(t,e){t.aa&&cn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&sn(e,"frameworkChanged",t.Aa)}function _h(t){try{return Cn.app(t.m).auth()}catch(e){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ah(t){t.A||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.$),sn(t,"tokenChanged",t.$))}function Sh(t){cn(t,"tokenChanged",t.$),t.u.stop()}function Nh(t,e){t.ya=e,Wr(t,"_lat",e)}function kh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function Oh(t){t.h&&!t.P&&(t.P=!0,Pc(t.h,t))}function Dh(t,e){Jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new mh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function xh(t){return Se().then((function(){if(t.A)throw new _("app-deleted")}))}function Ph(t){return H(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function jh(t,e){t!=e&&(Jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new mh(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new mh),B(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),hh(t.N,e.N.b))}function Vh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Pa,{idToken:e}).then(b(t.Jc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Uh(t,e){e[Ys]&&t.ya!=e[Ys]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Nh(t,e[Ys]),Mh(t,"refreshToken",t.b.a))}function Fh(t,e){return Vh(t).then((function(){if(z(Ph(t),e))return kh(t).then((function(){throw new _("provider-already-linked")}))}))}function qh(t,e,n){return Xr({user:t,credential:jo(e),additionalUserInfo:e=Wi(e),operationType:n})}function Bh(t,e){return Uh(t,e),t.reload().then((function(){return t}))}function $h(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=Gi(n.providerId),s=jr(t.uid+":::"),a=null;(!Pr()||gr())&&t.s&&n.isOAuthProvider&&(a=mu(t.s,t.l,t.m,e,n,null,s,Cn.SDK_VERSION||null,null,null,t.tenantId));var u=pr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.h,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.ma(e,null,new _("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=s,t.c=Fc(t.h,t,e,u,s)}))})).then((function(t){return u&&lr(u),t?Xr(t):null})).o((function(t){throw u&&lr(u),t})),zh(t,r,i)}function Hh(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=null,s=jr(t.uid+":::");return r=r().then((function(){if(Kh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,kh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jh,t.w(),e.a)),e})).then((function(){return Uc(t.h,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),zh(t,r,i)}function Kh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new _("internal-error");throw new _("auth-domain-config-required")}}function zh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ne(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new uh("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){G(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),_h(t),b(t.ic,t))),n||e}))}function Gh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bh(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Rh(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wh(t){this.a=t,this.b=tc()}th.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[eh],delete n[nh],vt(n,t),e.g(n)}))},E(rh,_),oh.prototype.rb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),nu(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),nu(e,xa,n)}))}(this,t,e)},E(sh,oh),E(ah,sh),E(uh,Ge),(t=ch.prototype).xc=function(t){hh(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Uh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=$(e.b,(function(t){return t.uid!=n}));return hh(e,r),Uh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,lh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new _("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?yh(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},mh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(bh,gn),bh.prototype.wa=function(t){this.pa=t,na(this.a,t)},bh.prototype.ka=function(){return this.pa},bh.prototype.Ga=function(){return X(this.X)},bh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(bh.prototype,"providerId","firebase"),(t=bh.prototype).reload=function(){var t=this;return zh(this,xh(this).then((function(){return Vh(t).then((function(){return kh(t)})).then(Ch)})))},t.nc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return zh(this,xh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new _("internal-error");return t.accessToken!=e.ya&&(Nh(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");Dh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new gh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return zh(this,t.c(this.a,this.uid).then((function(t){return Uh(e,t),n=qh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return zh(this,Fh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=qh(e,t,"link"),Bh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return zh(this,Fh(this,"phone").then((function(){return Qc(_h(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return zh(this,Se().then((function(){return Qc(_h(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.dd=function(t){var e=this;return zh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Uh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var e=this;return zh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Uh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),kh(e)})).then(Ch))},t.bd=function(t){var e=this;return zh(this,Vh(this).then((function(n){return z(Ph(e),t)?function(t,e,n){return nu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Ph(e),(function(t){n[t]||Lh(e,t)})),n[Lo.PROVIDER_ID]||Wr(e,"phoneNumber",null),kh(e)})):kh(e).then((function(){throw new _("no-such-provider")}))})))},t.delete=function(){var t=this;return zh(this,this.I().then((function(e){return nu(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wh(t,null),Ih(t,null),Th(t,null),t.G=[],t.A=!0,Sh(t),Wr(t,"refreshToken",null),t.h&&Rc(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return $h(this,"linkViaPopup",t,(function(){return Fh(e,t.providerId).then((function(){return kh(e)}))}),!1)},t.Mc=function(t){return $h(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Ec=function(t){var e=this;return Hh(this,"linkViaRedirect",t,(function(){return Fh(e,t.providerId)}),!1)},t.Nc=function(t){return Hh(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,this.I().then((function(n){return wa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=qh(i,t,"link"),Bh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,Se().then((function(){return uo(Ia(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=qh(i,t,"reauthenticate"),Uh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return zh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Vi(new ki(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return zh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return zh(this,t=uo(Se(t),n.uid).then((function(t){return e=qh(n,t,"reauthenticate"),Uh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.N.w()),t};var Jh={name:"redirectUser",D:"session"};function Xh(t){return rc(t.b,Jh,t.a)}function Yh(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=tf("local"),n=tf("session"),r=tf("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tf(t):e}))}))}))})).then((function(e){return t.c=e,Qh(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tf("local"),this.a,b(this.g,this))}function Qh(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(rc(t.b,tf(Qu[n]),t.a));return r.push(rc(t.b,Zh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],w(o,a),s);else e(i)}))}(r)}Yh.prototype.g=function(){var t=this,e=tf("local");of(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Qh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",D:"session"};function tf(t){return{name:"authUser",D:t}}function ef(t,e){return of(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nf(t){return of(t,(function(){return rc(t.b,t.c,t.a)}))}function rf(t,e,n){return of(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Gh(t||{})}))}))}function of(t,e){return t.f=t.f.then(e,e),t.f}function sf(t){if(this.m=!1,Wr(this,"settings",new Xc),Wr(this,"app",t),!vf(this).options||!vf(this).options.apiKey)throw new _("invalid-api-key");t=Cn.SDK_VERSION?Sr(Cn.SDK_VERSION):null,this.a=new Js(vf(this).options&&vf(this).options.apiKey,D(S),t),this.R=[],this.u=[],this.P=[],this.ac=Cn.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=Cn.INTERNAL.createSubscribe(b(this.zc,this)),pf(this,null),this.l=new Yh(vf(this).options.apiKey+":"+vf(this).name),this.G=new Wh(vf(this).options.apiKey+":"+vf(this).name),this.$=bf(this,function(t){var e=vf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Gh(t||{})}))}(t.G,vf(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Xh(t.G)}));return bf(t,e)}(t).then((function(){return rf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ef(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nf(t.l)}))):null})).then((function(e){pf(t,e||null)}));return bf(t,n)}(this)),this.h=bf(this,function(t){return t.$.then((function(){return ff(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(tf("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,function(t){var e=vf(t).options.authDomain,n=vf(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=$c(e,n,vf(t).name,t.f),Pc(t.b,t),yf(t)&&Oh(yf(t)),t.s){Oh(t.s);var r=t.s;r.wa(t.ka()),wh(r,t),Eh(r=t.s,t.N),Th(r,t),ra((r=t.s).a,t.f),Ih(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,gn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function af(t){Ge.call(this,"languageCodeChanged"),this.i=t}function uf(t){Ge.call(this,"emulatorConfigChanged"),this.c=t}function cf(t){Ge.call(this,"frameworkChanged"),this.f=t}function hf(t){return t.gb||Ne(new _("auth-domain-config-required"))}function ff(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=hf(t).then((function(){return t.b.qa()})).then((function(t){return t?Xr(t):null}));return bf(t,e)}function lf(t,e){var n={};return n.apiKey=vf(t).options.apiKey,n.authDomain=vf(t).options.authDomain,n.appName=vf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Eh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return yf(t)&&e.uid==yf(t).uid?(jh(yf(t),e),t.da(e)):(pf(t,e),Oh(e),t.da(e))})).then((function(){gf(t)}))}function pf(t,e){yf(t)&&(function(t,e){W(t.R,(function(t){return t==e}))}(yf(t),t.Ba),cn(yf(t),"tokenChanged",t.ya),cn(yf(t),"userDeleted",t.za),cn(yf(t),"userInvalidated",t.Aa),Sh(yf(t))),e&&(e.R.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.A&&Ah(e)),Wr(t,"currentUser",e),e&&(e.wa(t.ka()),wh(e,t),Eh(e,t.N),Th(e,t),ra(e.a,t.f),Ih(e,t))}function df(t,e){var n=null,r=null;return bf(t,e.then((function(e){return n=jo(e),r=Wi(e),lf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Xr({user:yf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vf(t){return t.app}function yf(t){return t.currentUser}function mf(t){return yf(t)&&yf(t)._lat||null}function gf(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](mf(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](mf(t))}}function bf(t,e){return t.R.push(e),e.na((function(){G(t.R,e)})),e}function wf(){}function If(){this.a={},this.b=1e12}Yh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new _("invalid-persistence-type"),n=new _("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),of(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Qh(n,t)})).then((function(){if(n.c=tf(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},E(sf,gn),E(af,Ge),E(uf,Ge),E(cf,Ge),(t=sf.prototype).wb=function(t){return bf(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,na(this.a,this.aa),this.dispatchEvent(new af(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new _("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&yr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,ra(this.a,this.f),this.dispatchEvent(new uf(this.f))}},t.Fc=function(t){this.N.push(t),oa(this.a,Cn.SDK_VERSION?Sr(Cn.SDK_VERSION,this.N):null),this.dispatchEvent(new cf(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:vf(this).options.apiKey,authDomain:vf(this).options.authDomain,appName:vf(this).name,currentUser:yf(this)&&yf(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return df(i,ba(i.a,o))}))},t.Wc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=jr(),i=null;(!Pr()||gr())&&vf(this).options.authDomain&&t.isOAuthProvider&&(i=mu(vf(this).options.authDomain,vf(this).options.apiKey,vf(this).name,"signInViaPopup",t,null,r,Cn.SDK_VERSION||null,null,null,this.S(),this.f));var o=pr(i,n&&n.ua,n&&n.ta);return bf(this,n=hf(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new be((function(t,n){e.ma("signInViaPopup",null,new _("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Fc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Xr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Xc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this;return bf(this,hf(this).then((function(){return function(t){return of(t,(function(){return t.b.set(Zh,t.c.D,t.a)}))}(e.l)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return ff(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},t.cd=function(t){if(!t)return Ne(new _("null-user"));if(this.W!=t.tenantId)return Ne(new _("tenant-id-mismatch"));var e=this,n={};n.apiKey=vf(this).options.apiKey,n.authDomain=vf(this).options.authDomain,n.appName=vf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Eh(e,r),jh(e,t),e}(t,n,e.G,e.Ga());return bf(this,this.h.then((function(){if(vf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return yf(e)&&t.uid==yf(e).uid?(jh(yf(e),t),e.da(t)):(pf(e,r),Oh(r),e.da(r))})).then((function(){gf(e)})))},t.zb=function(){var t=this;return bf(this,this.h.then((function(){return t.b&&zc(t.b.b),yf(t)?(pf(t,null),nf(t.l).then((function(){gf(t)}))):Se()})))},t.Yc=function(){var t=this;return rf(this.l,vf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=yf(t)&&e){n=yf(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jh(yf(t),e),yf(t).I();(yf(t)||e)&&(pf(t,e),e&&(Oh(e),e.ha=t.G),t.b&&Pc(t.b,t),gf(t))}}))},t.da=function(t){return ef(this.l,t)},t.kc=function(){gf(this),this.da(yf(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return df(e,Se(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(yf(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),bf(t,t.h.then((function(){!t.m&&z(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mf(t)))})))}(this,(function(){t.next(yf(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(yf(r)):"function"==typeof t.next&&t.next(yf(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(yf(r)):"function"==typeof t.next&&t.next(yf(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return bf(this,this.h.then((function(){return yf(e)?yf(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return df(e,nu(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return df(n,nu(n.a,Ya,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return df(n,nu(n.a,Aa,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return df(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=yf(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return df(t,t.a.yb()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return yf(this)&&yf(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&yf(this)&&Ah(yf(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&yf(this)&&Sh(yf(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),bf(this,this.h.then((function(){e.m||z(e.u,t)&&t(mf(e))})))},t.removeAuthTokenListener=function(t){W(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(tf("local"),t.a,this.pa),this.b&&(Rc(this.b,this),zc(this.b.b)),Promise.resolve()},t.gc=function(t){return bf(this,function(t,e){return nu(t,Sa,{identifier:e,continueUri:Cr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Co(t)},t.vb=function(t,e){var n=this;return bf(this,Se().then((function(){var t=new ki(e);if(!t.c)throw new _("argument-error",Ci+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return bf(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return bf(this,this.a.Qa(t).then((function(t){return new oi(t)})))},t.ib=function(t){return bf(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return bf(this,Se().then((function(){return void 0===e||lt(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return bf(this,Qc(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return bf(this,Se().then((function(){var r=e||ur(),i=Do(t,r);if(!(r=Co(r)))throw new _("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new _("tenant-id-mismatch");return n.Za(i)})))},wf.prototype.render=function(){},wf.prototype.reset=function(){},wf.prototype.getResponse=function(){},wf.prototype.execute=function(){};var Ef=null;function Tf(t,e){return(e=_f(e))&&t.a[e]||null}function _f(t){return(t=void 0===t?1e12:t)?t.toString():null}function Af(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=ae(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():sn(this.f,"click",this.h)}function Sf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nf(){}function kf(){}If.prototype.render=function(t,e){return this.a[this.b.toString()]=new Af(t,e),this.b++},If.prototype.reset=function(t){var e=Tf(this,t);t=_f(t),e&&t&&(e.delete(),delete this.a[t])},If.prototype.getResponse=function(t){return(t=Tf(this,t))?t.getResponse():null},If.prototype.execute=function(t){(t=Tf(this,t))&&t.execute()},Af.prototype.getResponse=function(){return Sf(this),this.b},Af.prototype.execute=function(){Sf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.i&&t.execute()}),6e4)}),500))},Af.prototype.delete=function(){Sf(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.h)},Wr(Nf,"FACTOR_ID","phone"),kf.prototype.g=function(){return Ef||(Ef=new If),Se(Ef)},kf.prototype.c=function(){};var Of=null;function Df(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Cf=new mt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xf=new Fr(3e4,6e4);Df.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new _("network-request-failed"))}),xf.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new _("internal-error"));delete s[e.a]},Se(Bs(At(Cf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Df.prototype.c=function(){this.b--};var Pf=null;function Rf(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Of||(Of=new kf),a=Of):(Pf||(Pf=new Df),a=Pf),this.v=a,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[jf])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Vf],!s.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.h&&ae(e).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Js(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lf];this.a[Lf]=function(t){if(Uf(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var h=this.a[Mf];this.a[Mf]=function(){if(Uf(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=kr(h,s);"function"==typeof t&&t()}}}var Lf="callback",Mf="expired-callback",jf="sitekey",Vf="size";function Uf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ff(t,e){return t.i.push(e),e.na((function(){G(t.i,e)})),e}function qf(t){if(t.A)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bf(t,e,n){var r=!1;try{this.b=n||Cn.app()}catch(t){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Cn.SDK_VERSION?Sr(Cn.SDK_VERSION,o):null,Rf.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,D(S),r)}function $f(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Hf.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");n=Hf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new _("argument-error",t+" failed: "+r)}(t=Rf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ff(this,Se().then((function(){if(Cr()&&!br())return yr();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Ua,{})})).then((function(e){t.a[jf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qf(this);var t=this;return Ff(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qf(this);var t=this;return Ff(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){qf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qf(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=ae(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Bf,Rf);var Hf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Kf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function zf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Gf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Wf(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Jf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Xf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Yf(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Qf(t){return d(t)&&"string"==typeof t.uid}function Zf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function tl(t,e){for(var n in e){var r=e[n].name;t[r]=rl(r,t[n],e[n].j)}}function el(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){$f(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function nl(t,e,n,r){t[e]=rl(e,n,r)}function rl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return $f(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tl(sf.prototype,{ib:{name:"applyActionCode",j:[Kf("code")]},Qa:{name:"checkActionCode",j:[Kf("code")]},mb:{name:"confirmPasswordReset",j:[Kf("code"),Kf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Kf("email"),Kf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Kf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Kf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Zf(Gf(),Wf(),"nextOrObserver"),Wf("opt_error",!0),Wf("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Zf(Gf(),Wf(),"nextOrObserver"),Wf("opt_error",!0),Wf("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Kf("email"),Zf(Gf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Kf("email"),Gf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Kf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Xf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Xf()]},Sc:{name:"signInWithCustomToken",j:[Kf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Kf("email"),Kf("password")]},Uc:{name:"signInWithEmailLink",j:[Kf("email"),Kf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Kf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Zf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof bh)}},Jf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Kf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Kf("url"),Gf("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Kf("code")]}}),el(sf.prototype,{lc:{name:"languageCode",jb:Zf(Kf(),Jf(),"languageCode")},ti:{name:"tenantId",jb:Zf(Kf(),Jf(),"tenantId")}}),sf.Persistence=Qu,sf.Persistence.LOCAL="local",sf.Persistence.SESSION="session",sf.Persistence.NONE="none",tl(bh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[zf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zf("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Xf()]},pb:{name:"linkWithCredential",j:[Xf()]},Cc:{name:"linkWithPhoneNumber",j:[Kf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xf()]},sb:{name:"reauthenticateWithCredential",j:[Xf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Kf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Zf(Gf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Kf(null,!0)]},bd:{name:"unlink",j:[Kf("provider")]},Ab:{name:"updateEmail",j:[Kf("email")]},Bb:{name:"updatePassword",j:[Kf("password")]},dd:{name:"updatePhoneNumber",j:[Xf("phone")]},Cb:{name:"updateProfile",j:[Gf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Kf("email"),Zf(Gf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]}}),tl(If.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tl(wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tl(be.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),el(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:zf("appVerificationDisabledForTesting")}}),tl(Yc.prototype,{confirm:{name:"confirm",j:[Kf("verificationCode")]}}),nl(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,ko,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zf(Kf(),Gf(),"json")]),nl(Oo,"credential",(function(t,e){return new No(t,e)}),[Kf("email"),Kf("password")]),tl(No.prototype,{w:{name:"toJSON",j:[Kf(null,!0)]}}),tl(bo.prototype,{Ca:{name:"addScope",j:[Kf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nl(bo,"credential",wo,[Zf(Kf(),Gf(),"token")]),nl(Oo,"credentialWithLink",Do,[Kf("email"),Kf("emailLink")]),tl(Io.prototype,{Ca:{name:"addScope",j:[Kf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nl(Io,"credential",Eo,[Zf(Kf(),Gf(),"token")]),tl(To.prototype,{Ca:{name:"addScope",j:[Kf("scope")]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nl(To,"credential",_o,[Zf(Kf(),Zf(Gf(),Jf()),"idToken"),Zf(Kf(),Jf(),"accessToken",!0)]),tl(Ao.prototype,{Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),nl(Ao,"credential",So,[Zf(Kf(),Gf(),"token"),Kf("secret",!0)]),tl(go.prototype,{Ca:{name:"addScope",j:[Kf("scope")]},credential:{name:"credential",j:[Zf(Kf(),Zf(Gf(),Jf()),"optionsOrIdToken"),Zf(Kf(),Jf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gf("customOAuthParameters")]}}),tl(lo.prototype,{w:{name:"toJSON",j:[Kf(null,!0)]}}),tl(co.prototype,{w:{name:"toJSON",j:[Kf(null,!0)]}}),nl(Lo,"credential",Mo,[Kf("verificationId"),Kf("verificationCode")]),tl(Lo.prototype,{eb:{name:"verifyPhoneNumber",j:[Zf(Kf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Yf(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yf(t.session,so)&&Qf(t.multiFactorHint):t.session&&t.multiFactorUid?Yf(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tl(xo.prototype,{w:{name:"toJSON",j:[Kf(null,!0)]}}),tl(_.prototype,{toJSON:{name:"toJSON",j:[Kf(null,!0)]}}),tl(Ko.prototype,{toJSON:{name:"toJSON",j:[Kf(null,!0)]}}),tl(Ho.prototype,{toJSON:{name:"toJSON",j:[Kf(null,!0)]}}),tl(rh.prototype,{toJSON:{name:"toJSON",j:[Kf(null,!0)]}}),tl(th.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),tl(ch.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Kf("displayName",!0)]},ad:{name:"unenroll",j:[Zf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Qf},Kf(),"multiFactorInfoIdentifier")]}}),tl(Bf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nl(bi,"parseLink",Ni,[Kf("link")]),nl(Nf,"assertion",(function(t){return new ah(t)}),[Xf("phone")]),function(){if(void 0===Cn||!Cn.INTERNAL||!Cn.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sf,AuthCredential:ao,Error:_};nl(t,"EmailAuthProvider",Oo,[]),nl(t,"FacebookAuthProvider",bo,[]),nl(t,"GithubAuthProvider",Io,[]),nl(t,"GoogleAuthProvider",To,[]),nl(t,"TwitterAuthProvider",Ao,[]),nl(t,"OAuthProvider",go,[Kf("providerId")]),nl(t,"SAMLAuthProvider",mo,[Kf("providerId")]),nl(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof sf)}}]),nl(t,"RecaptchaVerifier",Bf,[Zf(Kf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Gf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Cn.app.App)}}]),nl(t,"ActionCodeURL",bi,[]),nl(t,"PhoneMultiFactorGenerator",Nf,[]),Cn.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sf(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Cn.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Cn.registerVersion("@firebase/auth","0.16.1"),Cn.INTERNAL.extendNamespace({User:bh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Yy=function(){return(Yy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Qy(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Zy(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function tm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function em(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var nm,rm=function(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}((function(t,e){!function(t){function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function f(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),s(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(f,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(l,"_tx",["objectStoreNames","mode"]),a(l,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[f,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)})),im="0.4.19",om=1e4,sm="w:0.4.19",am="FIS_v2",um=36e5,cm=((nm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',nm["not-registered"]="Firebase Installation is not registered.",nm["installation-not-found"]="Firebase Installation not found.",nm["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',nm["app-offline"]="Could not process request. Application offline.",nm["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",nm),hm=new $e("installations","Installations",cm);function fm(t){return t instanceof Be&&t.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function lm(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function pm(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function dm(t,e){return Qy(this,void 0,void 0,(function(){var n,r;return Zy(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,hm.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function vm(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ym(t,e){var n=e.refreshToken,r=vm(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)),r}function mm(t){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function gm(t,e){var n=e.fid;return Qy(this,void 0,void 0,(function(){var e,r,i,o,s,a;return Zy(this,(function(u){switch(u.label){case 0:return e=lm(t),r=vm(t),i={fid:n,authVersion:am,appId:t.appId,sdkVersion:sm},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,mm((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:pm(a.authToken)}];case 3:return[4,dm("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bm(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wm(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(em(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Im=/^[cdef][\w-]{21}$/;function Em(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return wm(t).substr(0,22)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t);return Im.test(e)?e:""}catch(t){return""}}function Tm(t){return t.appName+"!"+t.appId}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _m=new Map;function Am(t,e){var n=Tm(t);Sm(n,e),function(t,e){var n=km();n&&n.postMessage({key:t,fid:e});Om()}(n,e)}function Sm(t,e){var n,r,i=_m.get(t);if(i)try{for(var o=tm(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Nm=null;function km(){return!Nm&&"BroadcastChannel"in self&&((Nm=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Sm(t.data.key,t.data.fid)}),Nm}function Om(){0===_m.size&&Nm&&(Nm.close(),Nm=null)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dm="firebase-installations-store",Cm=null;function xm(){return Cm||(Cm=rm.openDb("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Dm)}}))),Cm}function Pm(t,e){return Qy(this,void 0,void 0,(function(){var n,r,i,o,s;return Zy(this,(function(a){switch(a.label){case 0:return n=Tm(t),[4,xm()];case 1:return r=a.sent(),i=r.transaction(Dm,"readwrite"),[4,(o=i.objectStore(Dm)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||Am(t,e.fid),[2,e]}}))}))}function Rm(t){return Qy(this,void 0,void 0,(function(){var e,n,r;return Zy(this,(function(i){switch(i.label){case 0:return e=Tm(t),[4,xm()];case 1:return n=i.sent(),[4,(r=n.transaction(Dm,"readwrite")).objectStore(Dm).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Lm(t,e){return Qy(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Zy(this,(function(u){switch(u.label){case 0:return n=Tm(t),[4,xm()];case 1:return r=u.sent(),i=r.transaction(Dm,"readwrite"),[4,(o=i.objectStore(Dm)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||Am(t,a.fid),[2,a]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Mm(t){return Qy(this,void 0,void 0,(function(){var e,n,r;return Zy(this,(function(i){switch(i.label){case 0:return[4,Lm(t,(function(n){var r=function(t){return Um(t||{fid:Em(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(hm.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Qy(this,void 0,void 0,(function(){var n,r;return Zy(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,gm(t,e)];case 1:return n=i.sent(),[2,Pm(t,n)];case 2:return fm(r=i.sent())&&409===r.customData.serverCode?[4,Rm(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Pm(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jm(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function jm(t){return Qy(this,void 0,void 0,(function(){var e,n,r,i;return Zy(this,(function(o){switch(o.label){case 0:return[4,Vm(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,bm(100)];case 3:return o.sent(),[4,Vm(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Mm(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function Vm(t){return Lm(t,(function(t){if(!t)throw hm.create("installation-not-found");return Um(t)}))}function Um(t){return 1===(e=t).registrationStatus&&e.registrationTime+om<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function Fm(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Qy(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return Zy(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return lm(t)+"/"+n+"/authTokens:generate"}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,e),i=ym(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:sm}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,mm((function(){return fetch(t,a)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,pm(c)];case 3:return[4,dm("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function qm(t,e){return void 0===e&&(e=!1),Qy(this,void 0,void 0,(function(){var n,r,i;return Zy(this,(function(o){switch(o.label){case 0:return[4,Lm(t.appConfig,(function(r){if(!$m(r))throw hm.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+um}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return Qy(this,void 0,void 0,(function(){var n,r;return Zy(this,(function(i){switch(i.label){case 0:return[4,Bm(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,bm(100)];case 3:return i.sent(),[4,Bm(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,qm(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw hm.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return Yy(Yy({},t),{authToken:e})}(r);return n=function(t,e){return Qy(this,void 0,void 0,(function(){var n,r,i;return Zy(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Fm(t,e)];case 1:return n=o.sent(),i=Yy(Yy({},e),{authToken:n}),[4,Pm(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!fm(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Rm(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Yy(Yy({},e),{authToken:{requestStatus:0}}),[4,Pm(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Bm(t){return Lm(t,(function(t){if(!$m(t))throw hm.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+om<Date.now()?Yy(Yy({},t),{authToken:{requestStatus:0}}):t}))}function $m(t){return void 0!==t&&2===t.registrationStatus}function Hm(t){return Qy(this,void 0,void 0,(function(){var e;return Zy(this,(function(n){switch(n.label){case 0:return[4,Mm(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Km(t,e){return Qy(this,void 0,void 0,(function(){var n,r,i,o;return Zy(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return lm(t)+"/"+n}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e),r=ym(t,e),i={method:"DELETE",headers:r},[4,mm((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,dm("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function zm(t,e){var n=t.appConfig;return function(t,e){km();var n=Tm(t),r=_m.get(n);r||(r=new Set,_m.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Tm(t),r=_m.get(n);r&&(r.delete(e),0===r.size&&_m.delete(n),Om())}(n,e)}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gm(t){return hm.create("missing-app-config-values",{valueName:t})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t.INTERNAL.registerComponent(new nn("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Gm("App Configuration");if(!t.name)throw Gm("App Name");try{for(var r=tm(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Gm(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return function(t){return Qy(this,void 0,void 0,(function(){var e,n,r;return Zy(this,(function(i){switch(i.label){case 0:return[4,Mm(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):qm(t).catch(console.error),[2,n.fid]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Qy(this,void 0,void 0,(function(){return Zy(this,(function(n){switch(n.label){case 0:return[4,Hm(t.appConfig)];case 1:return n.sent(),[4,qm(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Qy(this,void 0,void 0,(function(){var e,n;return Zy(this,(function(r){switch(r.label){case 0:return[4,Lm(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw hm.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw hm.create("app-offline");case 3:return[4,Km(e,n)];case 4:return r.sent(),[4,Rm(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return zm(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations",im)}(Cn);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Wm=function(){return(Wm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Jm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Xm,Ym,Qm,Zm="0.4.5",tg=Zm,eg="FB-PERF-TRACE-MEASURE",ng="_wt_",rg="_fcp",ig="_fid",og="@firebase/performance/config",sg="@firebase/performance/configexpire",ag="Performance",ug=((Xm={})["trace started"]="Trace {$traceName} was started before.",Xm["trace stopped"]="Trace {$traceName} is not running.",Xm["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Xm["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Xm["no window"]="Window is not available.",Xm["no app id"]="App id is not available.",Xm["no project id"]="Project id is not available.",Xm["no api key"]="Api key is not available.",Xm["invalid cc log"]="Attempted to queue invalid cc event",Xm["FB not default"]="Performance can only start when Firebase app instance is the default one.",Xm["RC response not ok"]="RC response is not ok",Xm["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Xm["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Xm["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Xm["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Xm),cg=new $e("performance",ag,ug),hg=new yn(ag);hg.logLevel=cn.INFO;var fg,lg=function(){function t(t){if(this.window=t,!t)throw cg.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Ue()||(hg.info("IndexedDB is not supported by current browswer"),!1):(hg.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Ym&&(Ym=new t(Qm)),Ym},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function pg(t,e){var n=t.length-e.length;if(n<0||n>1)throw cg.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dg,vg,yg=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=pg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=pg("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw cg.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw cg.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw cg.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===fg&&(fg=new t),fg},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function mg(){return dg}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(vg||(vg={}));var gg=["firebase_","google_","ga_"],bg=new RegExp("^[a-zA-Z]\\w*$");function wg(){var t=lg.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Ig(){switch(lg.getInstance().document.visibilityState){case"visible":return vg.VISIBLE;case"hidden":return vg.HIDDEN;default:return vg.UNKNOWN}}function Eg(){var t=lg.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tg="0.0.1",_g=!0,Ag="FIREBASE_INSTALLATIONS_AUTH";function Sg(t){var e=function(){var t=lg.getInstance().localStorage;if(!t)return;var e=t.getItem(sg);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(og);if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(kg(e),Promise.resolve()):function(t){return(e=yg.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+yg.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+yg.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Ag+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:yg.getInstance().getAppId(),app_version:tg,sdk_version:Tg})});return fetch(r).then((function(t){if(t.ok)return t.json();throw cg.create("RC response not ok")}))})).catch((function(){hg.info(Ng)}));var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}(t).then(kg).then((function(t){return function(t){var e=lg.getInstance().localStorage;if(!t||!e)return;e.setItem(og,JSON.stringify(t)),e.setItem(sg,String(Date.now()+60*yg.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var Ng="Could not fetch config, will use default configs";function kg(t){if(!t)return t;var e=yg.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=_g,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Og(e.tracesSamplingRate),e.logNetworkAfterSampling=Og(e.networkRequestsSamplingRate),t}function Og(t){return Math.random()<=t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Dg,Cg=1;function xg(){return Cg=2,Dg=Dg||function(){var t=lg.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=yg.getInstance().installationsService.getId()).then((function(t){dg=t})),t;var t})).then((function(t){return Sg(t)})).then((function(){return Pg()}),(function(){return Pg()}))}function Pg(){Cg=3}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rg,Lg=1e4,Mg=3,jg=[],Vg=!1;function Ug(t){setTimeout((function(){var t,e;if(0!==Mg)return jg.length?(t=jg.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=yg.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||hg.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Lg;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(jg=Jm(e,jg),hg.info("Retry transport request later.")),Mg=3,Ug(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:yg.getInstance().logSource,log_event:e},t).catch((function(){jg=Jm(t,jg),Mg--,hg.info("Tries left: "+Mg+"."),Ug(Lg)}))):Ug(Lg)}),t)}function Fg(t){if(!t.eventTime||!t.message)throw cg.create("invalid cc log");jg=Jm(jg,[t])}function qg(t,e){Rg||(Rg=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Fg({message:t.apply(void 0,e),eventTime:Date.now()})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(Hg)),Rg(t,e)}function Bg(t){var e=yg.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&lg.getInstance().requiredApisAvailable()&&(t.isAuto&&Ig()!==vg.VISIBLE||(3===Cg?$g(t):xg().then((function(){return $g(t)}),(function(){return $g(t)}))))}function $g(t){if(mg()){var e=yg.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return qg(t,1)}),0)}}function Hg(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Kg(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Kg(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Kg(){return{google_app_id:yg.getInstance().getAppId(),app_instance_id:mg(),web_app_info:{sdk_version:tg,page_url:lg.getInstance().getUrl(),service_worker_status:wg(),visibility_state:Ig(),effective_connection_type:Eg()},application_process_state:0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zg=["_fp",rg,ig];
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gg=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=lg.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw cg.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw cg.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Bg(this)},t.prototype.record=function(t,e,n){if(t<=0)throw cg.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw cg.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Wm({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Bg(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(ng)&&zg.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw cg.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&hg.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||gg.some((function(e){return t.startsWith(e)}))||!t.match(bg))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw cg.create("invalid attribute name",{attributeName:t});if(!r)throw cg.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Wm({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=lg.getInstance().getUrl();if(i){var o=new t(ng+i,!0),s=Math.floor(1e3*lg.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(rg,Math.floor(1e3*u.startTime)),r&&o.putMetric(ig,Math.floor(1e3*r))}Bg(o)}},t.createUserTimingTrace=function(e){Bg(new t(e,!1,e))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wg(t){var e=t;if(e&&void 0!==e.responseStart){var n=lg.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=yg.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return qg(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jg(){mg()&&(setTimeout((function(){return function(){var t=lg.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Gg.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Gg.createOobTrace(e,n,t))}))}else Gg.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=lg.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Wg(r[n])}t.setupObserver("resource",Wg)}()}),0),setTimeout((function(){return function(){for(var t=lg.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Xg(r[n])}t.setupObserver("measure",Xg)}()}),0))}function Xg(t){var e=t.name;e.substring(0,eg.length)!==eg&&Gg.createUserTimingTrace(e)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yg=function(){function t(t){this.app=t,lg.getInstance().requiredApisAvailable()&&Fe().then((function(t){t&&(Vg||(Ug(5500),Vg=!0),xg().then(Jg,Jg))})).catch((function(t){hg.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Gg(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return yg.getInstance().instrumentationEnabled},set:function(t){yg.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return yg.getInstance().dataCollectionEnabled},set:function(t){yg.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw cg.create("FB not default");if("undefined"==typeof window)throw cg.create("no window");return function(t){Qm=t}(window),yg.getInstance().firebaseAppInstance=t,yg.getInstance().installationsService=e,new Yg(t)};t.INTERNAL.registerComponent(new nn("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",Zm)}(Cn);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Qg=function(){return(Qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Zg(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function tb(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var eb,nb,rb="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(eb||(eb={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(nb||(nb={}));
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ib,ob=new yn("@firebase/analytics");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sb(t,e,n,r,i,o){return Zg(this,void 0,void 0,(function(){var s,a,u,c;return tb(this,(function(h){switch(h.label){case 0:s=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=h.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),ob.error(c),[3,8];case 8:return t(eb.CONFIG,i,o),[2]}}))}))}function ab(t,e,n,r,i){return Zg(this,void 0,void 0,(function(){var o,s,a,u,c,h,f,l;return tb(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=p.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=s;c<h.length&&(f=h[c],"break"!==u(f));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(eb.EVENT,r,i||{}),[3,5];case 4:return l=p.sent(),ob.error(l),[3,5];case 5:return[2]}}))}))}function ub(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Zg(this,void 0,void 0,(function(){var a;return tb(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==eb.EVENT?[3,2]:[4,ab(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==eb.CONFIG?[3,4]:[4,sb(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(eb.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),ob.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var cb=((ib={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ib["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ib["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ib["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ib["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ib["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ib["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ib["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ib["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ib),hb=new $e("analytics","Analytics",cb),fb=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function lb(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function pb(t){var e;return Zg(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return tb(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:lb(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw hb.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function db(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=fb),Zg(this,void 0,void 0,(function(){var e,s,a,u,c,h,f;return tb(this,(function(l){switch(l.label){case 0:e=t.appId,s=t.measurementId,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,vb(n,i)];case 2:return l.sent(),[3,4];case 3:if(a=l.sent(),s)return ob.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return l.trys.push([4,6,,7]),[4,pb(t)];case 5:return u=l.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Be&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=l.sent())){if(r.deleteThrottleMetadata(e),s)return ob.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return h=503===Number(c.customData.httpStatus)?Xe(o,r.intervalMillis,30):Xe(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,f),ob.debug("Calling attemptFetch again in "+h+" millis"),[2,db(t,f,n,r)];case 7:return[2]}}))}))}function vb(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(hb.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var yb=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function mb(t,e,n,r,i){return Zg(this,void 0,void 0,(function(){var o,s,a,u,c,h,f;return tb(this,(function(l){switch(l.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=fb),Zg(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return tb(this,(function(h){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw hb.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw hb.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new yb,setTimeout((function(){return Zg(c,void 0,void 0,(function(){return tb(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,db({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ob.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return ob.error(t)})),e.push(o),s=function(){return Zg(this,void 0,void 0,(function(){var t;return tb(this,(function(e){switch(e.label){case 0:return Ue()?[3,1]:(ob.warn(hb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Fe()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),ob.warn(hb.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return a=l.sent(),u=a[0],c=a[1],i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=c&&(h.firebase_id=c),i(eb.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var gb,bb,wb={},Ib=[],Eb={},Tb="dataLayer",_b="gtag",Ab=!1;function Sb(t){if(Ab)throw hb.create("already-initialized");t.dataLayerName&&(Tb=t.dataLayerName),t.gtagName&&(_b=t.gtagName)}function Nb(t,e){!function(){var t=[];if(Ve()&&t.push("This is a browser extension environment."),qe()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=hb.create("invalid-analytics-context",{errorInfo:e});ob.warn(n.message)}}();var n=t.options.appId;if(!n)throw hb.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw hb.create("no-api-key");ob.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=wb[n])throw hb.create("already-exists",{id:n});if(!Ab){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(rb))return r}return null}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)()||function(t){var e=document.createElement("script");e.src=rb+"?l="+t,e.async=!0,document.head.appendChild(e)}(Tb),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Tb);var r=ub(wb,Ib,Eb,Tb,_b),i=r.wrappedGtag,o=r.gtagCore;bb=i,gb=o,Ab=!0}return wb[n]=mb(t,Ib,Eb,e,gb),{app:t,logEvent:function(t,e,r){(
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e,n,r,i){return Zg(this,void 0,void 0,(function(){var o,s;return tb(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(eb.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Qg(Qg({},r),{send_to:o}),t(eb.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(bb,wb[n],t,e,r).catch((function(t){return ob.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Zg(this,void 0,void 0,(function(){var i;return tb(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(eb.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(eb.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(bb,wb[n],t,e).catch((function(t){return ob.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Zg(this,void 0,void 0,(function(){var i;return tb(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(eb.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(eb.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(bb,wb[n],t,e).catch((function(t){return ob.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Zg(this,void 0,void 0,(function(){var i,o,s,a,u;return tb(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(eb.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(eb.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(bb,wb[n],t,e).catch((function(t){return ob.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Zg(this,void 0,void 0,(function(){var n;return tb(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(wb[n],t).catch((function(t){return ob.error(t)}))},INTERNAL:{delete:function(){return delete wb[n],Promise.resolve()}}}}var kb="analytics";function Ob(){return Zg(this,void 0,void 0,(function(){return tb(this,(function(t){switch(t.label){case 0:if(Ve())return[2,!1];if(!qe())return[2,!1];if(!Ue())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Fe()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}function Db(t){let e,n;return e=new Se({}),{c(){Q(e.$$.fragment)},m(t,r){Z(e,t,r),n=!0},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Cb(t){let e,n,r,i,o;return i=new De({props:{firebase:Cn,$$slots:{default:[Db]},$$scope:{ctx:t}}}),{c(){e=y("link"),n=g(),r=y("main"),Q(i.$$.fragment),I(e,"rel","stylesheet"),I(e,"href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"),I(r,"class","svelte-1h6otfa")},m(t,s){l(document.head,e),p(t,n,s),p(t,r,s),Z(i,r,null),o=!0},p(t,[e]){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){o||(J(i.$$.fragment,t),o=!0)},o(t){X(i.$$.fragment,t),o=!1},d(t){d(e),t&&d(n),t&&d(r),tt(i)}}}function xb(t){return Cn.initializeApp({}),[]}!function(t){t.INTERNAL.registerComponent(new nn(kb,(function(t){return Nb(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Sb,EventName:nb,isSupported:Ob})),t.INTERNAL.registerComponent(new nn("analytics-internal",(function(t){try{return{logEvent:t.getProvider(kb).getImmediate().logEvent}}catch(t){throw hb.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(Cn);return new class extends rt{constructor(t){super(),nt(this,t,xb,Cb,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
