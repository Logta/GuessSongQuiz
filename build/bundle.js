var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function a(t,e,n,r,i,o,a){const u=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(u){const i=s(e,n,r,a);t.p(i,u)}}function u(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function v(){return p("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let w;function I(t){w=t}function E(){if(!w)throw new Error("Function called outside component initialization");return w}function T(){const t=E();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const _=[],A=[],S=[],N=[],k=Promise.resolve();let O=!1;function D(t){S.push(t)}let C=!1;const x=new Set;function P(){if(!C){C=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];I(e),R(e.$$)}for(I(null),_.length=0;A.length;)A.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];x.has(e)||(x.add(e),e())}S.length=0}while(_.length);for(;N.length;)N.pop()();O=!1,C=!1,x.clear()}}function R(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const L=new Set;let M;function j(){M={r:0,c:[],p:M}}function V(){M.r||r(M.c),M=M.p}function U(t,e){t&&t.i&&(L.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(L.has(t))return;L.add(t),M.c.push((()=>{L.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function q(t){t&&t.c()}function B(t,n,o){const{fragment:s,on_mount:a,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,o),D((()=>{const n=a.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(D)}function H(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(_.push(t),O||(O=!0,k.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,i,o,s,a,u,c=[-1]){const f=w;I(e);const l=i.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let d=!1;if(p.ctx=o?o(e,l,((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&K(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();i.intro&&U(e.$$.fragment),B(e,i.target,i.anchor),P()}I(f)}class z{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class ${constructor(t,e){this.score=[],this.name=t,this.answer=e}}const W=t=>new $(t[1],t.slice(2)),J=t=>t.replace(/[\"]/g,"");function X(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function Y(t){let e,n,r=t[3]+1+"";return{c(){e=l("th"),n=p(r),b(e,"width",80/t[0].length+"%")},m(t,r){c(t,e,r),u(e,n)},p(t,n){1&n&&b(e,"width",80/t[0].length+"%")},d(t){t&&h(e)}}}function Q(e){let n,r,i,o,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=Y(X(e,s,t));return{c(){n=l("thead"),r=l("tr"),i=l("th"),i.textContent="回答者",o=d();for(let t=0;t<a.length;t+=1)a[t].c();b(i,"width","20%"),g(r,"class","svelte-1eaqam3"),g(n,"class","svelte-1eaqam3")},m(t,e){c(t,n,e),u(n,r),u(r,i),u(r,o);for(let t=0;t<a.length;t+=1)a[t].m(r,null)},p(t,[e]){if(1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=X(t,s,n);a[n]?a[n].p(i,e):(a[n]=Y(i),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&h(n),f(a,t)}}}function Z(t,e,n){let{header:r}=e;return t.$$set=t=>{"header"in t&&n(0,r=t.header)},[r]}class tt extends z{constructor(t){super(),G(this,t,Z,Q,o,{header:0})}}function et(t,e,n){const r=t.slice();return r[1]=e[n],r}function nt(t){let e,n,r,i=t[1].replace(/[\"]/g,"")+"";return{c(){e=l("td"),n=p(i),r=d(),b(e,"width",80/t[0].answer.length+"%"),g(e,"class","svelte-1d5xwpr")},m(t,i){c(t,e,i),u(e,n),u(e,r)},p(t,r){1&r&&i!==(i=t[1].replace(/[\"]/g,"")+"")&&m(n,i),1&r&&b(e,"width",80/t[0].answer.length+"%")},d(t){t&&h(e)}}}function rt(e){let n,r,i,o,s=e[0].name.replace(/[\"]/g,"")+"",a=e[0].answer,v=[];for(let t=0;t<a.length;t+=1)v[t]=nt(et(e,a,t));return{c(){n=l("tr"),r=l("td"),i=p(s),o=d();for(let t=0;t<v.length;t+=1)v[t].c();b(r,"width","20%"),g(r,"class","svelte-1d5xwpr"),g(n,"class","svelte-1d5xwpr")},m(t,e){c(t,n,e),u(n,r),u(r,i),u(n,o);for(let t=0;t<v.length;t+=1)v[t].m(n,null)},p(t,[e]){if(1&e&&s!==(s=t[0].name.replace(/[\"]/g,"")+"")&&m(i,s),1&e){let r;for(a=t[0].answer,r=0;r<a.length;r+=1){const i=et(t,a,r);v[r]?v[r].p(i,e):(v[r]=nt(i),v[r].c(),v[r].m(n,null))}for(;r<v.length;r+=1)v[r].d(1);v.length=a.length}},i:t,o:t,d(t){t&&h(n),f(v,t)}}}function it(t,e,n){let{answers:r}=e;return t.$$set=t=>{"answers"in t&&n(0,r=t.answers)},[r]}class ot extends z{constructor(t){super(),G(this,t,it,rt,o,{answers:0})}}function st(t,e,n){const r=t.slice();return r[1]=e[n],r}function at(t){let e,n,r=J(t[1])+"";return{c(){e=l("td"),n=p(r)},m(t,r){c(t,e,r),u(e,n)},p(t,e){1&e&&r!==(r=J(t[1])+"")&&m(n,r)},d(t){t&&h(e)}}}function ut(e){let n,r,i,o,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=at(st(e,s,t));return{c(){n=l("tfoot"),r=l("tr"),i=l("td"),i.textContent="正解",o=d();for(let t=0;t<a.length;t+=1)a[t].c();g(r,"class","svelte-fou2nt"),g(n,"class","svelte-fou2nt")},m(t,e){c(t,n,e),u(n,r),u(r,i),u(r,o);for(let t=0;t<a.length;t+=1)a[t].m(r,null)},p(t,[e]){if(1&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const i=st(t,s,n);a[n]?a[n].p(i,e):(a[n]=at(i),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:t,o:t,d(t){t&&h(n),f(a,t)}}}function ct(t,e,n){let{footer:r}=e;return t.$$set=t=>{"footer"in t&&n(0,r=t.footer)},[r]}class ht extends z{constructor(t){super(),G(this,t,ct,ut,o,{footer:0})}}function ft(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function lt(t){let e,n,r,i,o,s,a;n=new tt({props:{header:t[0].getAnswers()[0].answer}});let p=t[0].getAnswers(),v=[];for(let e=0;e<p.length;e+=1)v[e]=pt(ft(t,p,e));const y=t=>F(v[t],1,1,(()=>{v[t]=null}));return s=new ht({props:{footer:t[0].getCorrect("ok")}}),{c(){e=l("table"),q(n.$$.fragment),r=d(),i=l("tbody");for(let t=0;t<v.length;t+=1)v[t].c();o=d(),q(s.$$.fragment),g(i,"class","svelte-1cztun6"),g(e,"class","svelte-1cztun6")},m(t,h){c(t,e,h),B(n,e,null),u(e,r),u(e,i);for(let t=0;t<v.length;t+=1)v[t].m(i,null);u(e,o),B(s,e,null),a=!0},p(t,e){const r={};if(1&e&&(r.header=t[0].getAnswers()[0].answer),n.$set(r),1&e){let n;for(p=t[0].getAnswers(),n=0;n<p.length;n+=1){const r=ft(t,p,n);v[n]?(v[n].p(r,e),U(v[n],1)):(v[n]=pt(r),v[n].c(),U(v[n],1),v[n].m(i,null))}for(j(),n=p.length;n<v.length;n+=1)y(n);V()}const o={};1&e&&(o.footer=t[0].getCorrect("ok")),s.$set(o)},i(t){if(!a){U(n.$$.fragment,t);for(let t=0;t<p.length;t+=1)U(v[t]);U(s.$$.fragment,t),a=!0}},o(t){F(n.$$.fragment,t),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)F(v[t]);F(s.$$.fragment,t),a=!1},d(t){t&&h(e),H(n),f(v,t),H(s)}}}function pt(t){let e,n,r=0!=t[3]&&function(t){let e,n;return e=new ot({props:{answers:t[1]}}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.answers=t[1]),e.$set(r)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}(t);return{c(){r&&r.c(),e=v()},m(t,i){r&&r.m(t,i),c(t,e,i),n=!0},p(t,e){0!=t[3]&&r.p(t,e)},i(t){n||(U(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&h(e)}}}function dt(t){let e,n,r=t[0]&&lt(t);return{c(){e=l("div"),r&&r.c(),g(e,"id","answerTable")},m(t,i){c(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&U(r,1)):(r=lt(t),r.c(),U(r,1),r.m(e,null)):r&&(j(),F(r,1,1,(()=>{r=null})),V())},i(t){n||(U(r),n=!0)},o(t){F(r),n=!1},d(t){t&&h(e),r&&r.d()}}}function vt(t,e,n){let{answers:r}=e;return t.$$set=t=>{"answers"in t&&n(0,r=t.answers)},[r]}class yt extends z{constructor(t){super(),G(this,t,vt,dt,o,{answers:0})}}class gt{constructor(){this.getAnswers=()=>this.answers,this.setAnswers=t=>{const e=t.map((t=>{t.answer.length})),n=1==Array.from(new Set(e)).length;return this.answers=n?t:void 0,n},this.getCorrect=t=>{let e=[];for(let n=0;n<this.answers[0].answer.length;n++)for(const r of this.answers)if(J(r.answer[n])===t){e.push(r.name);break}return e},this.calcScore=t=>{const e=this.getCorrect(t);for(const t of this.answers){let n=[];t.answer.forEach(((t,r)=>{const i=e[r];n.push(J(t)===J(i))})),t.score=n}},this.getScoreBoard=t=>{let e=new Array;for(const n of this.answers){let r=[];r.push(n.name),r.push(this.getScoreForScoreBoard(n,t)),e.push(r)}return e},this.getScoreForScoreBoard=(t,e)=>{const n=this.getCorrect(e);let r=0;return r=t.score.filter((t=>t)).length,n.forEach(((e,n)=>{if(J(e)===J(t.name)){const e=this.answers.filter((t=>t.score[n])).length;console.log(t.name),console.log("index:"+n),console.log("point:"+(0===e?0:this.answers.length-2-e)),r+=0===e?0:this.answers.length-2-e}})),r.toString()}}}function mt(e){let n,r,i,o,s,a,f=e[0][0]+"",v=e[0][1]+"";return{c(){n=l("tr"),r=l("th"),i=p(f),o=d(),s=l("td"),a=p(v),b(r,"width","20%"),b(s,"width","20%"),g(s,"class","svelte-1d5xwpr"),g(n,"class","svelte-1d5xwpr")},m(t,e){c(t,n,e),u(n,r),u(r,i),u(n,o),u(n,s),u(s,a)},p(t,[e]){1&e&&f!==(f=t[0][0]+"")&&m(i,f),1&e&&v!==(v=t[0][1]+"")&&m(a,v)},i:t,o:t,d(t){t&&h(n)}}}function bt(t,e,n){let{score:r}=e;return t.$$set=t=>{"score"in t&&n(0,r=t.score)},[r]}class wt extends z{constructor(t){super(),G(this,t,bt,mt,o,{score:0})}}function It(t,e,n){const r=t.slice();return r[1]=e[n],r}function Et(t){let e,n,r=t[0].getScoreBoard("ok"),i=[];for(let e=0;e<r.length;e+=1)i[e]=Tt(It(t,r,e));const o=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=l("table");for(let t=0;t<i.length;t+=1)i[t].c();g(e,"class","svelte-9b14pv")},m(t,r){c(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(1&n){let s;for(r=t[0].getScoreBoard("ok"),s=0;s<r.length;s+=1){const o=It(t,r,s);i[s]?(i[s].p(o,n),U(i[s],1)):(i[s]=Tt(o),i[s].c(),U(i[s],1),i[s].m(e,null))}for(j(),s=r.length;s<i.length;s+=1)o(s);V()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)U(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);n=!1},d(t){t&&h(e),f(i,t)}}}function Tt(t){let e,n;return e=new wt({props:{score:t[1]}}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.score=t[1]),e.$set(r)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function _t(t){let e,n,r=t[0]&&Et(t);return{c(){e=l("div"),r&&r.c(),g(e,"id","answerTable")},m(t,i){c(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&U(r,1)):(r=Et(t),r.c(),U(r,1),r.m(e,null)):r&&(j(),F(r,1,1,(()=>{r=null})),V())},i(t){n||(U(r),n=!0)},o(t){F(r),n=!1},d(t){t&&h(e),r&&r.d()}}}function At(t,e,n){let{scores:r}=e;return t.$$set=t=>{"scores"in t&&n(0,r=t.scores)},[r]}class St extends z{constructor(t){super(),G(this,t,At,_t,o,{scores:0})}}function Nt(t){let e,n,i,o,s,a,f,p,v,m,b,w,I,E,T,_,A,S,N,k,O;return _=new yt({props:{answers:t[0]}}),S=new St({props:{scores:t[0]}}),{c(){e=l("div"),n=l("h1"),n.textContent="曲あてクイズ",i=d(),o=l("h2"),o.textContent="得点計算",s=d(),a=l("div"),f=l("h3"),f.textContent="ファイル指定",p=d(),v=l("input"),m=d(),b=l("div"),w=l("h3"),w.textContent="計算",I=d(),E=l("button"),E.textContent="計算開始",T=d(),q(_.$$.fragment),A=d(),q(S.$$.fragment),g(n,"class","svelte-ls3497"),g(v,"type","file"),g(v,"id","file"),g(a,"class","svelte-ls3497"),g(b,"class","svelte-ls3497"),g(e,"id","home"),g(e,"class","svelte-ls3497")},m(r,h){c(r,e,h),u(e,n),u(e,i),u(e,o),u(e,s),u(e,a),u(a,f),u(a,p),u(a,v),u(e,m),u(e,b),u(b,w),u(b,I),u(b,E),u(e,T),B(_,e,null),u(e,A),B(S,e,null),N=!0,k||(O=[y(v,"change",t[1]),y(E,"click",t[2])],k=!0)},p(t,[e]){const n={};1&e&&(n.answers=t[0]),_.$set(n);const r={};1&e&&(r.scores=t[0]),S.$set(r)},i(t){N||(U(_.$$.fragment,t),U(S.$$.fragment,t),N=!0)},o(t){F(_.$$.fragment,t),F(S.$$.fragment,t),N=!1},d(t){t&&h(e),H(_),H(S),k=!1,r(O)}}}function kt(t,e,n){let r,i="";return[r,t=>{var e=t.target.files[0],n=new FileReader;null!=e.name.match(".csv$")?(n.onerror=function(){alert("ファイル読み取りに失敗しました")},n.readAsText(e),n.addEventListener("load",(function(){i=n.result}))):alert("csvファイルを選択してください")},()=>{const t=(t=>t.split("\n").map((t=>W(t.split(",")))))(i);n(0,r=new gt),r.setAnswers(t),r.calcScore("ok")}]}class Ot extends z{constructor(t){super(),G(this,t,kt,Nt,o,{})}}function Dt(t){let e;const n=t[5].default,r=function(t,e,n,r){if(t){const i=s(t,e,n,r);return t[0](i)}}(n,t,t[4],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&16&e&&a(r,n,t,t[4],e,null,null)},i(t){e||(U(r,t),e=!0)},o(t){F(r,t),e=!1},d(t){r&&r.d(t)}}}function Ct(t){let e,n,r=t[0]&&Dt(t);return{c(){r&&r.c(),e=v()},m(t,i){r&&r.m(t,i),c(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&U(r,1)):(r=Dt(t),r.c(),U(r,1),r.m(e.parentNode,e)):r&&(j(),F(r,1,1,(()=>{r=null})),V())},i(t){n||(U(r),n=!0)},o(t){F(r),n=!1},d(t){r&&r.d(t),t&&h(e)}}}function xt(t,e,n){let{$$slots:r={},$$scope:i}=e,{firebase:o}=e,{perf:s=!1}=e,{analytics:a=!1}=e,u=!1;const c=T();var h,f;return h="firebase",f={getFirebase:()=>o},E().$$.context.set(h,f),function(t){E().$$.on_mount.push(t)}((()=>{if(n(1,o=o||window&&window.firebase),!o)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");s&&o.performance(),a&&o.analytics(),c("initializeApp",{firebase:o}),n(0,u=!0)})),t.$$set=t=>{"firebase"in t&&n(1,o=t.firebase),"perf"in t&&n(2,s=t.perf),"analytics"in t&&n(3,a=t.analytics),"$$scope"in t&&n(4,i=t.$$scope)},[u,o,s,a,i,r]}class Pt extends z{constructor(t){super(),G(this,t,xt,Ct,o,{firebase:1,perf:2,analytics:3})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Rt=function(){return(Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Lt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Mt=function(t,e){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function jt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=jt(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Vt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function qt(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Bt(){return"indexedDB"in self&&null!=indexedDB}function Ht(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Kt(){return!(!navigator||!navigator.cookieEnabled)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,zt.prototype.create),o}return function(t,e){function n(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t),e}(Error),zt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?$t(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Gt(i,a,r);return u},t}();function $t(t,e){return t.replace(Wt,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Wt=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xt(t,e){var n=new Yt(t,e);return n.subscribe.bind(n)}var Yt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Qt(){}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zt(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var te=function(){return(te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ee(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ne(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function re(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ie(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(re(arguments[e]));return t}var oe=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),se="[DEFAULT]",ae=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=se);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Vt;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=te({identifier:se,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService(se)}catch(t){}try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=re(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=se),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ee(this,void 0,void 0,(function(){var t;return ne(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ie(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===se?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:se:t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ue,ce=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ae(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function he(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fe,le=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(fe||(fe={}));var pe,de={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ve=fe.INFO,ye=((ue={})[fe.DEBUG]="log",ue[fe.VERBOSE]="log",ue[fe.INFO]="info",ue[fe.WARN]="warn",ue[fe.ERROR]="error",ue),ge=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ye[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,he(["["+i+"]  "+t.name+":"],n))}},me=function(){function t(t){this.name=t,this._logLevel=ve,this._logHandler=ge,this._userLogHandler=null,le.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in fe))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?de[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,fe.DEBUG],t)),this._logHandler.apply(this,he([this,fe.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,fe.VERBOSE],t)),this._logHandler.apply(this,he([this,fe.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,fe.INFO],t)),this._logHandler.apply(this,he([this,fe.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,fe.WARN],t)),this._logHandler.apply(this,he([this,fe.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,fe.ERROR],t)),this._logHandler.apply(this,he([this,fe.ERROR],t))},t}();function be(t){le.forEach((function(e){e.setLogLevel(t)}))}var we,Ie=((pe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",pe["bad-app-name"]="Illegal App name: '{$appName}",pe["duplicate-app"]="Firebase App named '{$appName}' already exists",pe["app-deleted"]="Firebase App named '{$appName}' already deleted",pe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",pe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",pe),Ee=new zt("app","Firebase",Ie),Te="@firebase/app",_e="[DEFAULT]",Ae=((we={})[Te]="fire-core",we["@firebase/analytics"]="fire-analytics",we["@firebase/auth"]="fire-auth",we["@firebase/database"]="fire-rtdb",we["@firebase/functions"]="fire-fn",we["@firebase/installations"]="fire-iid",we["@firebase/messaging"]="fire-fcm",we["@firebase/performance"]="fire-perf",we["@firebase/remote-config"]="fire-rc",we["@firebase/storage"]="fire-gcs",we["@firebase/firestore"]="fire-fst",we["fire-js"]="fire-js",we["firebase-wrapper"]="fire-js-all",we),Se=new me("@firebase/app"),Ne=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=jt(void 0,t),this.container=new ce(e.name),this._addComponent(new oe("app",(function(){return o}),"PUBLIC"));try{for(var s=Lt(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=_e),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=_e),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Se.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ee.create("app-deleted",{appName:this.name_})},t}();Ne.prototype.name&&Ne.prototype.options||Ne.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ke(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=_e);var s=o.name;if("string"!=typeof s||!s)throw Ee.create("bad-app-name",{appName:String(s)});if(Jt(e,s))throw Ee.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Ae[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Se.warn(u.join(" "))}o(new oe(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:be,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Ee.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=de[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:fe[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=le;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Jt(e,t=t||_e))throw Ee.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return Se.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw Ee.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&jt(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var h=Lt(Object.keys(e)),f=h.next();!f.done;f=h.next()){var l=f.value;e[l]._addComponent(o)}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Oe=function t(){var e=ke(Ne);return e.INTERNAL=Rt(Rt({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){jt(e,t)},createSubscribe:Xt,ErrorFactory:zt,deepExtend:jt}),e}(),De=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&Se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xe=Oe.initializeApp;Oe.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ft()&&Se.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),xe.apply(void 0,t)};var Pe=Oe;!function(t,e){t.INTERNAL.registerComponent(new oe("platform-logger",(function(t){return new De(t)}),"PRIVATE")),t.registerVersion(Te,"0.6.13",e),t.registerVersion("fire-js","")}(Pe);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Pe.registerVersion("firebase","8.2.1","app");
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Le(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Me,je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ve=Ve||{},Ue=je||self;function Fe(){}function qe(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Be(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),Ke=0;function Ge(t,e,n){return t.call.apply(t.bind,arguments)}function ze(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function $e(t,e,n){return($e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:ze).apply(null,arguments)}function We(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Je(){return Date.now()}function Xe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ye(){this.j=this.j,this.i=this.i}Ye.prototype.j=!1,Ye.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,He)&&t[He]||(t[He]=++Ke)})(this)},Ye.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Qe=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ze=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tn(t){return Array.prototype.concat.apply([],arguments)}function en(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function nn(t){return/^[\s\xa0]*$/.test(t)}var rn,on=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function sn(t,e){return-1!=t.indexOf(e)}function an(t,e){return t<e?-1:t>e?1:0}t:{var un=Ue.navigator;if(un){var cn=un.userAgent;if(cn){rn=cn;break t}}rn=""}function hn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function fn(t){var e={};for(var n in t)e[n]=t[n];return e}var ln="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ln.length;o++)n=ln[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dn(t){return dn[" "](t),t}dn[" "]=Fe;var vn,yn,gn=sn(rn,"Opera"),mn=sn(rn,"Trident")||sn(rn,"MSIE"),bn=sn(rn,"Edge"),wn=bn||mn,In=sn(rn,"Gecko")&&!(sn(rn.toLowerCase(),"webkit")&&!sn(rn,"Edge"))&&!(sn(rn,"Trident")||sn(rn,"MSIE"))&&!sn(rn,"Edge"),En=sn(rn.toLowerCase(),"webkit")&&!sn(rn,"Edge");function Tn(){var t=Ue.document;return t?t.documentMode:void 0}t:{var _n="",An=(yn=rn,In?/rv:([^\);]+)(\)|;)/.exec(yn):bn?/Edge\/([\d\.]+)/.exec(yn):mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(yn):En?/WebKit\/(\S+)/.exec(yn):gn?/(?:Version)[ \/]?(\S+)/.exec(yn):void 0);if(An&&(_n=An?An[1]:""),mn){var Sn=Tn();if(null!=Sn&&Sn>parseFloat(_n)){vn=String(Sn);break t}}vn=_n}var Nn,kn={};function On(t){return function(t,e){var n=kn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=on(String(vn)).split("."),r=on(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=an(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||an(0==s[2].length,0==a[2].length)||an(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Ue.document&&mn){var Dn=Tn();Nn=Dn||(parseInt(vn,10)||void 0)}else Nn=void 0;var Cn=Nn,xn=!mn||9<=Number(Cn),Pn=mn&&!On("9"),Rn=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ue.addEventListener("test",Fe,e),Ue.removeEventListener("test",Fe,e)}catch(t){}return t}();function Ln(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Mn(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(In){t:{try{dn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ln.prototype.b=function(){this.defaultPrevented=!0},Xe(Mn,Ln);var jn={2:"touch",3:"pen",4:"mouse"};Mn.prototype.b=function(){Mn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Vn="closure_listenable_"+(1e6*Math.random()|0),Un=0;function Fn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Un,this.Y=this.Z=!1}function qn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Bn(t){this.src=t,this.a={},this.b=0}function Hn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Qe(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Kn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Bn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Kn(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Fn(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Gn="closure_lm_"+(1e6*Math.random()|0),zn={};function $n(t,e,n,r,i){if(r&&r.once)return Jn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$n(t,e[o],n,r,i);return null}return n=rr(n),t&&t[Vn]?t.va(e,n,Be(r)?!!r.capture:!!r,i):Wn(t,e,n,!1,r,i)}function Wn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Be(i)?!!i.capture:!!i;if(s&&!xn)return null;var a=er(t);if(a||(t[Gn]=a=new Bn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=tr,e=xn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jn(t,e[o],n,r,i);return null}return n=rr(n),t&&t[Vn]?t.wa(e,n,Be(r)?!!r.capture:!!r,i):Wn(t,e,n,!0,r,i)}function Xn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xn(t,e[o],n,r,i);else r=Be(r)?!!r.capture:!!r,n=rr(n),t&&t[Vn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Kn(o=t.a[e],n,r,i))&&(qn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=er(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Kn(e,n,r,i)),(n=-1<t?e[t]:null)&&Yn(n))}function Yn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Vn])Hn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=er(e))?(Hn(n,t),0==n.b&&(n.src=null,e[Gn]=null)):qn(t)}}}function Qn(t){return t in zn?zn[t]:zn[t]="on"+t}function Zn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Yn(t),n.call(r,e)}function tr(t,e){if(t.Y)return!0;if(!xn){if(!e)t:{e=["window","event"];for(var n=Ue,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Zn(t,e=new Mn(e,this))}return Zn(t,new Mn(e,this))}function er(t){return(t=t[Gn])instanceof Bn?t:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(t){return"function"==typeof t?t:(t[nr]||(t[nr]=function(e){return t.handleEvent(e)}),t[nr])}function ir(){Ye.call(this),this.c=new Bn(this),this.J=this,this.C=null}function or(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;pn(e=new Ln(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=sr(s,r,!0,e)&&i}if(i=sr(s=e.a=t,r,!0,e)&&i,i=sr(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=sr(s=e.a=n[o],r,!1,e)&&i}function sr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Hn(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Xe(ir,Ye),ir.prototype[Vn]=!0,(Me=ir.prototype).addEventListener=function(t,e,n,r){$n(this,t,e,n,r)},Me.removeEventListener=function(t,e,n,r){Xn(this,t,e,n,r)},Me.G=function(){if(ir.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qn(n[r]);delete e.a[t],e.b--}}this.C=null},Me.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Me.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ar=Ue.JSON.stringify;function ur(){this.b=this.a=null}var cr,hr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new lr}),(function(t){t.reset()}));function fr(){var t=yr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function lr(){this.next=this.b=this.a=null}function pr(t){Ue.setTimeout((function(){throw t}),0)}function dr(t,e){cr||function(){var t=Ue.Promise.resolve(void 0);cr=function(){t.then(gr)}}(),vr||(cr(),vr=!0),yr.add(t,e)}ur.prototype.add=function(t,e){var n=hr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},lr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},lr.prototype.reset=function(){this.next=this.b=this.a=null};var vr=!1,yr=new ur;function gr(){for(var t;t=fr();){try{t.a.call(t.b)}catch(t){pr(t)}var e=hr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}vr=!1}function mr(t,e){ir.call(this),this.b=t||1,this.a=e||Ue,this.f=$e(this.Za,this),this.g=Je()}function br(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function wr(t,e,n){if("function"==typeof t)n&&(t=$e(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$e(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ue.setTimeout(t,e||0)}function Ir(t){t.a=wr((function(){t.a=null,t.c&&(t.c=!1,Ir(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Xe(mr,ir),(Me=mr.prototype).aa=!1,Me.M=null,Me.Za=function(){if(this.aa){var t=Je()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),or(this,"tick"),this.aa&&(br(this),this.start()))}},Me.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Je())},Me.G=function(){mr.X.G.call(this),br(this),delete this.a};var Er=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ir(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ue.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ye);function Tr(t){Ye.call(this),this.b=t,this.a={}}Xe(Tr,Ye);var _r=[];function Ar(t,e,n,r){Array.isArray(n)||(n&&(_r[0]=n.toString()),n=_r);for(var i=0;i<n.length;i++){var o=$n(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Sr(t){hn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Yn(t)}),t),t.a={}}function Nr(){this.a=!0}function kr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ar(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Tr.prototype.G=function(){Tr.X.G.call(this),Sr(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nr.prototype.info=function(){};var Or={},Dr=null;function Cr(){return Dr=Dr||new ir}function xr(t){Ln.call(this,Or.Fa,t)}function Pr(t){var e=Cr();or(e,new xr(e,t))}function Rr(t,e){Ln.call(this,Or.STAT_EVENT,t),this.stat=e}function Lr(t){var e=Cr();or(e,new Rr(e,t))}function Mr(t){Ln.call(this,Or.Ga,t)}function jr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ue.setTimeout((function(){t()}),e)}Or.Fa="serverreachability",Xe(xr,Ln),Or.STAT_EVENT="statevent",Xe(Rr,Ln),Or.Ga="timingevent",Xe(Mr,Ln);var Vr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ur={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Fr(){}function qr(t){var e;return(e=t.a)||(e=t.a={}),e}function Br(){}Fr.prototype.a=null;var Hr,Kr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Gr(){Ln.call(this,"d")}function zr(){Ln.call(this,"c")}function $r(){}function Wr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Tr(this),this.P=Jr,t=wn?125:void 0,this.R=new mr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Xe(Gr,Ln),Xe(zr,Ln),Xe($r,Fr),Hr=new $r;var Jr=45e3,Xr={},Yr={};function Qr(t,e,n){t.H=1,t.i=wi(di(e)),t.j=n,t.I=!0,Zr(t,null)}function Zr(t,e){t.u=Je(),ni(t),t.l=di(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Pi(n.b,"t",r),t.D=0,t.a=ko(t.g,t.g.C?e:null),0<t.O&&(t.F=new Er($e(t.Ca,t,t.a),t.O)),Ar(t.J,t.a,"readystatechange",t.Xa),e=t.B?fn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Pr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ti(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ei(t,n);if(i==Yr){4==e&&(t.h=4,Lr(14),r=!1),kr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Xr){t.h=4,Lr(15),kr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}kr(t.c,t.f,i,null),ai(t,i)}4==e&&0==n.length&&(t.h=1,Lr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),wo(e),e.F=!0,Lr(11))):(kr(t.c,t.f,n,"[Invalid Chunked Response]"),si(t),oi(t))}function ei(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Yr:(n=Number(e.substring(n,r)),isNaN(n)?Xr:(r+=1)+n>e.length?Yr:(e=e.substr(r,n),t.D=r+n,e))}function ni(t){t.T=Je()+t.P,ri(t,t.P)}function ri(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=jr($e(t.Va,t),e)}function ii(t){t.o&&(Ue.clearTimeout(t.o),t.o=null)}function oi(t){0==t.g.v||t.A||To(t.g,t)}function si(t){ii(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,br(t.R),Sr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ai(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Fi(n.b,t)))if(n.I=t.N,!t.C&&Fi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Eo(n),ho(n)}bo(n),Lr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=jr($e(n.Sa,n),6e3));if(1>=Ui(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Ao(n,11)}else if((t.C||n.a==t)&&Eo(n),!nn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=u.b;!f.a&&(sn(h,"spdy")||sn(h,"quic")||sn(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(qi(f,f.b),f.b=null))}if(u.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(u.na=l,bi(u.B,u.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Je()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=No(u,u.C?u.ga:null,u.fa),p.C){Bi(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(ii(d),ni(d)),u.a=p}else mo(u);0<n.g.length&&po(n)}else"stop"!=i[0]&&"close"!=i[0]||Ao(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ao(n,7):co(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Pr(4)}catch(t){}}function ui(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(qe(t)||"string"==typeof t)Ze(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(qe(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(qe(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ci(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ci)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];fi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)fi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function fi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Me=Wr.prototype).setTimeout=function(t){this.P=t},Me.Xa=function(t){t=t.target;var e=this.F;e&&3==oo(t)?e.f():this.Ca(t)},Me.Ca=function(t){try{if(t==this.a)t:{var e=oo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!wn&&!this.a.$())){this.A||4!=e||7==n||Pr(8==n||0>=r?3:2),ii(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Lr(12),si(this),oi(this);break t}kr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ai(this,u)}this.I?(ti(this,e,o),wn&&this.b&&3==e&&(Ar(this.J,this.R,"tick",this.Wa),this.R.start())):(kr(this.c,this.f,o,null),ai(this,o)),4==e&&si(this),this.b&&!this.A&&(4==e?To(this.g,this):(this.b=!1,ni(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Lr(12)):(this.h=0,Lr(13)),si(this),oi(this)}}}catch(t){}},Me.Wa=function(){if(this.a){var t=oo(this.a),e=this.a.$();this.D<e.length&&(ii(this),ti(this,t,e),this.b&&4!=t&&ni(this))}},Me.cancel=function(){this.A=!0,si(this)},Me.Va=function(){this.o=null;var t=Je();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Pr(3),Lr(17)),si(this),this.h=2,oi(this)):ri(this,this.T-t)},(Me=ci.prototype).K=function(){hi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Me.L=function(){return hi(this),this.a.concat()},Me.get=function(t,e){return fi(this.b,t)?this.b[t]:e},Me.set=function(t,e){fi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Me.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var li=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pi(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof pi){this.a=void 0!==e?e:t.a,vi(this,t.f),this.j=t.j,yi(this,t.c),gi(this,t.h),this.g=t.g,e=t.b;var n=new Oi;n.c=e.c,e.a&&(n.a=new ci(e.a),n.b=e.b),mi(this,n),this.i=t.i}else t&&(n=String(t).match(li))?(this.a=!!e,vi(this,n[1]||"",!0),this.j=Ii(n[2]||""),yi(this,n[3]||"",!0),gi(this,n[4]),this.g=Ii(n[5]||"",!0),mi(this,n[6]||"",!0),this.i=Ii(n[7]||"")):(this.a=!!e,this.b=new Oi(null,this.a))}function di(t){return new pi(t)}function vi(t,e,n){t.f=n?Ii(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function yi(t,e,n){t.c=n?Ii(e,!0):e}function gi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function mi(t,e,n){e instanceof Oi?(t.b=e,function(t,e){e&&!t.f&&(Di(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ci(this,e),Pi(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ei(e,Ni)),t.b=new Oi(e,t.a))}function bi(t,e,n){t.b.set(e,n)}function wi(t){return bi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Je()).toString(36)),t}function Ii(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ei(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ti),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ti(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pi.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ei(e,_i,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ei(e,_i,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ei(n,"/"==n.charAt(0)?Si:Ai,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ei(n,ki)),t.join("")};var _i=/[#\/\?@]/g,Ai=/[#\?:]/g,Si=/[#\?]/g,Ni=/[#\?@]/g,ki=/#/g;function Oi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Di(t){t.a||(t.a=new ci,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ci(t,e){Di(t),e=Ri(t,e),fi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,fi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&hi(t)))}function xi(t,e){return Di(t),e=Ri(t,e),fi(t.a.b,e)}function Pi(t,e,n){Ci(t,e),0<n.length&&(t.c=null,t.a.set(Ri(t,e),en(n)),t.b+=n.length)}function Ri(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Me=Oi.prototype).add=function(t,e){Di(this),this.c=null,t=Ri(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Me.forEach=function(t,e){Di(this),this.a.forEach((function(n,r){Ze(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Me.L=function(){Di(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Me.K=function(t){Di(this);var e=[];if("string"==typeof t)xi(this,t)&&(e=tn(e,this.a.get(Ri(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tn(e,t[n])}return e},Me.set=function(t,e){return Di(this),this.c=null,xi(this,t=Ri(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Me.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Me.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Li=function(t,e){this.b=t,this.a=e};function Mi(t){this.g=t||ji,Ue.PerformanceNavigationTiming?t=0<(t=Ue.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Ue.ia&&Ue.ia.ya&&Ue.ia.ya()&&Ue.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ji=10;function Vi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ui(t){return t.b?1:t.a?t.a.size:0}function Fi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function qi(t,e){t.a?t.a.add(e):t.b=e}function Bi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Le(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return en(t.c)}function Ki(){}function Gi(){this.a=new Ki}function zi(t,e,n){var r=n||"";try{ui(t,(function(t,n){var i=t;Be(t)&&(i=ar(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function $i(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Mi.prototype.cancel=function(){var t,e;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Le(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ki.prototype.stringify=function(t){return Ue.JSON.stringify(t,void 0)},Ki.prototype.parse=function(t){return Ue.JSON.parse(t,void 0)};var Wi=Ue.JSON.parse;function Ji(t){ir.call(this),this.headers=new ci,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Xi,this.D=this.F=!1}Xe(Ji,ir);var Xi="",Yi=/^https?$/i,Qi=["POST","PUT"];function Zi(t){return"content-type"==t.toLowerCase()}function to(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,eo(t),ro(t)}function eo(t){t.u||(t.u=!0,or(t,"complete"),or(t,"error"))}function no(t){if(t.b&&void 0!==Ve&&(!t.s[1]||4!=oo(t)||2!=t.W()))if(t.l&&4==oo(t))wr(t.za,0,t);else if(or(t,"readystatechange"),4==oo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(li)[1]||null;if(!o&&Ue.self&&Ue.self.location){var s=Ue.self.location.protocol;o=s.substr(0,s.length-1)}i=!Yi.test(o?o.toLowerCase():"")}e=i}if(e)or(t,"complete"),or(t,"success");else{t.h=6;try{var a=2<oo(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",eo(t)}}finally{ro(t)}}}function ro(t,e){if(t.a){io(t);var n=t.a,r=t.s[0]?Fe:null;t.a=null,t.s=null,e||or(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function io(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ue.clearTimeout(t.m),t.m=null)}function oo(t){return t.a?t.a.readyState:0}function so(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return hn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):bi(t,e,n))}function ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uo(t){this.pa=0,this.g=[],this.c=new Nr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ao("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ao("baseRetryDelayMs",5e3,t),this.Ra=ao("retryDelaySeedMs",1e4,t),this.Ma=ao("forwardChannelMaxRetries",2,t),this.ma=ao("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Mi(t&&t.concurrentRequestLimit),this.ka=new Gi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function co(t){if(fo(t),3==t.v){var e=t.R++,n=di(t.B);bi(n,"SID",t.J),bi(n,"RID",e),bi(n,"TYPE","terminate"),yo(t,n),(e=new Wr(t,t.c,e,void 0)).H=2,e.i=wi(di(n)),n=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(n=Ue.navigator.sendBeacon(e.i.toString(),"")),!n&&Ue.Image&&((new Image).src=e.i,n=!0),n||(e.a=ko(e.g,null),e.a.ba(e.i)),e.u=Je(),ni(e)}So(t)}function ho(t){t.a&&(wo(t),t.a.cancel(),t.a=null)}function fo(t){ho(t),t.j&&(Ue.clearTimeout(t.j),t.j=null),Eo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ue.clearTimeout(t.h),t.h=null)}function lo(t,e){t.g.push(new Li(t.Oa++,e)),3==t.v&&po(t)}function po(t){Vi(t.b)||t.h||(t.h=!0,dr(t.Ba,t),t.u=0)}function vo(t,e){var n;n=e?e.f:t.R++;var r=di(t.B);bi(r,"SID",t.J),bi(r,"RID",n),bi(r,"AID",t.P),yo(t,r),t.i&&t.l&&so(r,t.i,t.l),n=new Wr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=go(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),qi(t.b,n),Qr(n,r,e)}function yo(t,e){t.f&&ui({},(function(t,n){bi(e,n,t)}))}function go(t,e,n){n=Math.min(t.g.length,n);var r=t.f?$e(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{zi(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function mo(t){t.a||t.j||(t.T=1,dr(t.Aa,t),t.o=0)}function bo(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=jr($e(t.Aa,t),_o(t,t.o)),t.o++,!0)}function wo(t){null!=t.s&&(Ue.clearTimeout(t.s),t.s=null)}function Io(t){t.a=new Wr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=di(t.la);bi(e,"RID","rpc"),bi(e,"SID",t.J),bi(e,"CI",t.H?"0":"1"),bi(e,"AID",t.P),yo(t,e),bi(e,"TYPE","xmlhttp"),t.i&&t.l&&so(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wi(di(e)),n.j=null,n.I=!0,Zr(n,t)}function Eo(t){null!=t.m&&(Ue.clearTimeout(t.m),t.m=null)}function To(t,e){var n=null;if(t.a==e){Eo(t),wo(t),t.a=null;var r=2}else{if(!Fi(t.b,e))return;n=e.s,Bi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Je()-e.u;var i=t.u;or(r=Cr(),new Mr(r,n,e,i)),po(t)}else mo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ui(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=jr($e(t.Ba,t,e),_o(t,t.u)),t.u++,0)))}(t,e)||2==r&&bo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ao(t,5);break;case 4:Ao(t,10);break;case 3:Ao(t,6);break;default:Ao(t,2)}}function _o(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ao(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=$e(t.Ya,t);n||(n=new pi("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||vi(n,"https"),wi(n)),function(t,e){var n=new Nr;if(Ue.Image){var r=new Image;r.onload=We($i,n,r,"TestLoadImage: loaded",!0,e),r.onerror=We($i,n,r,"TestLoadImage: error",!1,e),r.onabort=We($i,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=We($i,n,r,"TestLoadImage: timeout",!1,e),Ue.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Lr(2);t.v=0,t.f&&t.f.ra(e),So(t),fo(t)}function So(t){t.v=0,t.I=-1,t.f&&(0==Hi(t.b).length&&0==t.g.length||(t.b.c.length=0,en(t.g),t.g.length=0),t.f.qa())}function No(t,e,n){var r=function(t){return t instanceof pi?di(t):new pi(t,void 0)}(n);if(""!=r.c)e&&yi(r,e+"."+r.c),gi(r,r.h);else{var i=Ue.location;r=function(t,e,n,r){var i=new pi(null,void 0);return t&&vi(i,t),e&&yi(i,e),n&&gi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&hn(t.V,(function(t,e){bi(r,e,t)})),e=t.A,n=t.na,e&&n&&bi(r,e,n),bi(r,"VER",t.ha),yo(t,r),r}function ko(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ji(t.Na)).F=t.C,e}function Oo(){}function Do(){if(mn&&!(10<=Number(Cn)))throw Error("Environmental error: no available transport.")}function Co(t,e){ir.call(this),this.a=new uo(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!nn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Ro(this)}function xo(t){Gr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Po(){zr.call(this),this.status=1}function Ro(t){this.a=t}(Me=Ji.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?qr(this.H):qr(Hr),this.a.onreadystatechange=$e(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void to(this,t)}t=n||"";var i=new ci(this.headers);r&&ui(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Zi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ue.FormData&&t instanceof Ue.FormData,!(0<=Qe(Qi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{io(this),0<this.o&&((this.D=function(t){return mn&&On(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=$e(this.xa,this)):this.m=wr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){to(this,t)}},Me.xa=function(){void 0!==Ve&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,or(this,"timeout"),this.abort(8))},Me.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,or(this,"complete"),or(this,"abort"),ro(this))},Me.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ro(this,!0)),Ji.X.G.call(this)},Me.za=function(){this.j||(this.A||this.l||this.g?no(this):this.Ua())},Me.Ua=function(){no(this)},Me.W=function(){try{return 2<oo(this)?this.a.status:-1}catch(t){return-1}},Me.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Me.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wi(e)}},Me.ua=function(){return this.h},Me.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Me=uo.prototype).ha=8,Me.v=1,Me.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Wr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?pn(r=fn(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=go(this,n,e),bi(i=di(this.B),"RID",t),bi(i,"CVER",22),this.A&&bi(i,"X-HTTP-Session-Id",this.A),yo(this,i),this.i&&r&&so(i,this.i,r),qi(this.b,n),this.Ia&&bi(i,"TYPE","init"),this.da?(bi(i,"$req",e),bi(i,"SID","null"),n.U=!0,Qr(n,i,null)):Qr(n,i,e),this.v=2}}else 3==this.v&&(t?vo(this,t):0==this.g.length||Vi(this.b)||vo(this))},Me.Aa=function(){if(this.j=null,Io(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=jr($e(this.Ta,this),t)}},Me.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Lr(10),ho(this),Io(this))},Me.Sa=function(){null!=this.m&&(this.m=null,ho(this),bo(this),Lr(19))},Me.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Lr(2)):(this.c.info("Failed to ping google.com"),Lr(1))},(Me=Oo.prototype).ta=function(){},Me.sa=function(){},Me.ra=function(){},Me.qa=function(){},Me.Ja=function(){},Do.prototype.a=function(t,e){return new Co(t,e)},Xe(Co,ir),Co.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Lr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=No(t,null,t.fa),po(t)},Co.prototype.close=function(){co(this.a)},Co.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,lo(this.a,e)}else this.l?((e={}).__data__=ar(t),lo(this.a,e)):lo(this.a,t)},Co.prototype.G=function(){this.a.f=null,delete this.f,co(this.a),delete this.a,Co.X.G.call(this)},Xe(xo,Gr),Xe(Po,zr),Xe(Ro,Oo),Ro.prototype.ta=function(){or(this.a,"a")},Ro.prototype.sa=function(t){or(this.a,new xo(t))},Ro.prototype.ra=function(t){or(this.a,new Po(t))},Ro.prototype.qa=function(){or(this.a,"b")},Do.prototype.createWebChannel=Do.prototype.a,Co.prototype.send=Co.prototype.h,Co.prototype.open=Co.prototype.g,Co.prototype.close=Co.prototype.close,Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Ur.COMPLETE="complete",Br.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",ir.prototype.listen=ir.prototype.va,Ji.prototype.listenOnce=Ji.prototype.wa,Ji.prototype.getLastError=Ji.prototype.Qa,Ji.prototype.getLastErrorCode=Ji.prototype.ua,Ji.prototype.getStatus=Ji.prototype.W,Ji.prototype.getResponseJson=Ji.prototype.Pa,Ji.prototype.getResponseText=Ji.prototype.$,Ji.prototype.send=Ji.prototype.ba;var Lo=Vr,Mo=Ur,jo=Or,Vo=10,Uo=11,Fo=Br,qo=Ji,Bo=function(t,e){return(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ho(t,e){function n(){this.constructor=t}Bo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Ko(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Go(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function zo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $o=new me("@firebase/firestore");function Wo(){return $o.logLevel}function Jo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($o.logLevel<=fe.DEBUG){var r=e.map(Qo);$o.debug.apply($o,zo(["Firestore (8.2.1): "+t],r))}}function Xo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($o.logLevel<=fe.ERROR){var r=e.map(Qo);$o.error.apply($o,zo(["Firestore (8.2.1): "+t],r))}}function Yo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if($o.logLevel<=fe.WARN){var r=e.map(Qo);$o.warn.apply($o,zo(["Firestore (8.2.1): "+t],r))}}function Qo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw Xo(e),new Error(e)}function ts(t,e){t||Zo()}function es(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ns(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rs=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ns(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function is(t,e){return t<e?-1:t>e?1:0}function os(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ss(t){return t+"\0"}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var as=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return is(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();as.h=new as("");var us={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cs=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ho(e,t),e}(Error),hs=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(as.fromBase64String(e))}catch(e){throw new cs(us.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(as.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),fs=function(t){this._=t};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ls(){if("undefined"==typeof Uint8Array)throw new cs(us.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ps(){if("undefined"==typeof atob)throw new cs(us.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.fromBase64String=function(t){return ps(),new e(hs.fromBase64String(t))},e.fromUint8Array=function(t){return ls(),new e(hs.fromUint8Array(t))},e.prototype.toBase64=function(){return ps(),this._.toBase64()},e.prototype.toUint8Array=function(){return ls(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(fs),vs=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},ys=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),gs=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */gs.UNAUTHENTICATED=new gs(null),gs.P=new gs("google-credentials-uid"),gs.g=new gs("first-party-uid");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ms=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},bs=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(gs.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ws=function(){function t(t){var e=this;this.C=null,this.currentUser=gs.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Jo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ts("string"==typeof n.accessToken),new ms(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return ts(null===t||"string"==typeof t),new gs(t)},t}(),Is=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=gs.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Es=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Is(this.k,this.M))},t.prototype.S=function(t){t(gs.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Ts=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Ts.U=-1;var _s=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cs(us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cs(us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cs(us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cs(us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?is(this.nanoseconds,t.nanoseconds):is(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),As=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new _s(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ss=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zo(),void 0===n?n=t.length-e:n>t.length-e&&Zo(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new cs(us.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Ss),ks=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return ks.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new cs(us.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new cs(us.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new cs(us.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new cs(us.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ss),Ds=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Ns.ct(e))},t.dt=function(e){return new t(Ns.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ns.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Ns.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Ns(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Cs(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ps(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rs=function(){function t(t){this.fields=t,t.sort(Os.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return os(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ls=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ms(t){if(ts(!!t),"string"==typeof t){var e=0,n=Ls.exec(t);if(ts(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:js(t.seconds),nanos:js(t.nanos)}}function js(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vs(t){return"string"==typeof t?as.fromBase64String(t):as.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Us(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fs(t){var e=t.mapValue.fields.__previous_value__;return Us(e)?Fs(e):e}function qs(t){var e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new _s(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bs(t){return null==t}function Hs(t){return 0===t&&1/t==-1/0}function Ks(t){return"number"==typeof t&&Number.isInteger(t)&&!Hs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Us(t)?4:10:Zo()}function zs(t,e){var n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qs(t).isEqual(qs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ms(t.timestampValue),r=Ms(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vs(t.bytesValue).isEqual(Vs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return js(t.geoPointValue.latitude)===js(e.geoPointValue.latitude)&&js(t.geoPointValue.longitude)===js(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return js(t.integerValue)===js(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=js(t.doubleValue),r=js(e.doubleValue);return n===r?Hs(n)===Hs(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return os(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Cs(n)!==Cs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zs(n[i],r[i])))return!1;return!0}(t,e);default:return Zo()}}function $s(t,e){return void 0!==(t.values||[]).find((function(t){return zs(t,e)}))}function Ws(t,e){var n=Gs(t),r=Gs(e);if(n!==r)return is(n,r);switch(n){case 0:return 0;case 1:return is(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=js(t.integerValue||t.doubleValue),r=js(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Js(t.timestampValue,e.timestampValue);case 4:return Js(qs(t),qs(e));case 5:return is(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vs(t),r=Vs(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=is(n[i],r[i]);if(0!==o)return o}return is(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=is(js(t.latitude),js(e.latitude));return 0!==n?n:is(js(t.longitude),js(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ws(n[i],r[i]);if(o)return o}return is(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=is(r[s],o[s]);if(0!==a)return a;var u=Ws(n[r[s]],i[o[s]]);if(0!==u)return u}return is(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zo()}}function Js(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return is(t,e);var n=Ms(t),r=Ms(e),i=is(n.seconds,r.seconds);return 0!==i?i:is(n.nanos,r.nanos)}function Xs(t){return Ys(t)}function Ys(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ms(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ds.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ys(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ys(t.fields[o])}return e+"}"}(t.mapValue):Zo();var e,n}function Qs(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Zs(t){return!!t&&"integerValue"in t}function ta(t){return!!t&&"arrayValue"in t}function ea(t){return!!t&&"nullValue"in t}function na(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ra(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ia=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ra(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return zs(this.proto,t.proto)},t}(),oa=function(){function t(t){void 0===t&&(t=ia.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Gs(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Os.at(),this.Rt);return null!=t?new ia(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=ra(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function sa(t){var e=[];return xs(t.fields||{},(function(t,n){var r=new Os([t]);if(ra(n)){var i=sa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new Rs(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var aa=function(t,e){this.key=t,this.version=e},ua=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Ho(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(aa),ca=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Ho(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(aa),ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(aa),fa=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function la(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new fa(t,e,n,r,i,o,s)}function pa(t){var e=es(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Xs(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Bs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Sa(e.startAt)),e.endAt&&(n+="|ub:",n+=Sa(e.endAt)),e.St=n}return e.St}function da(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ka(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!zs(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Da(t.startAt,e.startAt)&&Da(t.endAt,e.endAt)}function va(t){return Ds.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Ho(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new ga(t,n,r):"array-contains"===n?new Ia(t,r):"in"===n?new Ea(t,r):"not-in"===n?new Ta(t,r):"array-contains-any"===n?new _a(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ma(t,n):new ba(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Ws(e,this.value)):null!==e&&Gs(this.value)===Gs(e)&&this.Ct(Ws(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zo()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ga=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ds.dt(r.referenceValue),i}return Ho(e,t),e.prototype.matches=function(t){var e=Ds.J(t.key,this.key);return this.Ct(e)},e}(ya),ma=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wa("in",n),r}return Ho(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ya),ba=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wa("not-in",n),r}return Ho(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ya);function wa(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Ds.dt(t.referenceValue)}))}var Ia=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Ho(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ta(e)&&$s(e.arrayValue,this.value)},e}(ya),Ea=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Ho(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&$s(this.value.arrayValue,e)},e}(ya),Ta=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Ho(e,t),e.prototype.matches=function(t){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!$s(this.value.arrayValue,e)},e}(ya),_a=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Ho(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ta(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return $s(e.value.arrayValue,t)}))},e}(ya),Aa=function(t,e){this.position=t,this.before=e};function Sa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Xs(t)})).join(",")}var Na=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ka(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Oa(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Ds.J(Ds.dt(s.referenceValue),n.key):Ws(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Da(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ca=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function xa(t,e,n,r,i,o,s,a){return new Ca(t,e,n,r,i,o,s,a)}function Pa(t){return new Ca(t)}function Ra(t){return!Bs(t.limit)&&"F"===t.limitType}function La(t){return!Bs(t.limit)&&"L"===t.limitType}function Ma(t){return t.Nt.length>0?t.Nt[0].field:null}function ja(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Va(t){return null!==t.collectionGroup}function Ua(t){var e=es(t);if(null===e.Ft){e.Ft=[];var n=ja(e),r=Ma(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Na(n)),e.Ft.push(new Na(Os.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Na(Os.lt(),u))}}}return e.Ft}function Fa(t){var e=es(t);if(!e.Ot)if("F"===e.limitType)e.Ot=la(e.path,e.collectionGroup,Ua(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ua(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Na(o.field,s))}var a=e.endAt?new Aa(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Aa(e.startAt.position,!e.startAt.before):null;e.Ot=la(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.Ot}function qa(t,e,n){return new Ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ba(t,e){return da(Fa(t),Fa(e))&&t.limitType===e.limitType}function Ha(t){return pa(Fa(t))+"|lt:"+t.limitType}function Ka(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Xs(e.value);var e})).join(", ")+"]"),Bs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Sa(t.startAt)),t.endAt&&(e+=", endAt: "+Sa(t.endAt)),"Target("+e+")"}(Fa(t))+"; limitType="+t.limitType+")"}function Ga(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Ds.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Oa(t.startAt,Ua(t),e)||t.endAt&&Oa(t.endAt,Ua(t),e))}(t,e)}function za(t){return function(e,n){for(var r=!1,i=0,o=Ua(t);i<o.length;i++){var s=o[i],a=$a(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function $a(t,e,n){var r=t.field.ht()?Ds.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ws(r,i):Zo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zo()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wa=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=As.min()),void 0===o&&(o=As.min()),void 0===s&&(s=as.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ja(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hs(e)?"-0":e}}function Xa(t){return{integerValue:""+t}}function Ya(t,e){return Ks(e)?Xa(e):Ja(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qa=function(){this.Ut=void 0};function Za(t,e,n){return t instanceof nu?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ru?iu(t,e):t instanceof ou?su(t,e):function(t,e){var n=eu(t,e),r=uu(n)+uu(t.Qt);return Zs(n)&&Zs(t.Qt)?Xa(r):Ja(t.Kt,r)}(t,e)}function tu(t,e,n){return t instanceof ru?iu(t,e):t instanceof ou?su(t,e):n}function eu(t,e){return t instanceof au?Zs(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e}(Qa),ru=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Ho(e,t),e}(Qa);function iu(t,e){for(var n=cu(e),r=function(t){n.some((function(e){return zs(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ou=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Ho(e,t),e}(Qa);function su(t,e){for(var n=cu(e),r=function(t){n=n.filter((function(e){return!zs(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var au=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Ho(e,t),e}(Qa);function uu(t){return js(t.integerValue||t.doubleValue)}function cu(t){return ta(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hu=function(t,e){this.field=t,this.transform=e},fu=function(t,e){this.version=t,this.transformResults=e},lu=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function pu(t,e){return void 0!==t.updateTime?e instanceof ua&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ua}var du=function(){};function vu(t,e,n){return t instanceof wu?function(t,e,n){var r=t.value;if(n.transformResults){var i=Tu(t.fieldTransforms,e,n.transformResults);r=Au(t.fieldTransforms,r,i)}return new ua(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Iu?function(t,e,n){if(!pu(t.Gt,e))return new ha(t.key,n.version);var r=Eu(t,e,n.transformResults?Tu(t.fieldTransforms,e,n.transformResults):[]);return new ua(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ca(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function yu(t,e,n,r){return t instanceof wu?function(t,e,n,r){if(!pu(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=_u(t.fieldTransforms,n,e,r);i=Au(t.fieldTransforms,i,o)}var s=bu(e);return new ua(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Iu?function(t,e,n,r){if(!pu(t.Gt,e))return e;var i=bu(e),o=Eu(t,e,_u(t.fieldTransforms,n,e,r));return new ua(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return pu(t.Gt,e)?new ca(t.key,As.min()):e}(t,e)}function gu(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof ua?e.field(o.field):void 0,a=eu(o.transform,s||null);null!=a&&(n=null==n?(new oa).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function mu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&os(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ru&&e instanceof ru||t instanceof ou&&e instanceof ou?os(t.elements,e.elements,zs):t instanceof au&&e instanceof au?zs(t.Qt,e.Qt):t instanceof nu&&e instanceof nu}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function bu(t){return t instanceof ua?t.version:As.min()}var wu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Ho(e,t),e}(du),Iu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Ho(e,t),e}(du);function Eu(t,e,n){var r;return r=function(t,e){var n=new oa(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof ua?e.data():ia.empty()),Au(t.fieldTransforms,r,n)}function Tu(t,e,n){var r=[];ts(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ua&&(a=e.field(o.field)),r.push(tu(s,a,n[i]))}return r}function _u(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ua&&(c=n.field(a.field)),null===c&&r instanceof ua&&(c=r.field(a.field)),i.push(Za(u,c,e))}return i}function Au(t,e,n){for(var r=new oa(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var Su,Nu,ku=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Ho(e,t),e}(du),Ou=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Ho(e,t),e}(du),Du=function(t){this.count=t};function Cu(t){switch(t){case us.OK:return Zo();case us.CANCELLED:case us.UNKNOWN:case us.DEADLINE_EXCEEDED:case us.RESOURCE_EXHAUSTED:case us.INTERNAL:case us.UNAVAILABLE:case us.UNAUTHENTICATED:return!1;case us.INVALID_ARGUMENT:case us.NOT_FOUND:case us.ALREADY_EXISTS:case us.PERMISSION_DENIED:case us.FAILED_PRECONDITION:case us.ABORTED:case us.OUT_OF_RANGE:case us.UNIMPLEMENTED:case us.DATA_LOSS:return!0;default:return Zo()}}function xu(t){if(void 0===t)return Xo("GRPC error has no .code"),us.UNKNOWN;switch(t){case Su.OK:return us.OK;case Su.CANCELLED:return us.CANCELLED;case Su.UNKNOWN:return us.UNKNOWN;case Su.DEADLINE_EXCEEDED:return us.DEADLINE_EXCEEDED;case Su.RESOURCE_EXHAUSTED:return us.RESOURCE_EXHAUSTED;case Su.INTERNAL:return us.INTERNAL;case Su.UNAVAILABLE:return us.UNAVAILABLE;case Su.UNAUTHENTICATED:return us.UNAUTHENTICATED;case Su.INVALID_ARGUMENT:return us.INVALID_ARGUMENT;case Su.NOT_FOUND:return us.NOT_FOUND;case Su.ALREADY_EXISTS:return us.ALREADY_EXISTS;case Su.PERMISSION_DENIED:return us.PERMISSION_DENIED;case Su.FAILED_PRECONDITION:return us.FAILED_PRECONDITION;case Su.ABORTED:return us.ABORTED;case Su.OUT_OF_RANGE:return us.OUT_OF_RANGE;case Su.UNIMPLEMENTED:return us.UNIMPLEMENTED;case Su.DATA_LOSS:return us.DATA_LOSS;default:return Zo()}}(Nu=Su||(Su={}))[Nu.OK=0]="OK",Nu[Nu.CANCELLED=1]="CANCELLED",Nu[Nu.UNKNOWN=2]="UNKNOWN",Nu[Nu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nu[Nu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nu[Nu.NOT_FOUND=5]="NOT_FOUND",Nu[Nu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nu[Nu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nu[Nu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nu[Nu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nu[Nu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nu[Nu.ABORTED=10]="ABORTED",Nu[Nu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nu[Nu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nu[Nu.INTERNAL=13]="INTERNAL",Nu[Nu.UNAVAILABLE=14]="UNAVAILABLE",Nu[Nu.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pu=function(){function t(t,e){this.J=t,this.root=e||Lu.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Lu.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Lu.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Ru(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Ru(this.root,t,this.J,!1)},t.prototype.se=function(){return new Ru(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Ru(this.root,t,this.J,!0)},t}(),Ru=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Lu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Zo();if(this.right._e())throw Zo();var t=this.left.me();if(t!==this.right.me())throw Zo();return t+(this._e()?0:1)},t}();Lu.EMPTY=null,Lu.RED=!0,Lu.Jt=!1,Lu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Lu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Mu=function(){function t(t){this.J=t,this.data=new Pu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new ju(this.data.ee())},t.prototype.ne=function(t){return new ju(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),ju=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Vu=new Pu(Ds.J);function Uu(){return Vu}function Fu(){return Uu()}var qu=new Pu(Ds.J);function Bu(){return qu}var Hu=new Pu(Ds.J);var Ku=new Mu(Ds.J);function Gu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ku,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var zu=new Mu(is);function $u(){return zu}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wu=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Ds.J(e.key,n.key)}:function(t,e){return Ds.J(t.key,e.key)},this.Ve=Bu(),this.pe=new Pu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Ju=function(){function t(){this.ve=new Pu(Ds.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Zo():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Xu=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Wu.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Ba(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yu=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Qu.Be(e,n)),new t(As.min(),r,$u(),Uu(),Gu())},t}(),Qu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(as.h,n,Gu(),Gu(),Gu())},t}(),Zu=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},tc=function(t,e){this.targetId=t,this.Ge=e},ec=function(t,e,n,r){void 0===n&&(n=as.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},nc=function(){function t(){this.ze=0,this.He=oc(),this.Je=as.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Gu(),e=Gu(),n=Gu();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zo()}})),new Qu(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=oc()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),rc=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Uu(),this.fn=ic(),this.dn=new Mu(is)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof ua?this.En(r,t.je):t.je instanceof ca&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Zo()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(va(i))if(0===n){var o=new Ds(i.path);this.Tn(e,o,new ca(o,As.min()))}else ts(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&va(o.target)){var s=new Ds(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new ca(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Gu();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Yu(t,n,this.dn,this._n,r);return this._n=Uu(),this.fn=ic(),this.dn=new Mu(is),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new nc,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Mu(is),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Jo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new nc),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ic(){return new Pu(Ds.J)}function oc(){return new Pu(Ds.J)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sc={asc:"ASCENDING",desc:"DESCENDING"},ac={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uc=function(t,e){this.T=t,this.qt=e};function cc(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function hc(t,e){return t.qt?e.toBase64():e.toUint8Array()}function fc(t,e){return cc(t,e.G())}function lc(t){return ts(!!t),As.W(function(t){var e=Ms(t);return new _s(e.seconds,e.nanos)}(t))}function pc(t,e){return function(t){return new Ns(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function dc(t){var e=Ns.ct(t);return ts(jc(e)),e}function vc(t,e){return pc(t.T,e.path)}function yc(t,e){var n=dc(e);if(n.get(1)!==t.T.projectId)throw new cs(us.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new cs(us.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Ds(wc(n))}function gc(t,e){return pc(t.T,e)}function mc(t){var e=dc(t);return 4===e.length?Ns.at():wc(e)}function bc(t){return new Ns(["projects",t.T.projectId,"databases",t.T.database]).ot()}function wc(t){return ts(t.length>4&&"documents"===t.get(4)),t.X(5)}function Ic(t,e,n){return{name:vc(t,e),fields:n.proto.mapValue.fields}}function Ec(t,e){var n;if(e instanceof wu)n={update:Ic(t,e.key,e.value)};else if(e instanceof ku)n={delete:vc(t,e.key)};else if(e instanceof Iu)n={update:Ic(t,e.key,e.data),updateMask:Mc(e.zt)};else{if(!(e instanceof Ou))return Zo();n={verify:vc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof nu)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ru)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof ou)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof au)return{fieldPath:e.field.ot(),increment:n.Qt};throw Zo()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zo()}(t,e.Gt)),n}function Tc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?lu.updateTime(lc(t.updateTime)):void 0!==t.exists?lu.exists(t.exists):lu.Wt()}(e.currentDocument):lu.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)ts("REQUEST_TIME"===e.setToServerValue),n=new nu;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ru(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ou(i)}else"increment"in e?n=new au(t,e.increment):Zo();var o=Os._t(e.fieldPath);return new hu(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=yc(t,e.update.name),o=new ia({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Rs(e.map((function(t){return Os._t(t)})))}(e.updateMask);return new Iu(i,o,s,n,r)}return new wu(i,o,n,r)}if(e.delete){var a=yc(t,e.delete);return new ku(a,n)}if(e.verify){var u=yc(t,e.verify);return new Ou(u,n)}return Zo()}function _c(t,e){return{documents:[gc(t,e.path)]}}function Ac(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=gc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gc(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(na(t.value))return{unaryFilter:{field:xc(t.field),op:"IS_NAN"}};if(ea(t.value))return{unaryFilter:{field:xc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(na(t.value))return{unaryFilter:{field:xc(t.field),op:"IS_NOT_NAN"}};if(ea(t.value))return{unaryFilter:{field:xc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xc(t.field),op:Cc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:xc(t.field),direction:Dc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Bs(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=kc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kc(e.endAt)),n}function Sc(t){var e=mc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ts(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Nc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Na(Pc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Bs(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Oc(n.startAt));var h=null;return n.endAt&&(h=Oc(n.endAt)),xa(e,i,a,s,u,"F",c,h)}function Nc(t){return t?void 0!==t.unaryFilter?[Lc(t)]:void 0!==t.fieldFilter?[Rc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Nc(t)})).reduce((function(t,e){return t.concat(e)})):Zo():[]}function kc(t){return{before:t.before,values:t.position}}function Oc(t){var e=!!t.before,n=t.values||[];return new Aa(n,e)}function Dc(t){return sc[t]}function Cc(t){return ac[t]}function xc(t){return{fieldPath:t.ot()}}function Pc(t){return Os._t(t.fieldPath)}function Rc(t){return ya.create(Pc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zo()}}(t.fieldFilter.op),t.fieldFilter.value)}function Lc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pc(t.unaryFilter.field);return ya.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pc(t.unaryFilter.field);return ya.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pc(t.unaryFilter.field);return ya.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pc(t.unaryFilter.field);return ya.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zo()}}function Mc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function jc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Uc=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Zo(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Fc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Vc,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Hc(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Wc(e.target.error);n.qn.reject(new Hc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Hc(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Jo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Gc(e)},t}(),qc=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Ut())&&Xo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Jo("SimpleDb","Removing database:",t),zc(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Ut(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Go(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Jo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Hc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new cs(us.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Hc(t,n))},i.onupgradeneeded=function(t){Jo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){Jo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s,a,u;return Go(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,h;return Go(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=f.sent(),e=Fc.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Uc.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(f.sent(),s),u)];case 4:return c=f.sent(),h="FirebaseError"!==c.name&&o<3,Jo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),a.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Bc=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return zc(this.ts.delete())},t}(),Hc=function(t){function e(e,n){var r=this;return(r=t.call(this,us.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ho(e,t),e}(cs);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kc(t){return"IndexedDbTransactionError"===t.name}var Gc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Jo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Jo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zc(n)},t.prototype.add=function(t){return Jo("SimpleDb","ADD",this.store.name,t,t),zc(this.store.add(t))},t.prototype.get=function(t){var e=this;return zc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Jo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Jo("SimpleDb","DELETE",this.store.name,t),zc(this.store.delete(t))},t.prototype.count=function(){return Jo("SimpleDb","COUNT",this.store.name),zc(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Jo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Uc((function(n,r){e.onerror=function(t){var e=Wc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Uc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Bc(i),s=e(i.primaryKey,i.value,o);if(s instanceof Uc){var a=s.catch((function(t){return o.done(),Uc.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Uc.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zc(t){return new Uc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Wc(t.target.error);n(e)}}))}var $c=!1;function Wc(t){var e=qc.Kn(Ut());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new cs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $c||($c=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jc=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Vc,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new cs(us.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Xc(t,e){if(Xo("AsyncQueue",e+": "+t),Kc(t))return new cs(us.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Yc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qc=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=eh(e)),e=th(t.get(n),e);return eh(e)}function th(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function eh(t){return t+""}function nh(t){var e=t.length;if(ts(e>=2),2===e)return ts(""===t.charAt(0)&&""===t.charAt(1)),Ns.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Zo(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Zo()}o=s+2}return new Ns(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rh=function(t,e){this.seconds=t,this.nanoseconds=e},ih=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ih.store="owner",ih.key="owner";var oh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};oh.store="mutationQueues",oh.keyPath="userId";var sh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sh.store="mutations",sh.keyPath="batchId",sh.userMutationsIndex="userMutationsIndex",sh.userMutationsKeyPath=["userId","batchId"];var ah=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Zc(e)]},t.key=function(t,e,n){return[t,Zc(e),n]},t}();ah.store="documentMutations",ah.PLACEHOLDER=new ah;var uh=function(t,e){this.path=t,this.readTime=e},ch=function(t,e){this.path=t,this.version=e},hh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};hh.store="remoteDocuments",hh.readTimeIndex="readTimeIndex",hh.readTimeIndexPath="readTime",hh.collectionReadTimeIndex="collectionReadTimeIndex",hh.collectionReadTimeIndexPath=["parentPath","readTime"];var fh=function(t){this.byteSize=t};fh.store="remoteDocumentGlobal",fh.key="remoteDocumentGlobalKey";var lh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};lh.store="targets",lh.keyPath="targetId",lh.queryTargetsIndexName="queryTargetsIndex",lh.queryTargetsKeyPath=["canonicalId","targetId"];var ph=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ph.store="targetDocuments",ph.keyPath=["targetId","path"],ph.documentTargetsIndex="documentTargetsIndex",ph.documentTargetsKeyPath=["path","targetId"];var dh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};dh.key="targetGlobalKey",dh.store="targetGlobal";var vh=function(t,e){this.collectionId=t,this.parent=e};vh.store="collectionParents",vh.keyPath=["collectionId","parent"];var yh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};yh.store="clientMetadata",yh.keyPath="clientId";var gh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};gh.store="bundles",gh.keyPath="bundleId";var mh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mh.store="namedQueries",mh.keyPath="name";var bh=zo(zo(zo(zo([oh.store,sh.store,ah.store,hh.store,lh.store,ih.store,dh.store,ph.store],[yh.store]),[fh.store]),[vh.store]),[gh.store,mh.store]),wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Ho(e,t),e}(Qc);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ih(t,e){var n=es(t);return qc.Hn(n.vs,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Eh=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=vu(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=yu(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=yu(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Gu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&os(this.mutations,t.mutations,(function(t,e){return mu(t,e)}))&&os(this.baseMutations,t.baseMutations,(function(t,e){return mu(t,e)}))},t}(),Th=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){ts(e.mutations.length===r.length);for(var i=Hu,o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),_h=function(t){this.Ms=t};function Ah(t,e){if(e.document)return function(t,e,n){var r=yc(t,e.name),i=lc(e.updateTime),o=new ia({mapValue:{fields:e.fields}});return new ua(r,i,o,{hasCommittedMutations:!!n})}(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ds.Tt(e.noDocument.path),r=Dh(e.noDocument.readTime);return new ca(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ds.Tt(e.unknownDocument.path);return r=Dh(e.unknownDocument.version),new ha(i,r)}return Zo()}function Sh(t,e,n){var r=Nh(n),i=e.key.path.Z().rt();if(e instanceof ua){var o=function(t,e){return{name:vc(t,e.key),fields:e.vt().mapValue.fields,updateTime:cc(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new hh(null,null,o,s,r,i)}if(e instanceof ca){var a=e.key.path.rt(),u=Oh(e.version);return s=e.hasCommittedMutations,new hh(null,new uh(a,u),null,s,r,i)}if(e instanceof ha){var c=e.key.path.rt(),h=Oh(e.version);return new hh(new ch(c,h),null,null,!0,r,i)}return Zo()}function Nh(t){var e=t.G();return[e.seconds,e.nanoseconds]}function kh(t){var e=new _s(t[0],t[1]);return As.W(e)}function Oh(t){var e=t.G();return new rh(e.seconds,e.nanoseconds)}function Dh(t){var e=new _s(t.seconds,t.nanoseconds);return As.W(e)}function Ch(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Tc(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Tc(t.Ms,e)})),s=_s.fromMillis(e.localWriteTimeMs);return new Eh(e.batchId,s,n,o)}function xh(t){var e,n,r=Dh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Dh(t.lastLimboFreeSnapshotVersion):As.min();return void 0!==t.query.documents?(ts(1===(n=t.query).documents.length),e=Fa(Pa(mc(n.documents[0])))):e=function(t){return Fa(Sc(t))}(t.query),new Wa(e,t.targetId,0,t.lastListenSequenceNumber,r,i,as.fromBase64String(t.resumeToken))}function Ph(t,e){var n,r=Oh(e.Mt),i=Oh(e.lastLimboFreeSnapshotVersion);n=va(e.target)?_c(t.Ms,e.target):Ac(t.Ms,e.target);var o=e.resumeToken.toBase64();return new lh(e.targetId,pa(e.target),r,o,e.sequenceNumber,i,n)}function Rh(t){var e=Sc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qa(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Lh=function(){function t(){}return t.prototype.Ls=function(t,e){return Mh(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Dh(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return Mh(t).put({bundleId:(n=e).id,createTime:Oh(lc(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return jh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Rh(e.bundledQuery),readTime:Dh(e.readTime)};var e}))},t.prototype.qs=function(t,e){return jh(t).put(function(t){return{name:t.name,readTime:Oh(lc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mh(t){return Ih(t,gh.store)}function jh(t){return Ih(t,mh.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Vh=function(){function t(){this.Us=new Uh}return t.prototype.Qs=function(t,e){return this.Us.add(e),Uc.resolve()},t.prototype.Ks=function(t,e){return Uc.resolve(this.Us.getEntries(e))},t}(),Uh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Mu(Ns.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mu(Ns.J)).rt()},t}(),Fh=function(){function t(){this.Ws=new Uh}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:Zc(i)};return qh(t).put(o)}return Uc.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ss(e),""],!1,!0);return qh(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(nh(o.parent))}return n}))},t}();function qh(t){return Ih(t,vh.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bh={js:!1,Gs:0,zs:0,Hs:0},Hh=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kh(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){if(t.code!==us.FAILED_PRECONDITION||t.message!==Yc)throw t;return Jo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Hh.ti=10,Hh.ei=1e3,Hh.ni=new Hh(41943040,Hh.ti,Hh.ei),Hh.si=new Hh(-1,0,0);var Gh=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.ri(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){xs(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.nt=function(){return Ps(this.oi)},t}(),zh=function(){function t(){this.ci=new Gh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:As.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Uc.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $h(t,e,n){var r=t.store(sh.store),i=t.store(ah.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){ts(1===a)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=ah.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Uc.$n(o).next((function(){return c}))}function Wh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zo();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jh=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return ts(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yh(t).ls({index:sh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=Qh(t),s=Yh(t);return s.add({}).next((function(a){ts("number"==typeof a);for(var u=new Eh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ec(t.Ms,e)})),i=n.mutations.map((function(e){return Ec(t.Ms,e)}));return new sh(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),h=[],f=new Mu((function(t,e){return is(t.ot(),e.ot())})),l=0,p=r;l<p.length;l++){var d=p[l],v=ah.key(i.userId,d.key.path,a);f=f.add(d.key.path.Z()),h.push(s.put(c)),h.push(o.put(v,ah.PLACEHOLDER))}return f.forEach((function(e){h.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=u.keys()})),Uc.$n(h).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return Yh(t).get(e).next((function(t){return t?(ts(t.userId===n.userId),Ch(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Uc.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Yh(t).ls({index:sh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ts(e.batchId>=r),o=Ch(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Yh(t).ls({index:sh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yh(t).os(sh.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ch(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=ah.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qh(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=nh(u);if(a===n.userId&&e.path.isEqual(h))return Yh(t).get(c).next((function(t){if(!t)throw Zo();ts(t.userId===n.userId),o.push(Ch(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Mu(is),i=[];return e.forEach((function(e){var o=ah.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Qh(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=nh(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Uc.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=ah.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Mu(is);return Qh(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=nh(u);s===n.userId&&r.st(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Yh(t).get(e).next((function(t){if(null===t)throw Zo();ts(t.userId===n.userId),r.push(Ch(n.Kt,t))})))})),Uc.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return $h(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),Uc.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return Uc.resolve();var r=IDBKeyRange.lowerBound(ah.prefixForUser(e.userId)),i=[];return Qh(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=nh(t[1]);i.push(o)}else r.done()})).next((function(){ts(0===i.length)}))}))},t.prototype.Mi=function(t,e){return Xh(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Zh(t).get(this.userId).next((function(t){return t||new oh(e.userId,-1,"")}))},t}();function Xh(t,e,n){var r=ah.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Qh(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Yh(t){return Ih(t,sh.store)}function Qh(t){return Ih(t,ah.store)}function Zh(t){return Ih(t,oh.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tf=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),ef=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new tf(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return As.W(new _s(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return nf(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return ts(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return nf(t).ls((function(s,a){var u=xh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return Uc.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return nf(t).ls((function(t,n){var r=xh(n);e(r)}))},t.prototype.Qi=function(t){return rf(t).get(dh.key).next((function(t){return ts(null!==t),t}))},t.prototype.Ki=function(t,e){return rf(t).put(dh.key,e)},t.prototype.Hi=function(t,e){return nf(t).put(Ph(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=pa(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nf(t).ls({range:r,index:lh.queryTargetsIndexName},(function(t,n,r){var o=xh(n);da(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=of(t);return e.forEach((function(e){var s=Zc(e.path);i.push(o.put(new ph(n,s))),i.push(r.mi.ir(t,n,e))})),Uc.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=of(t);return Uc.forEach(e,(function(e){var o=Zc(e.path);return Uc.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=of(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=of(t),i=Gu();return r.ls({range:n,hs:!0},(function(t,e,n){var r=nh(t[1]),o=new Ds(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=Zc(e.path),r=IDBKeyRange.bound([n],[ss(n)],!1,!0),i=0;return of(t).ls({index:ph.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return nf(t).get(e).next((function(t){return t?xh(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nf(t){return Ih(t,lh.store)}function rf(t){return Ih(t,dh.store)}function of(t){return Ih(t,ph.store)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sf(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=is(n,i);return 0===s?is(r,o):s}var af=function(){function t(t){this.ur=t,this.buffer=new Mu(sf),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),uf=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Jo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Ko(e,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return Kc(e=n.sent())?(Jo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Kh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),cf=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return Uc.resolve(Ts.U);var r=new af(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Jo("LruGarbageCollector","Garbage collection skipped; disabled"),Uc.resolve(Bh)):this.vr(t).next((function(r){return r<n.params.Js?(Jo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Bh):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,h=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(Jo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),Wo()<=fe.DEBUG&&Jo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-h)+"ms"),Uc.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),hf=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new cf(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return ff(t,n)},t.prototype.cr=function(t,e,n){return ff(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return ff(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Zh(t)._s((function(r){return Xh(t,r,e).next((function(t){return t&&(n=!0),Uc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){if(a<=e){var u=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),of(t).delete([0,Zc(s.path)])}))}));i.push(u)}})).next((function(){return Uc.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return ff(t,e)},t.prototype.Nr=function(t,e){var n,r=of(t),i=Ts.U;return r.ls({index:ph.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ts.U&&e(new Ds(nh(n)),i),i=a,n=s):i=Ts.U})).next((function(){i!==Ts.U&&e(new Ds(nh(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function ff(t,e){return of(t).put(function(t,e){return new ph(0,Zc(t.path),e)}(e,t.Ss))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var lf=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return vf(t).put(yf(e),n)},t.prototype.fi=function(t,e){var n=vf(t),r=yf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return vf(t).get(yf(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return vf(t).get(yf(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:Wh(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Fu();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=Fu(),i=new Pu(Ds.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,Wh(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return Uc.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return vf(t).ls({range:r},(function(t,e,r){for(var s=Ds.Tt(t);o&&Ds.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Bu(),o=e.path.length+1,s={};if(n.isEqual(As.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Nh(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=hh.collectionReadTimeIndex}return vf(t).ls(s,(function(t,n,s){if(t.length===o){var a=Ah(r.Kt,n);e.path.st(a.key.path)?a instanceof ua&&Ga(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new pf(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return df(t).get(fh.key).next((function(t){return ts(!!t),t}))},t.prototype.$r=function(t,e){return df(t).put(fh.key,e)},t.prototype.Br=function(t){if(t){var e=Ah(this.Kt,t);return e instanceof ca&&e.version.isEqual(As.min())?null:e}return null},t}(),pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new Gh((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Ho(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Mu((function(t,e){return is(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a=e.Hr.get(o);if(s._i){var u=Sh(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=Wh(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var h=Sh(e.zr.Kt,new ca(o,As.min()),e.ui(o));n.push(e.zr.hi(t,o,h))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),Uc.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(zh);function df(t){return Ih(t,fh.store)}function vf(t){return Ih(t,hh.store)}function yf(t){return t.path.rt()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var gf=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;ts(n<r&&n>=0&&r<=11);var o=new Fc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ih.store)}(t),function(t){t.createObjectStore(oh.store,{keyPath:oh.keyPath}),t.createObjectStore(sh.store,{keyPath:sh.keyPath,autoIncrement:!0}).createIndex(sh.userMutationsIndex,sh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ah.store)}(t),mf(t),function(t){t.createObjectStore(hh.store)}(t));var s=Uc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ph.store),t.deleteObjectStore(lh.store),t.deleteObjectStore(dh.store)}(t),mf(t)),s=s.next((function(){return function(t){var e=t.store(dh.store),n=new dh(0,0,As.min().G(),0);return e.put(dh.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(sh.store).os().next((function(n){t.deleteObjectStore(sh.store),t.createObjectStore(sh.store,{keyPath:sh.keyPath,autoIncrement:!0}).createIndex(sh.userMutationsIndex,sh.userMutationsKeyPath,{unique:!0});var r=e.store(sh.store),i=n.map((function(t){return r.put(t)}));return Uc.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(yh.store,{keyPath:yh.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(fh.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hh.store);e.createIndex(hh.readTimeIndex,hh.readTimeIndexPath,{unique:!1}),e.createIndex(hh.collectionReadTimeIndex,hh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(gh.store,{keyPath:gh.keyPath})}(t),function(t){t.createObjectStore(mh.store,{keyPath:mh.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(hh.store).ls((function(t,n){e+=Wh(n)})).next((function(){var n=new fh(e);return t.store(fh.store).put(fh.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(oh.store),r=t.store(sh.store);return n.os().next((function(n){return Uc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(sh.userMutationsIndex,i).next((function(r){return Uc.forEach(r,(function(r){ts(r.userId===n.userId);var i=Ch(e.Kt,r);return $h(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(ph.store),n=t.store(hh.store);return t.store(dh.store).get(dh.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Ns(n),s=function(t){return[0,Zc(t)]}(o);r.push(e.get(s).next((function(n){return n?Uc.resolve():function(n){return e.put(new ph(0,Zc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Uc.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(vh.store,{keyPath:vh.keyPath});var n=e.store(vh.store),r=new Uh,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Zc(i)})}};return e.store(hh.store).ls({hs:!0},(function(t,e){var n=new Ns(t);return i(n.Z())})).next((function(){return e.store(ah.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],nh(n));return i(r.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(lh.store);return n.ls((function(t,r){var i=xh(r),o=Ph(e.Kt,i);return n.put(o)}))},t}();function mf(t){t.createObjectStore(ph.store,{keyPath:ph.keyPath}).createIndex(ph.documentTargetsIndex,ph.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(lh.store,{keyPath:lh.keyPath}).createIndex(lh.queryTargetsIndexName,lh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(dh.store)}var bf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wf=function(){function t(e,n,r,i,o,s,a,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=h,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new cs(us.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new hf(this,i),this._o=n+"main",this.Kt=new _h(u),this.fo=new qc(this._o,11,new gf(this.Kt)),this.wo=new ef(this.mi,this.Kt),this.Ii=new Fh,this.Eo=function(t,e){return new lf(t,e)}(this.Kt,this.Ii),this.To=new Lh,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===h&&Xo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new cs(us.FAILED_PRECONDITION,bf);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Ts(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Ko(e,void 0,void 0,(function(){return Go(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Ko(e,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Ko(e,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ef(e).put(new yh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(Kc(e))return Jo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Jo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return If(t).get(ih.key).next((function(t){return Uc.resolve(e.xo(t))}))},t.prototype.No=function(t){return Ef(t).delete(this.clientId)},t.prototype.Fo=function(){return Ko(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Go(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ih(t,yh.store);return e.os().next((function(t){var n=i.ko(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Uc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Io)for(e=0,n=t;e<n.length;e++)r=n[e],this.Io.removeItem(this.Mo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?Uc.resolve(!0):If(t).get(ih.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new cs(us.FAILED_PRECONDITION,bf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ef(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Jo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Ko(this,void 0,void 0,(function(){var t=this;return Go(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[ih.store,yh.store],(function(e){var n=new wh(e,Ts.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ef(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Jh.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Jo("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.fo.runTransaction(t,o,bh,(function(o){return i=new wh(o,r.ro?r.ro.next():Ts.U),"readwrite-primary"===e?r.bo(i).next((function(t){return!!t||r.So(i)})).next((function(e){if(!e)throw Xo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.no.vo((function(){return r.lo(!1)})),new cs(us.FAILED_PRECONDITION,Yc);return n(i)})).next((function(t){return r.Co(i).next((function(){return t}))})):r.zo(i).next((function(){return n(i)}))})).then((function(t){return i.bs(),t}))},t.prototype.zo=function(t){var e=this;return If(t).get(ih.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new cs(us.FAILED_PRECONDITION,bf)}))},t.prototype.Co=function(t){var e=new ih(this.clientId,this.allowTabSynchronization,Date.now());return If(t).put(ih.key,e)},t.Wn=function(){return qc.Wn()},t.prototype.Do=function(t){var e=this,n=If(t);return n.get(ih.key).next((function(t){return e.xo(t)?(Jo("IndexedDbPersistence","Releasing primary lease."),n.delete(ih.key)):Uc.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Jo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){Xo("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function If(t){return Ih(t,ih.store)}function Ef(t){return Ih(t,yh.store)}function Tf(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var _f=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Fu();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Uu();return i.forEach((function(t,e){e||(e=new ca(t,As.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Ds.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Va(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Ds(e)).next((function(t){var e=Bu();return t instanceof ua&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Bu();return this.Ii.Ks(t,i).next((function(s){return Uc.forEach(s,(function(s){var a=function(t,e){return new Ca(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),f=yu(u,h,h,o.Ds);r=f instanceof ua?r.Ht(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Ga(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Gu(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Iu&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ua&&(c=c.Ht(t,e))})),c}))},t}(),Af=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Gu(),i=Gu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sf=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(As.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(Ra(e)||La(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Wo()<=fe.DEBUG&&Jo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ka(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Mu(za(t));return e.forEach((function(e,r){r instanceof ua&&Ga(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Wo()<=fe.DEBUG&&Jo("QueryEngine","Using full collection scan to execute query:",Ka(e)),this.uc.jr(t,e,As.min())},t}(),Nf=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Pu(is),this.wc=new Gh((function(t){return pa(t)}),da),this.Ec=As.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new _f(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kf(t,e,n,r){return new Nf(t,e,n,r)}function Of(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o;return Go(this,(function(s){switch(s.label){case 0:return n=es(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new _f(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=Gu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Df(t,e){var n=es(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Uc.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);ts(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Cf(t){var e=es(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function xf(t,e){var n=es(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return ts(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}}));var a=Uu();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(function(t,e,n,r,i){var o=Gu();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Uu();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof ca&&s.version.isEqual(As.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):Jo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(As.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(u)}return Uc.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Pf(t,e){var n=es(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function Rf(t,e){var n=es(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?(r=i,Uc.resolve(r)):n.wo.Ui(t).next((function(i){return r=new Wa(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Lf(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Go(this,(function(a){switch(a.label){case 0:r=es(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Kc(s=a.sent()))throw s;return Jo("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Mf(t,e,n){var r=es(t),i=As.min(),o=Gu();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=es(t),i=r.wc.get(n);return void 0!==i?Uc.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,Fa(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:As.min(),n?o:Gu())})).next((function(t){return{documents:t,Pc:o}}))}))}function jf(t,e){var n=es(t),r=es(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Vf(t){var e=es(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=es(t),i=Uu(),o=Nh(n),s=vf(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:hh.readTimeIndex,range:a},(function(t,e){var n=Ah(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:kh(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs,r=t.readTime;return e.Ec=r,n}))}function Uf(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){return[2,(e=es(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=vf(t),n=As.min();return e.ls({index:hh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=kh(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ff=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return Uc.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:lc(n.createTime)}),Uc.resolve()},t.prototype.Bs=function(t,e){return Uc.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Rh(t.bundledQuery),readTime:lc(t.readTime)}}(e)),Uc.resolve()},t}(),qf=function(){function t(){this.Sc=new Mu(Bf.Dc),this.Cc=new Mu(Bf.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Bf(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new Bf(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Ds(new Ns([])),r=new Bf(n,t),i=new Bf(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Ds(new Ns([])),n=new Bf(e,t),r=new Bf(e,t+1),i=Gu();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new Bf(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Bf=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Ds.J(t.key,e.key)||is(t.$c,e.$c)},t.xc=function(t,e){return is(t.$c,e.$c)||Ds.J(t.key,e.key)},t}(),Hf=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Mu(Bf.Dc)}return t.prototype.Pi=function(t){return Uc.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new Eh(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Bf(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return Uc.resolve(o)},t.prototype.gi=function(t,e){return Uc.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return Uc.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.bi=function(){return Uc.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return Uc.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Bf(e,0),i=new Bf(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Uc.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Mu(is);return e.forEach((function(t){var e=new Bf(t,0),i=new Bf(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Uc.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Ds.Et(i)||(i=i.child(""));var o=new Bf(new Ds(i),0),s=new Mu(is);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Uc.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;ts(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Uc.forEach(e.mutations,(function(i){var o=new Bf(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Bf(e,0),r=this.qc.Pe(n);return Uc.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return this.Ho.length,Uc.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Kf=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new Pu(Ds.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return Uc.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=Fu();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),Uc.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Bu(),i=new Ds(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.key,u=s.value,c=u._i,h=u.readTime;if(!e.path.st(a.path))break;h.u(n)<=0||c instanceof ua&&Ga(e,c)&&(r=r.Ht(c.key,c))}return Uc.resolve(r)},t.prototype.Gc=function(t,e){return Uc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Gf(this)},t.prototype.Lr=function(t){return Uc.resolve(this.size)},t}(),Gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Ho(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),Uc.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(zh),zf=function(){function t(t){this.persistence=t,this.zc=new Gh((function(t){return pa(t)}),da),this.lastRemoteSnapshotVersion=As.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new qf,this.targetCount=0,this.Yc=tf.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Uc.resolve()},t.prototype.Wi=function(t){return Uc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Uc.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Uc.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Uc.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new tf(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Uc.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),Uc.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Uc.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),Uc.$n(o).next((function(){return i}))},t.prototype.er=function(t){return Uc.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return Uc.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Uc.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Uc.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),Uc.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return Uc.resolve(n)},t.prototype.Mi=function(t,e){return Uc.resolve(this.Jc.Mi(e))},t}(),$f=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Ts(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new zf(this),this.Ii=new Vh,this.Eo=function(t,e){return new Kf(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new _h(e),this.To=new Ff(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Hf(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Jo("MemoryPersistence","Starting transaction:",t);var i=new Wf(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return Uc.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),Wf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Ho(e,t),e}(Qc),Jf=function(){function t(t){this.persistence=t,this.sa=new qf,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Zo()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Uc.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Uc.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Uc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return Uc.forEach(this.oa,(function(r){var i=Ds.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Uc.Bn([function(){return Uc.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xf(t,e){return"firestore_clients_"+t+"_"+e}function Yf(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Qf(t,e){return"firestore_targets_"+t+"_"+e}var Zf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new cs(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Xo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new cs(r.error.code,r.error.message)),i?new t(e,r.state,o):(Xo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),el=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$u(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ks(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Xo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xo("SharedClientState","Failed to parse online state: "+e),null)},t}(),rl=function(){function t(){this.activeTargetIds=$u()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),il=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Pu(is),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Xf(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new rl),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ko(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h,f=this;return Go(this,(function(l){switch(l.label){case 0:return[4,this.fa.Ko()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Xf(this.persistenceKey,r)))&&(o=el.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)h=c[u],this.Ea(h);return this.Ia=[],this.window.addEventListener("unload",(function(){return f.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Qf(this.persistenceKey,t));if(n){var r=tl.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Qf(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Jo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Jo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Jo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Jo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Xo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Ko(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Go(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Ts.U;if(null!=t)try{var n=JSON.parse(t);ts("number"==typeof n),e=n}catch(t){Xo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ts.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Zf(this.currentUser,t,e,n),i=Yf(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Yf(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=Qf(this.persistenceKey,t),i=new tl(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return el.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zf.aa(new gs(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return tl.aa(r,e)},t.prototype.ba=function(t){return nl.aa(t)},t.prototype.Xa=function(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Jo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=$u();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),ol=function(){function t(){this.ru=new rl,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new rl,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),sl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),al=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Jo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Jo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ul={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cl=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),hl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Ho(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new qo;s.listenOnce(Mo.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Lo.NO_ERROR:var e=s.getResponseJson();Jo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Lo.TIMEOUT:Jo("Connection",'RPC "'+t+'" timed out'),o(new cs(us.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:var n=s.getStatus();if(Jo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(us).indexOf(e)>=0?e:us.UNKNOWN}(r.status);o(new cs(a,r.message))}else o(new cs(us.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new cs(us.UNAVAILABLE,"Connection failed."));break;default:Zo()}}finally{Jo("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Do,i=Cr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())||"object"==typeof navigator&&"ReactNative"===navigator.product||Ut().indexOf("Electron/")>=0||function(){var t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Ut().indexOf("MSAppHost/")>=0||qt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Jo("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,h=new cl({du:function(t){c?Jo("Connection","Not sending because WebChannel is closed:",t):(u||(Jo("Connection","Opening WebChannel transport."),a.open(),u=!0),Jo("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(a,Fo.EventType.OPEN,(function(){c||Jo("Connection","WebChannel transport opened.")})),f(a,Fo.EventType.CLOSE,(function(){c||(c=!0,Jo("Connection","WebChannel transport closed"),h.Pu())})),f(a,Fo.EventType.ERROR,(function(t){c||(c=!0,Yo("Connection","WebChannel transport errored:",t),h.Pu(new cs(us.UNAVAILABLE,"The operation could not be completed")))})),f(a,Fo.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ts(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Jo("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Su[t];if(void 0!==e)return xu(e)}(o),u=i.message;void 0===s&&(s=us.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,h.Pu(new cs(s,u)),a.close()}else Jo("Connection","WebChannel received:",n),h.yu(n)}})),f(i,jo.STAT_EVENT,(function(t){t.stat===Vo?Jo("Connection","Detected buffering proxy"):t.stat===Uo&&Jo("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Ru()}),0),h},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Jo("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Jo("RestConnection","Received: ",t),t}),(function(e){throw Yo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=ul[t];return this.Vu+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fl(){return"undefined"!=typeof window?window:null}function ll(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function pl(t){return new uc(t,!0)}var dl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Jo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),vl=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new dl(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Ko(this,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Ko(this,void 0,void 0,(function(){return Go(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Ko(this,void 0,void 0,(function(){return Go(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===us.RESOURCE_EXHAUSTED?(Xo(e.toString()),Xo("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===us.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new cs(us.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Ko(t,void 0,void 0,(function(){return Go(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Jo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(Jo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),yl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Ho(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(ts(void 0===e||"string"==typeof e),as.fromBase64String(e||"")):(ts(void 0===e||e instanceof Uint8Array),as.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?us.UNKNOWN:xu(t.code);return new cs(e,t.message||"")}(a);n=new ec(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=yc(t,r.document.name),o=lc(r.document.updateTime);var a=new ia({mapValue:{fields:r.document.fields}}),u=(s=new ua(i,o,a,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new Zu(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=yc(t,r.document),o=r.readTime?lc(r.readTime):As.min(),a=new ca(i,o),s=r.removedTargetIds||[],n=new Zu([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=yc(t,r.document),o=r.removedTargetIds||[],n=new Zu([],o,i,null);else{if(!("filter"in e))return Zo();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Du(r),o=h.targetId,n=new tc(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return As.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?As.min():e.readTime?lc(e.readTime):As.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=bc(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=va(r)?{documents:_c(t,r)}:{query:Ac(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=hc(t,e.resumeToken):e.Mt.u(As.min())>0&&(n.readTime=cc(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zo()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=bc(this.Kt),e.removeTarget=t,this.eh(e)},e}(vl),gl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Ho(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(ts(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(ts(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?lc(t.updateTime):lc(e);n.isEqual(As.min())&&(n=lc(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new fu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=lc(t.commitTime);return this.listener.wh(n,e)}return ts(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=bc(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ec(e.Kt,t)}))};this.eh(n)},e}(vl),ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Ho(e,t),e.prototype.mh=function(){if(this.Ih)throw new cs(us.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===us.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===us.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),bl=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Xo(e),this.Ph=!1):Jo("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),wl=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Ko(o,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return Ol(this)?(Jo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return(e=es(t)).Fh.add(4),[4,El(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Il(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new bl(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Il(t){return Ko(this,void 0,void 0,(function(){var e,n;return Go(this,(function(r){switch(r.label){case 0:if(!Ol(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function El(t){return Ko(this,void 0,void 0,(function(){var e,n;return Go(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Tl(t,e){var n=es(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),kl(n)?Nl(n):Kl(n).Ju()&&Al(n,e))}function _l(t,e){var n=es(t),r=Kl(n);n.Nh.delete(e),r.Ju()&&Sl(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Ol(n)&&n.Mh.set("Unknown"))}function Al(t,e){t.Lh.cn(e.targetId),Kl(t).hh(e)}function Sl(t,e){t.Lh.cn(e),Kl(t).lh(e)}function Nl(t){t.Lh=new rc({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Kl(t).start(),t.Mh.yh()}function kl(t){return Ol(t)&&!Kl(t).Hu()&&t.Nh.size>0}function Ol(t){return 0===es(t).Fh.size}function Dl(t){t.Lh=void 0}function Cl(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){return t.Nh.forEach((function(e,n){Al(t,e)})),[2]}))}))}function xl(t,e){return Ko(this,void 0,void 0,(function(){return Go(this,(function(n){return Dl(t),kl(t)?(t.Mh.ph(e),Nl(t)):t.Mh.set("Unknown"),[2]}))}))}function Pl(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o;return Go(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof ec&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o;return Go(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Jo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Rl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zu?t.Lh.wn(e):e instanceof tc?t.Lh.yn(e):t.Lh.In(e),n.isEqual(As.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Cf(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(as.h,n.Mt)),Sl(t,e);var r=new Wa(n.target,e,1,n.sequenceNumber);Al(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Jo("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Rl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Rl(t,e,n){return Ko(this,void 0,void 0,(function(){var r=this;return Go(this,(function(i){switch(i.label){case 0:if(!Kc(e))throw e;return t.Fh.add(1),[4,El(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Cf(t.Sh)}),t.fs.vo((function(){return Ko(r,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return Jo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Il(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ll(t,e){return e().catch((function(n){return Rl(t,n,e)}))}function Ml(t){return Ko(this,void 0,void 0,(function(){var e,n,r,i,o;return Go(this,(function(s){switch(s.label){case 0:e=es(t),n=Gl(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ol(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Pf(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Gl(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Rl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return jl(e)&&Vl(e),[2]}}))}))}function jl(t){return Ol(t)&&!Gl(t).Hu()&&t.xh.length>0}function Vl(t){Gl(t).start()}function Ul(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){return Gl(t).Th(),[2]}))}))}function Fl(t){return Ko(this,void 0,void 0,(function(){var e,n,r,i;return Go(this,(function(o){for(e=Gl(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function ql(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i;return Go(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Th.from(r,e,n),[4,Ll(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Ml(t)];case 2:return o.sent(),[2]}}))}))}function Bl(t,e){return Ko(this,void 0,void 0,(function(){return Go(this,(function(n){switch(n.label){case 0:return e&&Gl(t).fh?[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Go(this,(function(i){switch(i.label){case 0:return Cu(r=e.code)&&r!==us.ABORTED?(n=t.xh.shift(),Gl(t).Xu(),[4,Ll(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ml(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jl(t)&&Vl(t),[2]}}))}))}function Hl(t,e){return Ko(this,void 0,void 0,(function(){var n;return Go(this,(function(r){switch(r.label){case 0:return n=es(t),e?(n.Fh.delete(2),[4,Il(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,El(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Kl(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=es(t);return r.mh(),new yl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Cl.bind(null,t),Iu:xl.bind(null,t),uh:Pl.bind(null,t)}),t.Oh.push((function(n){return Ko(e,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),kl(t)?Nl(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Dl(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Gl(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=es(t);return r.mh(),new gl(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Ul.bind(null,t),Iu:Bl.bind(null,t),Eh:Fl.bind(null,t),wh:ql.bind(null,t)}),t.Oh.push((function(n){return Ko(e,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Ml(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Jo("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var zl=function(){this.Wh=void 0,this.listeners=[]},$l=function(){this.queries=new Gh((function(t){return Ha(t)}),Ba),this.onlineState="Unknown",this.jh=new Set};function Wl(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Go(this,(function(c){switch(c.label){case 0:if(n=es(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new zl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Xc(a,"Initialization of query '"+Ka(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&Ql(n),[2]}}))}))}function Jl(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s;return Go(this,(function(a){return n=es(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Xl(t,e){for(var n=es(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hh(s)&&(r=!0);u.Wh=s}}r&&Ql(n)}function Yl(t,e,n){var r=es(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ql(t){t.jh.forEach((function(t){t.next()}))}var Zl=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Xu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Xu.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),tp=function(t){this.key=t},ep=function(t){this.key=t},np=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Gu(),this.Ce=Gu(),this.ll=za(t),this._l=new Wu(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Ju,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Ra(this.query)&&i.size===this.query.limit?i.last():null,c=La(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var h=i.get(t),f=e instanceof ua?e:null;f&&(f=Ga(n.query,f)?f:null);var l=!!h&&n.Ce.has(h.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.El(h,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.ll(f,u)>0||c&&n.ll(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ra(this.query)||La(this.query))for(;s.size>this.query.limit;){var h=Ra(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zo()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new Xu(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Ju,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Gu(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new ep(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new tp(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Gu();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return Xu.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),rp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ip=function(t){this.key=t,this.yl=!1},op=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Gh((function(t){return Ha(t)}),Ba),this.Dl=new Map,this.Cl=[],this.xl=new Pu(Ds.J),this.Nl=new Map,this.Fl=new qf,this.Ol={},this.kl=new Map,this.Ml=tf.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sp(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Go(this,(function(u){switch(u.label){case 0:return n=Lp(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Rf(n.Sh,Fa(e))];case 2:return s=u.sent(),a=n.pl.ka(s.targetId),r=s.targetId,[4,ap(n,e,r,"current"===a)];case 3:i=u.sent(),n.$l&&Tl(n.gl,s),u.label=4;case 4:return[2,i]}}))}))}function ap(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Go(this,(function(h){switch(h.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s;return Go(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Mf(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(wp(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,Mf(t.Sh,e,!0)];case 1:return i=h.sent(),o=new np(e,i.Pc),s=o.dl(i.documents),a=Qu.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),wp(t,n,u.ml),c=new rp(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function up(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Go(this,(function(o){switch(o.label){case 0:return n=es(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Ba(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Lf(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),_l(n.gl,r.targetId),mp(n,r.targetId)})).catch(Kh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return mp(n,r.targetId),[4,Lf(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function cp(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Go(this,(function(a){switch(a.label){case 0:r=Mp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=es(t),i=_s.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Gu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],h=gu(c,n.get(c.key));null!=h&&s.push(new Iu(c.key,h,sa(h.proto.mapValue),lu.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Pu(is)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Tp(r,i.ci)];case 3:return a.sent(),[4,Ml(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Xc(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function hp(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Go(this,(function(i){switch(i.label){case 0:n=es(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xf(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(ts(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?ts(r.yl):t.Ke.size>0&&(ts(r.yl),r.yl=!1))})),[4,Tp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Kh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fp(t,e,n){var r=es(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=es(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Ql(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function lp(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Go(this,(function(c){switch(c.label){case 0:return(r=es(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Pu(Ds.J)).Ht(o,new ca(o,As.min())),a=Gu().add(o),u=new Yu(As.min(),new Map,new Mu(is),s,a),[4,hp(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Ep(r),[3,4];case 2:return[4,Lf(r.Sh,e,!1).then((function(){return mp(r,e,n)})).catch(Kh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function pp(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Go(this,(function(o){switch(o.label){case 0:n=es(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Df(n.Sh,e)];case 2:return i=o.sent(),gp(n,r,null),yp(n,r),n.pl.Fa(r,"acknowledged"),[4,Tp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function dp(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i;return Go(this,(function(o){switch(o.label){case 0:r=es(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=es(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return ts(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),gp(r,e,n),yp(r,e),r.pl.Fa(e,"rejected",n),[4,Tp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Kh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vp(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s;return Go(this,(function(a){switch(a.label){case 0:Ol((n=es(t)).gl)||Jo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=es(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Xc(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function yp(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function gp(t,e,n){var r=es(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function mp(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||bp(t,e)}))}function bp(t,e){var n=t.xl.get(e);null!==n&&(_l(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Ep(t))}function wp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof tp?(t.Fl.ir(o.key,e),Ip(t,o)):o instanceof ep?(Jo("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||bp(t,o.key)):Zo()}}function Ip(t,e){var n=e.key;t.xl.get(n)||(Jo("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Ep(t))}function Ep(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new ip(e)),t.xl=t.xl.Ht(e,n),Tl(t.gl,new Wa(Fa(Pa(e.path)),n,2,Ts.U))}}function Tp(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s;return Go(this,(function(a){switch(a.label){case 0:return r=es(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Af.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h;return Go(this,(function(f){switch(f.label){case 0:n=es(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Uc.forEach(e,(function(e){return Uc.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return Uc.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Kc(r=f.sent()))throw r;return Jo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.dc.get(a),c=u.Mt,h=u.Bt(c),n.dc=n.dc.Ht(a,h));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function _p(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Go(this,(function(i){switch(i.label){case 0:return(n=es(t)).currentUser.isEqual(e)?[3,3]:(Jo("SyncEngine","User change. New user:",e.R()),[4,Of(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new cs(us.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Tp(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ap(t,e){var n=es(t),r=n.Nl.get(e);if(r&&r.yl)return Gu().add(r.key);var i=Gu(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Sl.get(u);i=i.ye(c.view.fl)}return i}function Sp(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Go(this,(function(o){switch(o.label){case 0:return[4,Mf((n=es(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&wp(n,e.targetId,i.ml),i)]}}))}))}function Np(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){return[2,Vf((e=es(t)).Sh).then((function(t){return Tp(e,t)}))]}))}))}function kp(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o;return Go(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=es(t),r=es(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Uc.resolve(null)}))}))}((i=es(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ml(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(gp(i,e,r||null),yp(i,e),function(t,e){es(es(t).Ho).Fi(e)}(i.Sh,e)):Zo(),s.label=4;case 4:return[4,Tp(i,o)];case 5:return s.sent(),[3,7];case 6:Jo("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Op(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Go(this,(function(h){switch(h.label){case 0:return Lp(n=es(t)),Mp(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Dp(n,r.rt())]);case 1:return i=h.sent(),n.Ll=!0,[4,Hl(n.gl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],Tl(n.gl,a);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):c=c.then((function(){return mp(n,e),Lf(n.Sh,e,!0)})),_l(n.gl,e)})),[4,c]);case 4:return h.sent(),[4,Dp(n,u)];case 5:return h.sent(),function(t){var e=es(t);e.Nl.forEach((function(t,n){_l(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Pu(Ds.J)}(n),n.Ll=!1,[4,Hl(n.gl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function Dp(t,e,n){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,f,l,p,d,v;return Go(this,(function(y){switch(y.label){case 0:n=es(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Dl.get(a))&&0!==c.length?[4,Rf(n.Sh,Fa(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.Sl.get(l),[4,Sp(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,jf(n.Sh,a)];case 8:return v=y.sent(),[4,Rf(n.Sh,v)];case 9:return u=y.sent(),[4,ap(n,Cp(v),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Cp(t){return xa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xp(t){var e=es(t);return es(es(e.Sh).persistence).Ko()}function Pp(t,e,n,r){return Ko(this,void 0,void 0,(function(){var i,o,s;return Go(this,(function(a){switch(a.label){case 0:return(i=es(t)).Ll?(Jo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Vf(i.Sh)];case 3:return o=a.sent(),s=Yu.$e(e,"current"===n),[4,Tp(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Lf(i.Sh,e,!0)];case 6:return a.sent(),mp(i,e,r),[3,8];case 7:Zo(),a.label=8;case 8:return[2]}}))}))}function Rp(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h,f,l;return Go(this,(function(p){switch(p.label){case 0:if(!(r=Lp(t)).Ll)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Dl.has(s)?(Jo("SyncEngine","Adding an already active target "+s),[3,5]):[4,jf(r.Sh,s)]):[3,6];case 2:return a=p.sent(),[4,Rf(r.Sh,a)];case 3:return u=p.sent(),[4,ap(r,Cp(a),u.targetId,!1)];case 4:p.sent(),Tl(r.gl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Go(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Lf(r.Sh,t,!1).then((function(){_l(r.gl,t),mp(r,t)})).catch(Kh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Lp(t){var e=es(t);return e.gl.Ch.Bh=hp.bind(null,e),e.gl.Ch.Sn=Ap.bind(null,e),e.gl.Ch.$h=lp.bind(null,e),e.vl.uh=Xl.bind(null,e.Vl),e.vl.ql=Yl.bind(null,e.Vl),e}function Mp(t){var e=es(t);return e.gl.Ch.qh=pp.bind(null,e),e.gl.Ch.Uh=dp.bind(null,e),e}var jp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return this.Kt=pl(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return kf(this.persistence,new Sf,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new $f(Jf.ra,this.Kt)},t.prototype.jl=function(t){return new ol},t.prototype.terminate=function(){return Ko(this,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),Vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ho(e,t),e.prototype.initialize=function(e){return Ko(this,void 0,void 0,(function(){return Go(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Uf(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Mp(this.Xl.fa)];case 4:return n.sent(),[4,Ml(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return kf(this.persistence,new Sf,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new uf(e,t.fs)},e.prototype.Gl=function(t){var e=Tf(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Hh.Zs(this.cacheSizeBytes):Hh.ni;return new wf(this.synchronizeTabs,e,t.clientId,n,t.fs,fl(),ll(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new ol},e}(jp),Up=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ho(e,t),e.prototype.initialize=function(e){return Ko(this,void 0,void 0,(function(){var n,r=this;return Go(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof il?(this.pl.fa={nu:kp.bind(null,n),su:Pp.bind(null,n),iu:Rp.bind(null,n),Ko:xp.bind(null,n),eu:Np.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Ko(r,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return[4,Op(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=fl();if(!il.Wn(e))throw new cs(us.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tf(t.gu.T,t.gu.persistenceKey);return new il(e,t.fs,n,t.clientId,t.Yl)},e}(Vp),Fp=function(){function t(){}return t.prototype.initialize=function(t,e){return Ko(this,void 0,void 0,(function(){var n=this;return Go(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return fp(n.fa,t,1)},this.gl.Ch.s_=_p.bind(null,this.fa),[4,Hl(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new $l},t.prototype.Zl=function(t){var e,n=pl(t.gu.T),r=(e=t.gu,new hl(e));return function(t,e,n){return new ml(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return fp(s.fa,t,0)},o=al.Wn()?new al:new sl,new wl(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new op(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return e=es(t),Jo("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,El(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),qp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Bp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new cs(us.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Os(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}(),Hp=function(t){this._methodName=t};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Kp(t,e,n){if(!n)throw new cs(us.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Gp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new cs(us.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zp(t,e,n,r){if(!0===e&&!0===r)throw new cs(us.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $p(t){if(!Ds.Et(t))throw new cs(us.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Wp(t){if(Ds.Et(t))throw new cs(us.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Jp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zo()}function Xp(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new cs(us.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jp(t);throw new cs(us.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Yp(t,e){if(e<=0)throw new cs(us.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new cs(us.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cs(us.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,zp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Zp=new Map,td=function(){function t(t,e){this.w_="(lite)",this.E_=new Qp({}),this.T_=!1,t instanceof ys?(this.I_=t,this.m_=new bs):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new cs(us.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(t.options.projectId)}(t),this.m_=new ws(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new cs(us.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new cs(us.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Qp(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new bs;switch(t.type){case"gapi":var e=t.client;return ts(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Es(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new cs(us.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Zp.get(this))&&(Jo("ComponentProvider","Removing Datastore"),Zp.delete(this),t.terminate()),Promise.resolve();var t},t}(),ed=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),nd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Pa(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Ho(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ed(this.firestore,null,new Ds(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(nd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function id(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fs&&(t=t._),Kp("collection","path",e),t instanceof td)return Wp(n=Ns.ct.apply(Ns,zo([e],r))),new rd(t,null,n);if(!(t instanceof ed||t instanceof rd))throw new cs(us.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wp(n=Ns.ct.apply(Ns,zo([t.path],r)).child(Ns.ct(e))),new rd(t.firestore,null,n)}function od(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fs&&(t=t._),1===arguments.length&&(e=rs.t()),Kp("doc","path",e),t instanceof td)return $p(n=Ns.ct.apply(Ns,zo([e],r))),new ed(t,null,new Ds(n));if(!(t instanceof ed||t instanceof rd))throw new cs(us.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $p(n=t.D_.child(Ns.ct.apply(Ns,zo([e],r)))),new ed(t.firestore,t instanceof rd?t.v_:null,new Ds(n))}function sd(t,e){return t instanceof fs&&(t=t._),e instanceof fs&&(e=e._),(t instanceof ed||t instanceof rd)&&(e instanceof ed||e instanceof rd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ad(t,e){return t instanceof fs&&(t=t._),e instanceof fs&&(e=e._),t instanceof nd&&e instanceof nd&&t.firestore===e.firestore&&Ba(t.C_,e.C_)&&t.v_===e.v_
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var ud=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new cs(us.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cs(us.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return is(this.x_,t.x_)||is(this.N_,t.N_)},t}(),cd=/^__.*__$/,hd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Iu(t,this.data,this.zt,e,this.fieldTransforms):new wu(t,this.data,e,this.fieldTransforms)},t}(),fd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Iu(t,this.data,this.zt,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ld(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zo()}}var pd=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Pd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(ld(this.k_)&&cd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),dd=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||pl(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new pd({k_:t,methodName:e,j_:n,path:Os.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function vd(t){var e=t.p_(),n=pl(t.I_);return new dd(t.I_,!!e.ignoreUndefinedProperties,n)}function yd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Od("Data must be an object, but it was:",s,r);var a,u,c=Nd(r,s);if(o.merge)a=new Rs(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=Dd(e,l[f],n);if(!s.contains(p))throw new cs(us.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Rd(h,p)||h.push(p)}a=new Rs(h),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new hd(new ia(c),a,u)}var gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hp);function md(t,e,n){return new pd({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.z_=function(t){return new hu(t.path,new nu)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hp),wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Ho(e,t),e.prototype.z_=function(t){var e=md(this,t,!0),n=this.H_.map((function(t){return Sd(t,e)})),r=new ru(n);return new hu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hp),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Ho(e,t),e.prototype.z_=function(t){var e=md(this,t,!0),n=this.H_.map((function(t){return Sd(t,e)})),r=new ou(n);return new hu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hp),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Ho(e,t),e.prototype.z_=function(t){var e=new au(t.Kt,Ya(t.Kt,this.J_));return new hu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hp);function Td(t,e,n,r){var i=t.G_(1,e,n);Od("Data must be an object, but it was:",i,r);var o=[],s=new oa;xs(r,(function(t,r){var a=xd(e,t,n);r instanceof fs&&(r=r._);var u=i.U_(a);if(r instanceof gd)o.push(a);else{var c=Sd(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Rs(o);return new fd(s.yt(),a,i.fieldTransforms)}function _d(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Dd(e,r,n)],u=[i];if(o.length%2!=0)throw new cs(us.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Dd(e,o[c])),u.push(o[c+1]);for(var h=[],f=new oa,l=a.length-1;l>=0;--l)if(!Rd(h,a[l])){var p=a[l],d=u[l];d instanceof fs&&(d=d._);var v=s.U_(p);if(d instanceof gd)h.push(p);else{var y=Sd(d,v);null!=y&&(h.push(p),f.set(p,y))}}var g=new Rs(h);return new fd(f.yt(),g,s.fieldTransforms)}function Ad(t,e,n,r){return void 0===r&&(r=!1),Sd(n,t.G_(r?4:3,e))}function Sd(t,e){if(t instanceof fs&&(t=t._),kd(t))return Od("Unsupported field value:",e,t),Nd(t,e);if(t instanceof Hp)return function(t,e){if(!ld(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Sd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof fs&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ya(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_s.fromDate(t);return{timestampValue:cc(e.Kt,n)}}if(t instanceof _s)return n=new _s(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:cc(e.Kt,n)};if(t instanceof ud)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hs)return{bytesValue:hc(e.Kt,t.l)};if(t instanceof ed){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:pc(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Jp(t))}(t,e)}function Nd(t,e){var n={};return Ps(t)?e.path&&e.path.length>0&&e.zt.push(e.path):xs(t,(function(t,r){var i=Sd(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _s||t instanceof ud||t instanceof hs||t instanceof ed||t instanceof Hp)}function Od(t,e,n){if(!kd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Jp(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Dd(t,e,n){if(e instanceof fs&&(e=e._),e instanceof Bp)return e.d_;if("string"==typeof e)return xd(t,e);throw Pd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Cd=new RegExp("[~\\*/\\[\\]]");function xd(t,e,n){if(e.search(Cd)>=0)throw Pd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bp.bind.apply(Bp,zo([void 0],e.split("."))))).d_}catch(r){throw Pd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pd(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new cs(us.INVALID_ARGUMENT,(a+=". ")+t+u)}function Rd(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ld=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Ko(this,void 0,void 0,(function(){var e,n=this;return Go(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new cs(us.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Go(this,(function(u){switch(u.label){case 0:return n=es(t),r=bc(n.Kt)+"/documents",i={documents:e.map((function(t){return vc(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ts(!!e.found),e.found.name,e.found.updateTime;var n=yc(t,e.found.name),r=lc(e.found.updateTime),i=new ia({mapValue:{fields:e.found.fields}});return new ua(n,r,i,{})}(t,e):"missing"in e?function(t,e){ts(!!e.missing),ts(!!e.readTime);var n=yc(t,e.missing),r=lc(e.readTime);return new ca(n,r)}(t,e):Zo()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());ts(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ca||t instanceof ua?n.sf(t):Zo()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ku(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Ko(this,void 0,void 0,(function(){var t,e=this;return Go(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Ds.ft(n);e.mutations.push(new Ou(r,e.Gt(r)))})),[4,function(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i;return Go(this,(function(o){switch(o.label){case 0:return n=es(t),r=bc(n.Kt)+"/documents",i={writes:e.map((function(t){return Ec(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof ua)e=t.version;else{if(!(t instanceof ca))throw Zo();e=As.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new cs(us.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?lu.updateTime(e):lu.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(As.min()))throw new cs(us.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lu.updateTime(e)}return lu.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Md=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new dl(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Ko(t,void 0,void 0,(function(){var t,e,n=this;return Go(this,(function(r){return t=new Ld(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Bs(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Cu(e)}return!1},t}(),jd=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=gs.UNAUTHENTICATED,this.clientId=rs.t(),this._f=function(){},this.N=new Vc,this.credentials.S((function(t){Jo("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Ko(this,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new cs(us.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Vc;return this.fs.Tf((function(){return Ko(t,void 0,void 0,(function(){var t,n;return Go(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Xc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vd(t,e){return Ko(this,void 0,void 0,(function(){var n,r,i=this;return Go(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Jo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Ko(i,void 0,void 0,(function(){return Go(this,(function(t){switch(t.label){case 0:return[4,Of(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Ud(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Go(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Fd(t)];case 1:return n=i.sent(),Jo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Ko(this,void 0,void 0,(function(){var n,r;return Go(this,(function(i){switch(i.label){case 0:return(n=es(t)).fs.Af(),Jo("RemoteStore","RemoteStore received new credentials"),r=Ol(n),n.Fh.add(3),[4,El(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Il(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Fd(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Jo("FirestoreClient","Using default OfflineComponentProvider"),[4,Vd(t,new jp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function qd(t){return Ko(this,void 0,void 0,(function(){return Go(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Jo("FirestoreClient","Using default OnlineComponentProvider"),[4,Ud(t,new Fp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Bd(t){return Fd(t).then((function(t){return t.persistence}))}function Hd(t){return Fd(t).then((function(t){return t.Sh}))}function Kd(t){return qd(t).then((function(t){return t.gl}))}function Gd(t){return qd(t).then((function(t){return t.fa}))}function zd(t){return Ko(this,void 0,void 0,(function(){var e,n;return Go(this,(function(r){switch(r.label){case 0:return[4,qd(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=sp.bind(null,e.fa),n.Jh=up.bind(null,e.fa),n)]}}))}))}function $d(t,e,n){var r=this;void 0===n&&(n={});var i=new Vc;return t.fs.ys((function(){return Ko(r,void 0,void 0,(function(){var r;return Go(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(o){e.ys((function(){return Jl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new cs(us.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new cs(us.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Zl(Pa(n.path),o,{includeMetadataChanges:!0,sl:!0});return Wl(t,s)},[4,zd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Wd(t,e,n){var r=this;void 0===n&&(n={});var i=new Vc;return t.fs.ys((function(){return Ko(r,void 0,void 0,(function(){var r;return Go(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qp({next:function(n){e.ys((function(){return Jl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new cs(us.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Zl(n,o,{includeMetadataChanges:!0,sl:!0});return Wl(t,s)},[4,zd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Jd=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new dl(this,"async_queue_retry"),this.vf=function(){var e=ll();e&&Jo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=ll();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ll();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Ko(this,void 0,void 0,(function(){var t,e=this;return Go(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Kc(t=n.sent()))throw t;return Jo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Xo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Jc.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Zo()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Ko(this,void 0,void 0,(function(){var t;return Go(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Jd,r.w_="name"in e?e.name:"[DEFAULT]",r}return Ho(e,t),e.prototype.b_=function(){return this.Lf||Qd(this),this.Lf.terminate()},e}(td);function Yd(t){return t.Lf||Qd(t),t.Lf.df(),t.Lf}function Qd(t){var e=t.p_(),n=function(t,e,n){return new vs(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new jd(t.m_,t.Mf,n)}function Zd(t,e,n){var r=this,i=new Vc;return t.fs.enqueue((function(){return Ko(r,void 0,void 0,(function(){var r;return Go(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Vd(t,n)];case 1:return o.sent(),[4,Ud(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===us.FAILED_PRECONDITION||t.code===us.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function tv(t){if(t.R_||t.P_)throw new cs(us.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ev=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return js(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Vs(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Zo()}},t.prototype.jf=function(t,e){var n=this,r={};return xs(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new ud(js(t.latitude),js(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Fs(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(qs(t));default:return null}},t.prototype.Bf=function(t){var e=Ms(t);return new _s(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Ns.ct(t);ts(jc(n));var r=new ys(n.get(1),n.get(3)),i=new Ds(n.X(5));return r.isEqual(e)||Xo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),nv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ed(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new rv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nv);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function iv(t,e){return"string"==typeof e?xd(t,e):e instanceof fs?e._.d_:e.d_}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ov(t){if(La(t)&&0===t.Nt.length)throw new cs(us.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sv=function(){};function av(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Ho(e,t),e.prototype.Yf=function(t){var e=vd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new cs(us.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vv(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var f=h[c];u.push(dv(r,t,f))}a={arrayValue:{values:u}}}else a=dv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vv(s,o),a=Ad(n,"where",s,"in"===o||"not-in"===o);var l=ya.create(i,o,a);return function(t,e){if(e.xt()){var n=ja(t);if(null!==n&&!n.isEqual(e.field))throw new cs(us.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ma(t);null!==r&&yv(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new cs(us.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new cs(us.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new nd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(sv),cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Ho(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new cs(us.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cs(us.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Na(e,n);return function(t,e){if(null===Ma(t)){var n=ja(t);null!==n&&yv(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new nd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ca(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(sv),hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Ho(e,t),e.prototype.Yf=function(t){return new nd(t.firestore,t.v_,qa(t.C_,this.nd,this.sd))},e}(sv),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Ho(e,t),e.prototype.Yf=function(t){var e=pv(t,this.type,this.rd,this.od);return new nd(t.firestore,t.v_,function(t,e){return new Ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(sv),lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Ho(e,t),e.prototype.Yf=function(t){var e=pv(t,this.type,this.rd,this.od);return new nd(t.firestore,t.v_,function(t,e){return new Ca(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(sv);function pv(t,e,n,r){if(n[0]instanceof fs&&(n[0]=n[0]._),n[0]instanceof nv)return function(t,e,n,r,i){if(!r)throw new cs(us.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ua(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Qs(e,r.key));else{var c=r.field(u.field);if(Us(c))throw new cs(us.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.ot();throw new cs(us.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Aa(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=vd(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new cs(us.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new cs(us.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Va(t)&&-1!==c.indexOf("/"))throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(Ns.ct(c));if(!Ds.Et(h))throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new Ds(h);a.push(Qs(e,f))}else{var l=Ad(n,r,c);a.push(l)}}return new Aa(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function dv(t,e,n){if(n instanceof fs&&(n=n._),"string"==typeof n){if(""===n)throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Va(e)&&-1!==n.indexOf("/"))throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ns.ct(n));if(!Ds.Et(r))throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Qs(t,new Ds(r))}if(n instanceof ed)return Qs(t,n.S_);throw new cs(us.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jp(n)+".")}function vv(t,e){if(!Array.isArray(t)||0===t.length)throw new cs(us.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new cs(us.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yv(t,e,n){if(!n.isEqual(e))throw new cs(us.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function mv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ho(e,t),e.prototype.Uf=function(t){return new hs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ed(this.firestore,null,e)},e}(ev),wv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Iv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Ho(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Ev(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(nv),Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Iv),Tv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new wv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Ev(n.zf,n.Hf,r.key,r,new wv(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new cs(us.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Ev(t.zf,t.Hf,e.doc.key,e.doc,new wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ev(t.zf,t.Hf,e.doc.key,e.doc,new wv(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:_v(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _v(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zo()}}function Av(t,e){return t instanceof Iv&&e instanceof Iv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Tv&&e instanceof Tv&&t.zf===e.zf&&ad(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ho(e,t),e.prototype.Uf=function(t){return new hs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ed(this.firestore,null,e)},e}(ev);function Nv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Xp(t,ed);var o=Xp(t.firestore,Xd),s=vd(o);return e instanceof fs&&(e=e._),Ov(o,[("string"==typeof e||e instanceof Bp?_d(s,"updateDoc",t.S_,e,n,r):Td(s,"updateDoc",t.S_,e)).F_(t.S_,lu.exists(!0))])}function kv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof fs&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||gv(i[a])||(s=i[a],a++);var u,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(gv(i[a])){var l=i[a];i[a]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[a+1]=null===(n=l.error)||void 0===n?void 0:n.bind(l),i[a+2]=null===(r=l.complete)||void 0===r?void 0:r.bind(l)}if(t instanceof ed)c=Xp(t.firestore,Xd),h=Pa(t.S_.path),u={next:function(e){i[a]&&i[a](Dv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=Xp(t,nd);c=Xp(p.firestore,Xd),h=p.C_;var d=new Sv(c);u={next:function(t){i[a]&&i[a](new Tv(c,d,p,t))},error:i[a+1],complete:i[a+2]},ov(t.C_)}return function(t,e,n,r){var i=this,o=new qp(r),s=new Zl(e,o,n);return t.fs.ys((function(){return Ko(i,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return e=Wl,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Ko(i,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return e=Jl,[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Yd(c),h,f,u)}function Ov(t,e){return function(t,e){var n=this,r=new Vc;return t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var n;return Go(this,(function(i){switch(i.label){case 0:return n=cp,[4,Gd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Yd(t),e)}function Dv(t,e,n){var r=n.docs.get(e.S_),i=new Sv(t);return new Iv(t,i,e.S_,r,new wv(n.hasPendingWrites,n.fromCache),e.v_)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Cv=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=vd(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=xv(t,this.zf),i=mv(r.v_,e,n),o=yd(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,lu.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=xv(t,this.zf);return e instanceof fs&&(e=e._),o="string"==typeof e||e instanceof Bp?_d(this.wd,"WriteBatch.update",s.S_,e,n,r):Td(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,lu.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=xv(t,this.zf);return this.fd=this.fd.concat(new ku(e.S_,lu.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new cs(us.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xv(t,e){if(t instanceof fs&&(t=t._),t.firestore!==e)throw new cs(us.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Ho(e,t),e.prototype.get=function(e){var n=this,r=xv(e,this.zf),i=new Sv(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Iv(n.zf,i,r.S_,t.Jf,new wv(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=vd(t)}return t.prototype.get=function(t){var e=this,n=xv(t,this.zf),r=new bv(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Zo();var i=t[0];if(i instanceof ca)return new nv(e.zf,r,n.S_,null,n.v_);if(i instanceof ua)return new nv(e.zf,r,i.key,i,n.v_);throw Zo()}))},t.prototype.set=function(t,e,n){var r=xv(t,this.zf),i=mv(r.v_,e,n),o=yd(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xv(t,this.zf);return e instanceof fs&&(e=e._),o="string"==typeof e||e instanceof Bp?_d(this.wd,"Transaction.update",s.S_,e,n,r):Td(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=xv(t,this.zf);return this.Td.delete(e.S_),this},t}()),Rv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tv(t=Xp(t,Xd));var n=Yd(t),r=t.p_(),i=new Fp;return Zd(n,i,new Vp(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tv(t=Xp(t,Xd));var e=Yd(t),n=t.p_(),r=new Fp;return Zd(e,r,new Up(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new cs(us.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Vc;return t.Mf.Tf((function(){return Ko(e,void 0,void 0,(function(){var e;return Go(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return qc.Wn()?(e=t+"main",[4,qc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Tf(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ys||(i.md=e),i}return Ho(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Ko(e,void 0,void 0,(function(){var e,n;return Go(this,(function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,Kd(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=es(t);return e.Fh.delete(0),Il(e)}(n))]}}))}))}))}(Yd(Xp(this._,Xd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Ko(e,void 0,void 0,(function(){var e,n;return Go(this,(function(r){switch(r.label){case 0:return[4,Bd(t)];case 1:return e=r.sent(),[4,Kd(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Ko(this,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return(e=es(t)).Fh.add(0),[4,El(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Yd(Xp(this._,Xd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&zp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Vc;return t.fs.ys((function(){return Ko(e,void 0,void 0,(function(){var e;return Go(this,(function(r){switch(r.label){case 0:return e=vp,[4,Gd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Yd(Xp(this._,Xd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qp(e);return t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return e=function(t,e){es(t).jh.add(e),e.next()},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var e;return Go(this,(function(n){switch(n.label){case 0:return e=function(t,e){es(t).jh.delete(e)},[4,zd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Yd(t=Xp(t,Xd)),gv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new cs(us.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Wv(this,id(this._,t))}catch(t){throw Fv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Uv(this,od(this._,t))}catch(t){throw Fv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Gv(this,function(t,e){if(t=Xp(t,td),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new cs(us.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nd(t,null,function(t){return new Ca(Ns.at(),t)}(e))}(this._,t))}catch(t){throw Fv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Vc;return t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var n;return Go(this,(function(i){switch(i.label){case 0:return[4,function(t){return qd(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Md(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Yd(t),(function(n){return e(new Pv(t,n))}))}(this._,(function(n){return t(new jv(e,n))}))},e.prototype.batch=function(){var t=this;return Yd(this._),new Vv(new Cv(this._,(function(e){return Ov(t._,e)})))},e.prototype.loadBundle=function(t){throw new cs(us.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new cs(us.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(fs),Mv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Ho(e,t),e.prototype.Uf=function(t){return new ds(new hs(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Uv.Ad(e,this.firestore,null)},e}(ev);var jv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Ho(e,t),e.prototype.get=function(t){var e=this,n=Jv(t);return this._.get(n).then((function(t){return new Hv(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=Jv(t);return n?(Gp("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Jv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,zo([s,e,n],i)),this},e.prototype.delete=function(t){var e=Jv(t);return this._.delete(e),this},e}(fs),Vv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.set=function(t,e,n){var r=Jv(t);return n?(Gp("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Jv(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,zo([s,e,n],i)),this},e.prototype.delete=function(t){var e=Jv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(fs),Uv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Mv(e),r}return Ho(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new cs(us.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ed(n._,r,new Ds(t)))},e.Ad=function(t,n,r){return new e(n,new ed(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Wv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Wv(this.firestore,id(this._,t))}catch(t){throw Fv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof fs&&(t=t._),t instanceof ed&&sd(this._,t)},e.prototype.set=function(t,e){e=Gp("DocumentReference.set",e);try{return function(t,e,n){t=Xp(t,ed);var r=Xp(t.firestore,Xd),i=mv(t.v_,e,n);return Ov(r,[yd(vd(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,lu.Wt())])}(this._,t,e)}catch(t){throw Fv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nv(this._,t):Nv.apply(void 0,zo([this._,t,e],n))}catch(t){throw Fv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ov(Xp((t=this._).firestore,Xd),[new ku(t.S_,lu.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=Bv(e,(function(e){return new Hv(t.firestore,new Iv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return kv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xp(t,ed);var e=Xp(t.firestore,Xd),n=Yd(e),r=new Sv(e);return function(t,e){var n=this,r=new Vc;return t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var n;return Go(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i;return Go(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=es(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof ua?n.resolve(i):i instanceof ca?n.resolve(null):n.reject(new cs(us.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Xc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Iv(e,r,t.S_,n,new wv(n instanceof ua&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Xp(t,ed);var e=Xp(t.firestore,Xd);return $d(Yd(e),t.S_,{source:"server"}).then((function(n){return Dv(e,t,n)}))}(this._):function(t){t=Xp(t,ed);var e=Xp(t.firestore,Xd);return $d(Yd(e),t.S_).then((function(n){return Dv(e,t,n)}))}(this._)).then((function(t){return new Hv(e.firestore,new Iv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(fs);function Fv(t,e,n){return t.message=t.message.replace(e,n),t}function qv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!gv(r))return r}return{}}function Bv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=gv(t[0])?t[0]:gv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Ho(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Uv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Av(this._,t._)},e}(fs),Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Hv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Mv(e),r}return Ho(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,av(this._,function(t,e,n){var r=e,i=iv("where",t);return new uv(i,r,n)}(t,n,r)))}catch(t){throw Fv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,av(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=iv("orderBy",t);return new cv(r,n)}(t,n)))}catch(t){throw Fv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,av(this._,function(t){return Yp("limit",t),new hv("limit",t,"F")}(t)))}catch(t){throw Fv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,av(this._,function(t){return Yp("limitToLast",t),new hv("limitToLast",t,"L")}(t)))}catch(t){throw Fv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Fv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Fv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Fv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Fv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ad(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xp(t,nd);var e=Xp(t.firestore,Xd),n=Yd(e),r=new Sv(e);return function(t,e){var n=this,r=new Vc;return t.fs.ys((function(){return Ko(n,void 0,void 0,(function(){var n;return Go(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ko(this,void 0,void 0,(function(){var r,i,o,s,a;return Go(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Mf(t,e,!0)];case 1:return a=u.sent(),r=new np(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Xc(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Hd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Tv(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Xp(t,nd);var e=Xp(t.firestore,Xd),n=Yd(e),r=new Sv(e);return Wd(n,t.C_,{source:"server"}).then((function(n){return new Tv(e,r,t,n)}))}(this._):function(t){t=Xp(t,nd);var e=Xp(t.firestore,Xd),n=Yd(e),r=new Sv(e);return ov(t.C_),Wd(n,t.C_).then((function(n){return new Tv(e,r,t,n)}))}(this._)).then((function(t){return new $v(e.firestore,new Tv(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=Bv(e,(function(e){return new $v(t.firestore,new Tv(t.firestore._,t.Hf,t._,e.ud))}));return kv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(fs),zv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Ho(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(fs),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Ho(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Gv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Kv(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new zv(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Kv(n.zf,r))}))},e.prototype.isEqual=function(t){return Av(this._,t._)},e}(fs),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Ho(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Uv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Uv(this.firestore,void 0===t?od(this._):od(this._,t))}catch(t){throw Fv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Xp(t.firestore,Xd),r=od(t),i=mv(t.v_,e);return Ov(n,[yd(vd(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,lu.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Uv(e.firestore,t)}))},e.prototype.isEqual=function(t){return sd(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Gv);function Jv(t){return t instanceof fs&&(t=t._),Xp(t,ed)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xv,Yv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Bp.bind.apply(Bp,zo([void 0],e))))||this}return Ho(e,t),e.documentId=function(){return new e(Os.lt().ot())},e.prototype.isEqual=function(t){return t instanceof fs&&(t=t._),t instanceof Bp&&this._.d_.isEqual(t.d_)},e}(fs),Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.serverTimestamp=function(){var t=new bd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new gd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wd("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Id("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ed("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(fs),Zv={Firestore:Lv,GeoPoint:ud,Timestamp:_s,Blob:ds,Transaction:jv,WriteBatch:Vv,DocumentReference:Uv,DocumentSnapshot:Hv,Query:Gv,QueryDocumentSnapshot:Kv,QuerySnapshot:$v,CollectionReference:Wv,FieldPath:Yv,FieldValue:Qv,setLogLevel:function(t){var e;e=t,$o.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new oe("firestore",(function(t){return function(t,e){return new Lv(t,new Xd(t,e),new Rv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Zv)))})(Xv=Pe),Xv.registerVersion("@firebase/firestore","2.1.1"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Pa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function l(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function _(t,e,n){this.code=N+t,this.message=e||k[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new _(e.substring(N.length),t.message,t.serverResponse):null}E(_,Error),_.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},_.prototype.toJSON=function(){return this.w()};var S,N="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}S=D("__EID__")?"__EID__":void 0,E(x,Error),x.prototype.name="CustomError",E(P,x),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new F}),(function(t){t.reset()}));function U(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=q(t,e)}function $(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ct=ut.userAgent;if(ct){Y=ct;break t}}Y=""}function ht(t){return st(Y,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===It&&e||"",this.b=wt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,wt={},It={};function Et(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(t){s.console&&s.console.error(t.message)}bt=t}else bt=t}return bt}function Tt(t,e){this.a=e===kt?t:""}function _t(t){return t instanceof Tt&&t.constructor===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=mt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new Tt(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(St,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ot(t,e){this.a=e===Mt?t:""}function Dt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Ot(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new Ot(t,Mt):null}return t}function Lt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,Mt))}var Mt={},jt=new Ot("about:invalid#zClosurez",Mt);function Vt(t,e,n){this.a=n===Ut?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Ft(t,e,n,r){return t=t instanceof Ot?t:Lt(t),e=e||s,n=n instanceof gt?mt(n):n||"",e.open(Dt(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Kt,Gt=ht("Opera"),zt=ht("Trident")||ht("MSIE"),$t=ht("Edge"),Wt=$t||zt,Jt=ht("Gecko")&&!(st(Y.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Xt=st(Y.toLowerCase(),"webkit")&&!ht("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Qt="",Zt=function(){var t=Y;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):$t?/Edge\/([\d\.]+)/.exec(t):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xt?/WebKit\/(\S+)/.exec(t):Gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Zt&&(Qt=Zt?Zt[1]:""),zt){var te=Yt();if(null!=te&&te>parseFloat(Qt)){Kt=String(te);break t}}Kt=Qt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Kt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&zt){var ie=Yt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var se=!zt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!l(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(me)}}else he=function(){var t=me;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ye||(he(),ye=!0),ge.add(t,e)}var ye=!1,ge=new j;function me(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){de(t)}M(V,t)}ye=!1}function be(t,e){if(this.a=we,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,(function(t){Re(n,Ie,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,Ee,t)}))}catch(t){Re(this,Ee,t)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new L((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=_e.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof be)return t;var e=new be(h);return Re(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Le(t,e,n,null)||ve(w(e,t))}function Oe(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?De(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):je(n),Ve(n,i,Ee,e)))}t.c=null}else Re(t,Ee,e)}function Ce(t,e){t.b||t.a!=Ie&&t.a!=Ee||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function xe(t,e,n,r){var i=Ae(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,Ce(t,i),i.a}function Re(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Me(t),e!=Ee||n instanceof qe||function(t,e){t.g=!0,ve((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof be)return Ce(t,Ae(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Me(t){t.i||(t.i=!0,ve(t.fc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){Fe.call(null,t)}M(_e,e)}function Ue(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return xe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).na=function(t,e){return(t=Ae(t,t,e)).c=!0,Ce(this,t),this},t.o=function(t,e){return xe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new qe(t);ve((function(){De(this,e)}),this)}},t.Zc=function(t){this.a=we,Re(this,Ie,t)},t.$c=function(t){this.a=we,Re(this,Ee,t)},t.fc=function(){for(var t;t=je(this);)Ve(this,t,this.a,this.h);this.i=!1};var Fe=de;function qe(t){x.call(this,t)}function Be(){this.xa=this.xa,this.oa=this.oa}E(qe,x),qe.prototype.name="cancel";function He(t){if(!t.xa&&(t.xa=!0,t.Da(),0))(function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)})(t)}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!zt||9<=Number(oe),ze=zt&&!re("9"),$e=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Je,We);var Xe=Ke({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Je.prototype.g=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Qe,this.va=this.Oa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?wn(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=yn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=mn(n),t&&t[Ye]?In(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[Ye]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ye])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function ln(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&fn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return dn(t,new Je(e,this))}function yn(t){return(t=t[on])instanceof en?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function bn(){Be.call(this),this.v=new en(this),this.$b=this,this.fb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function _n(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function An(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(bn,Be),bn.prototype[Ye]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;vt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Nn.prototype).V=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Cn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,Rn(this,Zn(t.b)),this.i=t.i):t&&(n=String(t).match(Dn))?(this.h=!!e,xn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.c=Un(n[5]||"",!0),Rn(this,n[6]||"",!0),this.i=Un(n[7]||"")):(this.h=!!e,this.b=new $n(null,this.h))}function xn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Qn(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Fn(e,Gn)),t.b=new $n(e,t.h))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function jn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Vn(t,e,n,r){var i=new Cn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Fn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fn(n,"/"==n.charAt(0)?Kn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fn(n,zn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.f;n?xn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,zn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Qn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Wn(t),e=tr(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Yn(t,e){return Wn(t),e=tr(t,e),On(t.a.b,e)}function Qn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),X(n)),t.b+=n.length)}function Zn(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),sr(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":sr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Wn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Wn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=J(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Yn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=Nr();return zt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Rt(t)||jt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||s.window;try{t.close()}catch(t){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),_r(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Rt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Lt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ft("",r,n,s),t=Dt(e),s&&(Wt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Vt(t=(r=Et())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ft(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new be((function(e){"complete"==s.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||Nr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return Pe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Pe.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function _r(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?Er:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Ar={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=_r(i=Nr()):"Worker"===r&&(r=_r(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=s.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(t){return br()&&!!s.indexedDB}return!1}function Dr(){return(Cr()||"chrome-extension:"===xr()||gr())&&!Ir()&&Or()&&!br()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Pr(t){return!fr(t=t||Nr())&&_r(t)!=Er}function Rr(t){return void 0===t?null:er(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=_r(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=fr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Hr(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}Fr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Gr={};function zr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==$r.abcd}catch(t){Kr=!1}function Wr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Xr(t){var e={};return Jr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Yr(t[n]));return e}function Qr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new _("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ni]),Wr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(t){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Qr.call(this,t),Wr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[fi],i=t[li];if(t=Zr(t[hi]),!i||i!=ai&&i!=ui&&!n||i==ui&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[di]=n||null,e[yi]=n||null,e[pi]=r):(e[di]=r||null,e[yi]=r||null,e[pi]=n||null),e[vi]=t||null,Wr(this,mi,i),Wr(this,gi,Yr(e))}E(ii,Qr),ii.prototype.w=function(){var t=ii.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",fi="newEmail",li="requestType",pi="email",di="fromEmail",vi="multiFactorInfo",yi="previousEmail",gi="data",mi="operation";function bi(t){var e=Mn(t=jn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,_i)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new _("argument-error",wi+", "+Ii+"and "+_i+" are required in a valid action code URL.");Jr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,Ai)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",_i="mode",Ai="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ai,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new bi(t)}catch(t){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new _("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new _("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[Mi];var r=n[Ri];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new _("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new _("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new _("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new _("missing-android-pkg-name")}}else if(void 0!==n)throw new _("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new _("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new _("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Ci])&&"boolean"!=typeof e)throw new _("argument-error",Ci+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new _("argument-error",Di+" property must be a non empty string when specified.");this.h=t||null}var Oi="android",Di="dynamicLinkDomain",Ci="handleCodeInApp",xi="iOS",Pi="url",Ri="installApp",Li="minimumVersion",Mi="packageName",ji="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Ui=null;function Fi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function qi(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new qi(t)}catch(t){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Fi(t))}catch(t){}return null}qi.prototype.S=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.i};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Gi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Gi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Gi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ki},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function $i(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Wi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[Ji])return new Yi(t)}catch(t){}return null}var Ji="idToken",Xi="providerId";function Yi(t){var e=t[Xi];if(!e&&t[Ji]){var n=Bi(t[Ji]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Qi(t){Yi.call(this,t),Wr(this,"profile",Yr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function ro(t){var e=jn(t),n=Mn(e,"link"),r=Mn(jn(n),"link");return e=Mn(e,"deep_link_id"),Mn(jn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new _("internal-error","Internal assert: no raw session string available");if(t&&e)throw new _("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}E(Qi,Yi),E(Zi,Qi),E(to,Qi),E(eo,Qi),E(no,Qi);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then((function(t){if(t[Ys]){var n=Bi(t[Ys]);if(!n||e!=n.h)throw new _("user-mismatch");return t}throw new _("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new _("user-mismatch"):t}))}function co(t,e){if(!e)throw new _("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new _("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function yo(t,e){this.Pc=e||[],Jr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=($i(t)||{}).Ja||null,this.nb=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new _("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function mo(t){yo.call(this,t,Gi),this.a=[]}function bo(){mo.call(this,"facebook.com")}function wo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){mo.call(this,"github.com")}function Eo(t){if(!t)throw new _("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){mo.call(this,"google.com"),this.Ca("profile")}function _o(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Ao(){yo.call(this,"twitter.com",Ki)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new _("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Oo(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Do(t,e){if(!(e=Co(e)))throw new _("argument-error","Invalid email link!");return new No(t,e.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=Ni(t=ro(t)))&&t.operation===ai?t:null}function xo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new _("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Lo(t){try{this.a=t||Pe.auth()}catch(t){throw new _("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new _("missing-verification-id");if(!e)throw new _("missing-verification-code");return new xo({cb:t,bb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new lo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Vo(t){if(!t.isOAuthProvider)throw new _("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new _("invalid-auth-event");if(this.g&&this.a)throw new _("invalid-auth-event");if(this.g&&!this.f)throw new _("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Se(this.a):Se(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ja=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ja=function(t){return ba(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,wa(t,n)},co.prototype.c=function(t,e){return uo(Ia(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(t){return ba(t,po(this))},lo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,wa(t,n)},lo.prototype.c=function(t,e){return uo(Ia(t,po(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Hb=pt(t),this},E(go,yo),E(mo,yo),mo.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},mo.prototype.Pb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new _("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},E(bo,mo),Wr(bo,"PROVIDER_ID","facebook.com"),Wr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Io,mo),Wr(Io,"PROVIDER_ID","github.com"),Wr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),E(To,mo),Wr(To,"PROVIDER_ID","google.com"),Wr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Ao,yo),Wr(Ao,"PROVIDER_ID","twitter.com"),Wr(Ao,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ja=function(t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Oa,{email:this.a,oobCode:this.f}):nu(t,Ya,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Da,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Ha,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return uo(this.ja(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Oo,{PROVIDER_ID:"password"}),Jr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ja=function(t){return t.eb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,nu(t,Za,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",uo(t=nu(t,tu,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.eb=function(t,e){var n=this.a.a;return Se(e.verify()).then((function(r){if("string"!=typeof r)throw new _("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return nu(t,Ga,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(e){return function(t,e){return nu(t,za,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new _("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Jr(Lo,{PROVIDER_ID:"phone"}),Jr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Uo.prototype.S=function(){return this.i},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Bo,Ho=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.f)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",_.call(this,e,n)}function Go(t,e,n){_.call(this,t,n),(t=e||{}).Ib&&Wr(this,"email",t.Ib),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Yb&&Wr(this,"tenantId",t.Yb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:jo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new _(e,t.message||void 0);return new Go(e,n,t.message)}return null}function $o(){}function Wo(t){return t.c||(t.c=t.b())}function Jo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}E(Ko,_),E(Go,_),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Go.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,E(Jo,$o),Jo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Jo,E(Yo,$o),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(R("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function hs(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function fs(t,e){t&&t.log(ss,e,void 0)}function ls(t){this.f=t}function ps(t){bn.call(this),this.u=t,this.i=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ls,$o),ls.prototype.a=function(){return new ps(this.f)},ls.prototype.b=function(t){return function(){return t}}({}),E(ps,bn);var ds=0;function vs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ys(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ms(t){bn.call(this),this.headers=new Nn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=bs,this.u=this.R=!1}(t=ps.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ys(this)),this.readyState=ds},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,vs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ys(this):gs(this),3==this.readyState&&vs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ys(this))},t.rc=function(t){this.a&&(this.response=t,ys(this))},t.Ta=function(t){var e=this.h;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ys(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),E(ms,bn);var bs="";ms.prototype.b=hs("goog.net.XhrIo");var ws=/^https?$/i,Is=["POST","PUT"];function Es(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Bo.a(),t.A=t.O?Wo(t.O):Wo(Bo),t.a.onreadystatechange=b(t.Ub,t);try{fs(t.b,Cs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return fs(t.b,Cs(t,"Error opening Xhr: "+e.message)),void _s(t,e)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!z(Is,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ks(t),0<t.g&&(t.u=function(t){return zt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),fs(t.b,Cs(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(e){fs(t.b,Cs(t,"Send error: "+e.message)),_s(t,e)}}function Ts(t){return"content-type"==t.toLowerCase()}function _s(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,As(t),Ns(t)}function As(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Os(t)&&2==Ds(t))fs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.h&&4==Os(t))Tn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){fs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Dn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ws.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(e){fs(t.b,"Can not get status: "+e.message),c=""}t.i=c+" ["+Ds(t)+"]",As(t)}}finally{Ns(t)}}}function Ns(t,e){if(t.a){ks(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<Os(t)?t.a.status:-1}catch(t){return-1}}function Cs(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function xs(t){var e=Hs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Rs(t){if(t.a){if(!t.m)throw new Vs(t);t.m=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function Ms(t){return G(t.g,(function(t){return p(t[1])}))}function js(t){if(t.i&&t.a&&Ms(t)){var e=t.i,n=qs[e];n&&(s.clearTimeout(n.a),delete qs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.h=!0)}catch(r){e=r,t.f=!0,Ms(t)||(n=!0)}}t.c=e,r&&(u=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof xs?(Ls(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Fs(e),qs[e.a]=e,t.i=e.a)}function Vs(){x.call(this)}function Us(){x.call(this)}function Fs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ms.prototype).Ma=function(){void 0!==o&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",fs(this.b,Cs(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),ms.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Ss(this):this.Ic())},t.Ic=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fs(this.b,"Can not get response: "+t.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Us(this),Rs(this),Ps(this,!1,t))}},xs.prototype.v=function(t,e){this.h=!1,Ps(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ls(this,r,(function(t){t instanceof Us?o.cancel():i(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,E(Vs,x),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",E(Us,x),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",Fs.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Bs(t){var e,n=document,r=_t(t).toString(),i=pe(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new xs(o);return e=window.setTimeout((function(){Ks(i,!0);var t=new $s(zs,"Timeout reached for loading script "+r);Rs(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ks(i,!1,e),Rs(a),Ps(a,!0,null))},i.onerror=function(){Ks(i,!0,e);var t=new $s(Gs,"Error while loading script "+r);Rs(a),Ps(a,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=_t(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Hs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Ks(t,!0,this.Ma)}}function Ks(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Gs=0,zs=1;function $s(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Ws(t){this.f=t}function Js(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Qs,this.g=pt(t.secureTokenHeaders||Zs),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ta,this.a=pt(t.firebaseHeaders||ea),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&Pe.INTERNAL.node&&Pe.INTERNAL.node.XMLHttpRequest)&&!br())throw new _("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new ls(self):Ir()?this.f=new Ws(n):this.f=new Yo,this.b=null}E($s,x),E(Ws,$o),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Xs,Ys="idToken",Qs=new Fr(3e4,6e4),Zs={"Content-Type":"application/x-www-form-urlencoded"},ta=new Fr(3e4,6e4),ea={"Content-Type":"application/json"};function na(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ra(t,e){e&&(t.l=ia("https://securetoken.googleapis.com/v1/token",e),t.i=ia("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ia("https://identitytoolkit.googleapis.com/v2/",e))}function ia(t,e){return t=jn(t),e=jn(e.url),t.c=t.a+t.c,xn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function oa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function sa(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=_r(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||zt&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Xs||(Xs=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[ua]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(Bs(At(aa,{onload:ua})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,a)}Js.prototype.S=function(){return this.b},Js.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new _("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ms(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),In(a,"ready",(function(){u&&clearTimeout(u),He(this)})),In(a,"timeout",(function(){u&&clearTimeout(u),He(this),e&&e(null)})),Es(a,t,n,r,i)};var aa=new gt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ua="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t,e,n,r,i,o,s){var a=jn(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new be((function(e,n){sa(t,a.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new _("network-request-failed"))}),r,u?void 0:er(Lr(i)),t.a,t.m.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new _("invalid-email")}function fa(t){"email"in t&&ha(t)}function la(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new _("multi-factor-auth-required",null,pt(t));throw new _("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new _("internal-error")}else{if(!t.sessionInfo)throw new _("missing-verification-id");if(!t.code)throw new _("missing-verification-code")}}Js.prototype.s=function(t,e,n,r,i){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Js.prototype.yb=function(){return nu(this,Ka,{})},Js.prototype.Ab=function(t,e){return nu(this,Ba,{idToken:t,email:e})},Js.prototype.Bb=function(t,e){return nu(this,Ha,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function va(t){if(!t.phoneVerificationInfo)throw new _("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new _("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new _("missing-verification-code")}function ya(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new _("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Yn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;la(t)}function ba(t,e){return e.returnIdpCredential=!0,nu(t,$a,e)}function wa(t,e){return e.returnIdpCredential=!0,nu(t,Ja,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Wa,e)}function Ea(t){if(!t.oobCode)throw new _("invalid-action-code")}(t=Js.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(da,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Ba,n)},t.ub=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,ja,t)},t.vb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ra,t)},t.tb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,La,t)},t.Db=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ma,t)},t.eb=function(t){return nu(this,Qa,t)},t.mb=function(t,e){return nu(this,Fa,{oobCode:t,newPassword:e})},t.Qa=function(t){return nu(this,_a,{oobCode:t})},t.ib=function(t){return nu(this,Ta,{oobCode:t})};var Ta={endpoint:"setAccountInfo",B:Ea,Z:"email",C:!0},_a={endpoint:"resetPassword",B:Ea,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new _("internal-error")},C:!0},Aa={endpoint:"signupNewUser",B:function(t){if(ha(t),!t.password)throw new _("weak-password")},F:la,U:!0,C:!0},Sa={endpoint:"createAuthUri",C:!0},Na={endpoint:"deleteAccount",M:["idToken"]},ka={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new _("internal-error")}},Oa={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ha,F:la,U:!0,C:!0},Da={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ha,F:la,U:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:va,F:la,C:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:va,F:la,C:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",C:!0},La={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",C:!0},Ma={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new _("internal-error")},Z:"email",C:!0},ja={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new _("internal-error");ha(t)},Z:"email",C:!0},Va={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ua={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new _("internal-error")}},Fa={endpoint:"resetPassword",B:Ea,Z:"email",C:!0},qa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ba={endpoint:"setAccountInfo",M:["idToken"],B:fa,U:!0},Ha={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(fa(t),!t.password)throw new _("weak-password")},F:la,U:!0},Ka={endpoint:"signupNewUser",F:la,U:!0,C:!0},Ga={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new _("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new _("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new _("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new _("internal-error")},C:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new _("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new _("internal-error")},C:!0,Na:!0},$a={endpoint:"verifyAssertion",B:ya,Xa:ga,F:ma,U:!0,C:!0},Wa={endpoint:"verifyAssertion",B:ya,Xa:ga,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new _("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);la(t)},U:!0,C:!0},Ja={endpoint:"verifyAssertion",B:function(t){if(ya(t),!t.idToken)throw new _("internal-error")},Xa:ga,F:ma,U:!0},Xa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new _("invalid-custom-token")},F:la,U:!0,C:!0},Ya={endpoint:"verifyPassword",B:function(t){if(ha(t),!t.password)throw new _("wrong-password")},F:la,U:!0,C:!0},Qa={endpoint:"verifyPhoneNumber",B:pa,F:la,C:!0},Za={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new _("internal-error");pa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);la(t)}},tu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:pa,F:la,C:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Ys]^!!t.refreshToken)throw new _("internal-error")},C:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ne(new _("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Se(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ca(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new _("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new _(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new _(r[i],e);return!e&&t&&(e=Rr(t)),new _("internal-error",e)}function ou(t){this.b=t,this.a=null,this.qb=function(t){return(cu||(cu=new be((function(t,e){function n(){Ur(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:au.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Se(Bs(r=At(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new gt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),au=new Fr(3e4,6e4),uu=new Fr(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Vn((t=jn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.i),Ln(this.a,"appName",this.h),this.b=null,this.c=[]}function fu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function lu(t){try{return Pe.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function du(t){var e=ur();return function(t){return nu(t,Va,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(ur())}))}function vu(t){return t.v||(t.v=yr().then((function(){if(!t.u){var e=t.c,n=t.h,r=lu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new ou(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)}))),t.v}function yu(t){return t.l||(t.A=t.c?Sr(t.c,lu(t.b)):null,t.l=new Js(t.g,D(t.h),t.A),t.f&&ra(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new fu(t,e,n,r,i,f)).l=o,t.g=s,t.h=a,t.b=pt(u||null),t.f=c,t.xb(h).toString()}function mu(t){if(this.a=t||Pe.INTERNAL.reactNative&&Pe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new _("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},fu.prototype.xb=function(t){return this.i=t,this},fu.prototype.toString=function(){if(this.m){var t=jn(this.m.url);t=Vn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Pe.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),lt(e)||Ln(t,"customParameters",Rr(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.h?Ln(t,"v",this.h):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Mn(t,s)&&Ln(t,s,this.b[s]);return this.i?Ln(t,"tid",this.i):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(s=lu(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=pu.prototype).Nb=function(t,e,n){var r=new _("popup-closed-by-user"),i=new _("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.qb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return _n(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Nr();return!Pr(t)&&!Vr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Ne(new _("popup-blocked"));if(s&&!Pr())return this.la().o((function(e){lr(t),i(e)})),r(),Se();this.a||(this.a=du(yu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){(Vo(n),s)||cr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=du(yu(this)));var i=this;return this.a.then((function(){Vo(e),cr(gu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return vu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new _("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){W(this.i,(function(e){return e==t}))},(t=mu.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Rr(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Iu=[];function Eu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Nu(){if(!Cu())throw new _("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;br()&&self?(this.m=function(){var t=br()?self:null;if(B(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Iu.push(e)}return e}(),Eu(this.m,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:z(e,n.key)}}))})),Eu(this.m,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.i=e)&&(t.g=new _u(new Tu(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.h||(t.h=ku(t)),t.h}function Du(t,e){var n=0;return new be((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Cu(){try{return!!s.indexedDB}catch(t){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.i&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Mu(t){return Ou(t).then((function(t){var e=xu(Pu(t,!1));return e.getAll?Ru(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(Cu()){var t=jr(),r="__sak"+t;return wu||(wu=new Nu),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Uu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==wr();if(!(t=qu()||t&&Pe.INTERNAL.node&&Pe.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new _("internal-error","The LocalStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=qu()||Pe.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var t=s.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bu(){this.type="nullStorage"}function Hu(){if(!function(){var t="Node"==wr();if(!(t=Ku()||t&&Pe.INTERNAL.node&&Pe.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new _("internal-error","The SessionStorage compatibility library was not found.");throw new _("web-storage-unsupported")}this.a=Ku()||Pe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ku(){try{var t=s.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Wu,t.Node=Ju,t.ReactNative=Xu,t.Worker=Yu,this.a=t[wr()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Se().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Ru((e=xu(Pu(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=xu(Pu(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Du(this,(function(e){return Ru(xu(Pu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Ru(xu(Pu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}ju(t),e()}(this),this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){W(this.a,(function(e){return e==t}))},(t=Uu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Bu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return Se().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var zu,$u,Wu={D:Fu,ab:Hu},Ju={D:Fu,ab:Hu},Xu={D:mu,ab:Bu},Yu={D:Fu,ab:Bu},Qu={qd:"local",NONE:"none",sd:"session"};function Zu(){var t=!(Vr(Nr())||!mr()),e=Pr(),n=Or();this.v=t,this.i=e,this.l=n,this.a={},zu||(zu=new Gu),t=zu;try{this.g=!ar()&&Hr()||!s.indexedDB?new t.a.D:new Vu(br()?new Uu:new t.a.D)}catch(t){this.g=new Uu,this.i=!0}try{this.h=new t.a.ab}catch(t){this.h=new Uu}this.m=new Uu,this.f=b(this.Xb,this),this.b={}}function tc(){return $u||($u=new Zu),$u}function ec(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.D&&(t.b[n]=null),ec(t,e.D).T(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.D).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(ec(this,"local").ca(this.f),this.i||(ar()||!Hr())&&s.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},zt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var sc,ac={name:"authEvent",D:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(gc):gc),this.reset()}E(cc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,lc=[],pc=0;pc<fc;pc++)lc[pc]=0;var dc=J(128,lc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|sc[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.i):X(this.i)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){cc.call(this,8,bc)}E(mc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new uc,this.g=new oc(this.i),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new _("invalid-cordova-configuration",t)}function Ec(t){var e=new mc;yc(e,t),t=[];var n=8*e.g;56>e.c?yc(e,dc,56-e.c):yc(e,dc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function _c(t){return t.f||(t.f=t.la().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=jn(i),"firebaseError")||null))?A(o):null)?new Uo(r.c,r.b,null,null,o,null,r.S()):new Uo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Tc(t,i)}))}var n=new Uo("unknown",null,null,null,new _("no-auth-event")),r=!1,i=_n(500).then((function(){return Ac(t).then((function(){r||Tc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ho||(Ho=new qo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(ac,t.a).then((function(t){return Fo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,ac,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=tc()}(t=wc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?yr().then((function(){return new be((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new _("cordova-not-ready")}))},t.Nb=function(t,e){return e(new _("operation-not-supported-in-this-environment")),Se()},t.Lb=function(){return Ne(new _("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ne(new _("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,h=null;return this.c=Se().then((function(){return Vo(e),_c(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new _("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new _("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new _("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ec(o),h.sessionId=o;var f=gu(t.m,t.h,t.l,e,n,null,r,t.v,h,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(ac,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new _("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new _("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new _("invalid-cordova-configuration");e=Nr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=_n(2e3).then((function(){e(new _("redirect-cancelled-by-user"))})))},h=function(){qr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),_c(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new _("no-auth-event")),t(e))}))},t.Ra=function(t){W(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",D:"session"};function kc(t){return rc(t.b,Nc,t.a)}function Oc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=b(this.s,this),this.b=new Kc,this.A=new Jc,this.g=new Sc(Bc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Dc(this.O,this.m,this.v,S,this.G)}function Dc(t,e,n,r,i){var o=Pe.SDK_VERSION||null;return gr()?new wc(t,e,n,o,r,i):new pu(t,e,n,o,r,i)}function Cc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function xc(t){t.a.Wb()&&Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)})),t.a.Sb()||Gc(t.b)}function Pc(t,e){z(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){Cc(t).o((function(e){var n=new Uo("unknown",null,null,null,new _("operation-not-supported-in-this-environment"));Vc(e)&&t.s(n)}))})):xc(t)})).o((function(){xc(t)}))}function Rc(t,e){W(t.i,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Dc(this.O,this.m,this.v,null,this.G),this.h={}},Oc.prototype.s=function(t){if(!t)throw new _("invalid-auth-event");if(6e5<=I()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=I())),e=!0;break}}return Gc(this.b),e};var Lc=new Fr(2e3,1e4),Mc=new Fr(3e4,6e4);function jc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Vc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Uc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Vc(e))throw new _("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Fc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Lc.get())}Oc.prototype.qa=function(){return this.b.qa()};var qc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Hc(t,e,n,r){var i=Bc(e,n,r);return qc[i]||(qc[i]=new Oc(t,e,n,r)),qc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Gc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function zc(t){t.g&&!t.h&&Wc(t,!1,null,null)}function $c(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):$c(t,n):$c(t,{user:null}),t.f=[],t.c=[]}function Jc(){}function Xc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Yc(t,e){this.a=e,Wr(this,"verificationId",t)}function Qc(t,e,n,r){return new Lo(t).eb(e,n).then((function(t){return new Yc(t,r)}))}function Zc(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new _("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new _("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;B(e[eh]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Wc(t,a,e,null)})).o((function(e){Wc(t,a,null,e)}))}(this,t,e):Ne(new _("invalid-auth-event")):(Wc(this,!1,null,null),Se())}else Ne(new _("invalid-auth-event"))},Kc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new _("timeout");t.a&&t.a.cancel(),t.a=_n(Mc.get()).then((function(){t.b||(t.g=!0,Wc(t,!0,null,e))}))}(t))}))},Jc.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Ne(new _("invalid-auth-event"))}else Ne(new _("invalid-auth-event"))},Yc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){_.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Wr(this,"resolver",this.b)}function ih(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function sh(t){Wr(this,"factorId",t.fa),this.a=t}function ah(t){if(sh.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new _("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function fh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function lh(t,e){t.stop(),t.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return qr()||!t?Se():new be((function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){lh(t,!0)})).o((function(e){t.h(e)&&lh(t,!1)}))}function ph(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function dh(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Bi(e[Ys]||""),t.a=e.refreshToken,dh(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function yh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?sa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new _("internal-error")):r(new _("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.v.get()):r(new _("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,dh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gh(t,e){this.a=t||null,this.b=e||null,Jr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function mh(t,e,n,r,i,o){Jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Pe.SDK_VERSION?Sr(Pe.SDK_VERSION):null;this.a=new Js(this.l,D(S),r),t.emulatorConfig&&ra(this.a,t.emulatorConfig),this.b=new ph(this.a),Nh(this,e[Ys]),vh(this.b,e),Wr(this,"refreshToken",this.b.a),Dh(this,n||{}),bn.call(this),this.P=!1,this.s&&Dr()&&(this.h=Hc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new fh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=b(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){ra(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Eh(i,t.f)},this.aa=null,this.N=new ch(this,n),Wr(this,"multiFactor",this.N)}function wh(t,e){t.ba&&hn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&an(e,"languageCodeChanged",t.Ba)}function Ih(t,e){t.W&&hn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&an(e,"emulatorConfigChanged",t.za)}function Eh(t,e){t.X=e,oa(t.a,Pe.SDK_VERSION?Sr(Pe.SDK_VERSION,t.X):null)}function Th(t,e){t.aa&&hn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&an(e,"frameworkChanged",t.Aa)}function _h(t){try{return Pe.app(t.m).auth()}catch(e){throw new _("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ah(t){t.A||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.$),an(t,"tokenChanged",t.$))}function Sh(t){hn(t,"tokenChanged",t.$),t.u.stop()}function Nh(t,e){t.ya=e,Wr(t,"_lat",e)}function kh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function Oh(t){t.h&&!t.P&&(t.P=!0,Pc(t.h,t))}function Dh(t,e){Jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ch(){}function xh(t){return Se().then((function(){if(t.A)throw new _("app-deleted")}))}function Ph(t){return K(t.providerData,(function(t){return t.providerId}))}function Rh(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function jh(t,e){t!=e&&(Jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new gh),B(e.providerData,(function(e){Rh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),hh(t.N,e.N.b))}function Vh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Pa,{idToken:e}).then(b(t.Jc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Uh(t,e){e[Ys]&&t.ya!=e[Ys]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Nh(t,e[Ys]),Mh(t,"refreshToken",t.b.a))}function Fh(t,e){return Vh(t).then((function(){if(z(Ph(t),e))return kh(t).then((function(){throw new _("provider-already-linked")}))}))}function qh(t,e,n){return Xr({user:t,credential:jo(e),additionalUserInfo:e=Wi(e),operationType:n})}function Bh(t,e){return Uh(t,e),t.reload().then((function(){return t}))}function Hh(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=$i(n.providerId),s=jr(t.uid+":::"),a=null;(!Pr()||mr())&&t.s&&n.isOAuthProvider&&(a=gu(t.s,t.l,t.m,e,n,null,s,Pe.SDK_VERSION||null,null,null,t.tenantId));var u=pr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.h,u,e,n,s,!!a,t.tenantId)})).then((function(){return new be((function(n,r){t.ma(e,null,new _("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=s,t.c=Fc(t.h,t,e,u,s)}))})).then((function(t){return u&&lr(u),t?Xr(t):null})).o((function(t){throw u&&lr(u),t})),zh(t,r,i)}function Kh(t,e,n,r,i){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ne(t.f);var o=null,s=jr(t.uid+":::");return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,kh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jh,t.w(),e.a)),e})).then((function(){return Uc(t.h,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xh(t.ha);throw o})).then((function(){if(o)throw o})),zh(t,r,i)}function Gh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new _("internal-error");throw new _("auth-domain-config-required")}}function zh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ne(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new uh("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){$(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),_h(t),b(t.ic,t))),n||e}))}function $h(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bh(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Rh(i,Xr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wh(t){this.a=t,this.b=tc()}th.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[eh],delete n[nh],vt(n,t),e.g(n)}))},E(rh,_),oh.prototype.rb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),nu(e,Ca,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),nu(e,xa,n)}))}(this,t,e)},E(sh,oh),E(ah,sh),E(uh,We),(t=ch.prototype).xc=function(t){hh(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Uh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return hh(e,r),Uh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},fh.prototype.start=function(){this.a=this.c,lh(this,!0)},fh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ph.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ph.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new _("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?yh(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(bh,bn),bh.prototype.wa=function(t){this.pa=t,na(this.a,t)},bh.prototype.ka=function(){return this.pa},bh.prototype.Ga=function(){return X(this.X)},bh.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(bh.prototype,"providerId","firebase"),(t=bh.prototype).reload=function(){var t=this;return zh(this,xh(this).then((function(){return Vh(t).then((function(){return kh(t)})).then(Ch)})))},t.nc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return zh(this,xh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new _("internal-error");return t.accessToken!=e.ya&&(Nh(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new _("internal-error");Dh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new mh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Rh(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{gd:t}))},t.Kc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return zh(this,t.c(this.a,this.uid).then((function(t){return Uh(e,t),n=qh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return zh(this,Fh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=qh(e,t,"link"),Bh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return zh(this,Fh(this,"phone").then((function(){return Qc(_h(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return zh(this,Se().then((function(){return Qc(_h(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.dd=function(t){var e=this;return zh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Uh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return zh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Uh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xh(this);var e=this;return zh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Uh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),kh(e)})).then(Ch))},t.bd=function(t){var e=this;return zh(this,Vh(this).then((function(n){return z(Ph(e),t)?function(t,e,n){return nu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Ph(e),(function(t){n[t]||Lh(e,t)})),n[Lo.PROVIDER_ID]||Wr(e,"phoneNumber",null),kh(e)})):kh(e).then((function(){throw new _("no-such-provider")}))})))},t.delete=function(){var t=this;return zh(this,this.I().then((function(e){return nu(t.a,Na,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wh(t,null),Ih(t,null),Th(t,null),t.G=[],t.A=!0,Sh(t),Wr(t,"refreshToken",null),t.h&&Rc(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return Hh(this,"linkViaPopup",t,(function(){return Fh(e,t.providerId).then((function(){return kh(e)}))}),!1)},t.Mc=function(t){return Hh(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Ec=function(t){var e=this;return Kh(this,"linkViaRedirect",t,(function(){return Fh(e,t.providerId)}),!1)},t.Nc=function(t){return Kh(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,this.I().then((function(n){return wa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=qh(i,t,"link"),Bh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return zh(this,Se().then((function(){return uo(Ia(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=qh(i,t,"reauthenticate"),Uh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return zh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Vi(new ki(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return zh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return zh(this,t=uo(Se(t),n.uid).then((function(t){return e=qh(n,t,"reauthenticate"),Uh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.N.w()),t};var Jh={name:"redirectUser",D:"session"};function Xh(t){return rc(t.b,Jh,t.a)}function Yh(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=tf("local"),n=tf("session"),r=tf("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tf(t):e}))}))}))})).then((function(e){return t.c=e,Qh(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tf("local"),this.a,b(this.g,this))}function Qh(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(rc(t.b,tf(Qu[n]),t.a));return r.push(rc(t.b,Zh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],w(o,a),s);else e(i)}))}(r)}Yh.prototype.g=function(){var t=this,e=tf("local");of(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Qh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",D:"session"};function tf(t){return{name:"authUser",D:t}}function ef(t,e){return of(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nf(t){return of(t,(function(){return rc(t.b,t.c,t.a)}))}function rf(t,e,n){return of(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),$h(t||{})}))}))}function of(t,e){return t.f=t.f.then(e,e),t.f}function sf(t){if(this.m=!1,Wr(this,"settings",new Xc),Wr(this,"app",t),!vf(this).options||!vf(this).options.apiKey)throw new _("invalid-api-key");t=Pe.SDK_VERSION?Sr(Pe.SDK_VERSION):null,this.a=new Js(vf(this).options&&vf(this).options.apiKey,D(S),t),this.R=[],this.u=[],this.P=[],this.ac=Pe.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=Pe.INTERNAL.createSubscribe(b(this.zc,this)),pf(this,null),this.l=new Yh(vf(this).options.apiKey+":"+vf(this).name),this.G=new Wh(vf(this).options.apiKey+":"+vf(this).name),this.$=bf(this,function(t){var e=vf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jh,t.a).then((function(t){return t&&e&&(t.authDomain=e),$h(t||{})}))}(t.G,vf(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Xh(t.G)}));return bf(t,e)}(t).then((function(){return rf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ef(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nf(t.l)}))):null})).then((function(e){pf(t,e||null)}));return bf(t,n)}(this)),this.h=bf(this,function(t){return t.$.then((function(){return ff(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(tf("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,function(t){var e=vf(t).options.authDomain,n=vf(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Hc(e,n,vf(t).name,t.f),Pc(t.b,t),yf(t)&&Oh(yf(t)),t.s){Oh(t.s);var r=t.s;r.wa(t.ka()),wh(r,t),Eh(r=t.s,t.N),Th(r,t),ra((r=t.s).a,t.f),Ih(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function af(t){We.call(this,"languageCodeChanged"),this.i=t}function uf(t){We.call(this,"emulatorConfigChanged"),this.c=t}function cf(t){We.call(this,"frameworkChanged"),this.f=t}function hf(t){return t.gb||Ne(new _("auth-domain-config-required"))}function ff(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=hf(t).then((function(){return t.b.qa()})).then((function(t){return t?Xr(t):null}));return bf(t,e)}function lf(t,e){var n={};return n.apiKey=vf(t).options.apiKey,n.authDomain=vf(t).options.authDomain,n.appName=vf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Eh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return yf(t)&&e.uid==yf(t).uid?(jh(yf(t),e),t.da(e)):(pf(t,e),Oh(e),t.da(e))})).then((function(){mf(t)}))}function pf(t,e){yf(t)&&(function(t,e){W(t.R,(function(t){return t==e}))}(yf(t),t.Ba),hn(yf(t),"tokenChanged",t.ya),hn(yf(t),"userDeleted",t.za),hn(yf(t),"userInvalidated",t.Aa),Sh(yf(t))),e&&(e.R.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.A&&Ah(e)),Wr(t,"currentUser",e),e&&(e.wa(t.ka()),wh(e,t),Eh(e,t.N),Th(e,t),ra(e.a,t.f),Ih(e,t))}function df(t,e){var n=null,r=null;return bf(t,e.then((function(e){return n=jo(e),r=Wi(e),lf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Xr({user:yf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vf(t){return t.app}function yf(t){return t.currentUser}function gf(t){return yf(t)&&yf(t)._lat||null}function mf(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](gf(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](gf(t))}}function bf(t,e){return t.R.push(e),e.na((function(){$(t.R,e)})),e}function wf(){}function If(){this.a={},this.b=1e12}Yh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new _("invalid-persistence-type"),n=new _("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),of(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Qh(n,t)})).then((function(){if(n.c=tf(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},E(sf,bn),E(af,We),E(uf,We),E(cf,We),(t=sf.prototype).wb=function(t){return bf(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,na(this.a,this.aa),this.dispatchEvent(new af(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new _("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&yr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,ra(this.a,this.f),this.dispatchEvent(new uf(this.f))}},t.Fc=function(t){this.N.push(t),oa(this.a,Pe.SDK_VERSION?Sr(Pe.SDK_VERSION,this.N):null),this.dispatchEvent(new cf(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:vf(this).options.apiKey,authDomain:vf(this).options.authDomain,appName:vf(this).name,currentUser:yf(this)&&yf(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return df(i,ba(i.a,o))}))},t.Wc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),r=jr(),i=null;(!Pr()||mr())&&vf(this).options.authDomain&&t.isOAuthProvider&&(i=gu(vf(this).options.authDomain,vf(this).options.apiKey,vf(this).name,"signInViaPopup",t,null,r,Pe.SDK_VERSION||null,null,null,this.S(),this.f));var o=pr(i,n&&n.ua,n&&n.ta);return bf(this,n=hf(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new be((function(t,n){e.ma("signInViaPopup",null,new _("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Fc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&lr(o),t?Xr(t):null})).o((function(t){throw o&&lr(o),t})))},t.Xc=function(t){if(!Dr())return Ne(new _("operation-not-supported-in-this-environment"));var e=this;return bf(this,hf(this).then((function(){return function(t){return of(t,(function(){return t.b.set(Zh,t.c.D,t.a)}))}(e.l)})).then((function(){return Uc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return ff(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},t.cd=function(t){if(!t)return Ne(new _("null-user"));if(this.W!=t.tenantId)return Ne(new _("tenant-id-mismatch"));var e=this,n={};n.apiKey=vf(this).options.apiKey,n.authDomain=vf(this).options.authDomain,n.appName=vf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Eh(e,r),jh(e,t),e}(t,n,e.G,e.Ga());return bf(this,this.h.then((function(){if(vf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return yf(e)&&t.uid==yf(e).uid?(jh(yf(e),t),e.da(t)):(pf(e,r),Oh(r),e.da(r))})).then((function(){mf(e)})))},t.zb=function(){var t=this;return bf(this,this.h.then((function(){return t.b&&zc(t.b.b),yf(t)?(pf(t,null),nf(t.l).then((function(){mf(t)}))):Se()})))},t.Yc=function(){var t=this;return rf(this.l,vf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=yf(t)&&e){n=yf(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jh(yf(t),e),yf(t).I();(yf(t)||e)&&(pf(t,e),e&&(Oh(e),e.ha=t.G),t.b&&Pc(t.b,t),mf(t))}}))},t.da=function(t){return ef(this.l,t)},t.kc=function(){mf(this),this.da(yf(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return df(e,Se(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(yf(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),bf(t,t.h.then((function(){!t.m&&z(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gf(t)))})))}(this,(function(){t.next(yf(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(yf(r)):"function"==typeof t.next&&t.next(yf(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(yf(r)):"function"==typeof t.next&&t.next(yf(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return bf(this,this.h.then((function(){return yf(e)?yf(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return df(e,nu(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return df(n,nu(n.a,Ya,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return df(n,nu(n.a,Aa,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return df(e,t.ja(e.a))}))},t.Rc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=yf(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return df(t,t.a.yb()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return yf(this)&&yf(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&yf(this)&&Ah(yf(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&yf(this)&&Sh(yf(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),bf(this,this.h.then((function(){e.m||z(e.u,t)&&t(gf(e))})))},t.removeAuthTokenListener=function(t){W(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(tf("local"),t.a,this.pa),this.b&&(Rc(this.b,this),zc(this.b.b)),Promise.resolve()},t.gc=function(t){return bf(this,function(t,e){return nu(t,Sa,{identifier:e,continueUri:Cr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Co(t)},t.vb=function(t,e){var n=this;return bf(this,Se().then((function(){var t=new ki(e);if(!t.c)throw new _("argument-error",Ci+" must be true when sending sign in link to email");return Vi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return bf(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return bf(this,this.a.Qa(t).then((function(t){return new oi(t)})))},t.ib=function(t){return bf(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return bf(this,Se().then((function(){return void 0===e||lt(e)?{}:Vi(new ki(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return bf(this,Qc(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return bf(this,Se().then((function(){var r=e||ur(),i=Do(t,r);if(!(r=Co(r)))throw new _("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new _("tenant-id-mismatch");return n.Za(i)})))},wf.prototype.render=function(){},wf.prototype.reset=function(){},wf.prototype.getResponse=function(){},wf.prototype.execute=function(){};var Ef=null;function Tf(t,e){return(e=_f(e))&&t.a[e]||null}function _f(t){return(t=void 0===t?1e12:t)?t.toString():null}function Af(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=ae(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():an(this.f,"click",this.h)}function Sf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nf(){}function kf(){}If.prototype.render=function(t,e){return this.a[this.b.toString()]=new Af(t,e),this.b++},If.prototype.reset=function(t){var e=Tf(this,t);t=_f(t),e&&t&&(e.delete(),delete this.a[t])},If.prototype.getResponse=function(t){return(t=Tf(this,t))?t.getResponse():null},If.prototype.execute=function(t){(t=Tf(this,t))&&t.execute()},Af.prototype.getResponse=function(){return Sf(this),this.b},Af.prototype.execute=function(){Sf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.i&&t.execute()}),6e4)}),500))},Af.prototype.delete=function(){Sf(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.h)},Wr(Nf,"FACTOR_ID","phone"),kf.prototype.g=function(){return Ef||(Ef=new If),Se(Ef)},kf.prototype.c=function(){};var Of=null;function Df(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Cf=new gt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xf=new Fr(3e4,6e4);Df.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new _("network-request-failed"))}),xf.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new _("internal-error"));delete s[e.a]},Se(Bs(At(Cf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new _("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Df.prototype.c=function(){this.b--};var Pf=null;function Rf(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Of||(Of=new kf),a=Of):(Pf||(Pf=new Df),a=Pf),this.v=a,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[jf])throw new _("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Vf],!s.document)throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.h&&ae(e).hasChildNodes())throw new _("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Js(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lf];this.a[Lf]=function(t){if(Uf(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var h=this.a[Mf];this.a[Mf]=function(){if(Uf(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=kr(h,s);"function"==typeof t&&t()}}}var Lf="callback",Mf="expired-callback",jf="sitekey",Vf="size";function Uf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ff(t,e){return t.i.push(e),e.na((function(){$(t.i,e)})),e}function qf(t){if(t.A)throw new _("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bf(t,e,n){var r=!1;try{this.b=n||Pe.app()}catch(t){throw new _("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new _("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Pe.SDK_VERSION?Sr(Pe.SDK_VERSION,o):null,Rf.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,D(S),r)}function Hf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new _("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Kf.length)throw new _("internal-error","Argument validator received an unsupported number of arguments.");n=Kf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new _("argument-error",t+" failed: "+r)}(t=Rf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ff(this,Se().then((function(){if(Cr()&&!br())return yr();throw new _("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Ua,{})})).then((function(e){t.a[jf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qf(this);var t=this;return Ff(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qf(this);var t=this;return Ff(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){qf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qf(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=ae(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Bf,Rf);var Kf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function zf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function $f(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Wf(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Jf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Xf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Yf(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Qf(t){return d(t)&&"string"==typeof t.uid}function Zf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function tl(t,e){for(var n in e){var r=e[n].name;t[r]=rl(r,t[n],e[n].j)}}function el(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Hf(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function nl(t,e,n,r){t[e]=rl(e,n,r)}function rl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Hf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tl(sf.prototype,{ib:{name:"applyActionCode",j:[Gf("code")]},Qa:{name:"checkActionCode",j:[Gf("code")]},mb:{name:"confirmPasswordReset",j:[Gf("code"),Gf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Gf("email"),Gf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Gf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Gf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Zf($f(),Wf(),"nextOrObserver"),Wf("opt_error",!0),Wf("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Zf($f(),Wf(),"nextOrObserver"),Wf("opt_error",!0),Wf("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Gf("email"),Zf($f("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Gf("email"),$f("actionCodeSettings")]},wb:{name:"setPersistence",j:[Gf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Xf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Xf()]},Sc:{name:"signInWithCustomToken",j:[Gf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Gf("email"),Gf("password")]},Uc:{name:"signInWithEmailLink",j:[Gf("email"),Gf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Zf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof bh)}},Jf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Gf("url"),$f("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Gf("code")]}}),el(sf.prototype,{lc:{name:"languageCode",jb:Zf(Gf(),Jf(),"languageCode")},ti:{name:"tenantId",jb:Zf(Gf(),Jf(),"tenantId")}}),sf.Persistence=Qu,sf.Persistence.LOCAL="local",sf.Persistence.SESSION="session",sf.Persistence.NONE="none",tl(bh.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[zf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zf("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Xf()]},pb:{name:"linkWithCredential",j:[Xf()]},Cc:{name:"linkWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xf()]},sb:{name:"reauthenticateWithCredential",j:[Xf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Gf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Zf($f("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gf(null,!0)]},bd:{name:"unlink",j:[Gf("provider")]},Ab:{name:"updateEmail",j:[Gf("email")]},Bb:{name:"updatePassword",j:[Gf("password")]},dd:{name:"updatePhoneNumber",j:[Xf("phone")]},Cb:{name:"updateProfile",j:[$f("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Gf("email"),Zf($f("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]}}),tl(If.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tl(wf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tl(be.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),el(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:zf("appVerificationDisabledForTesting")}}),tl(Yc.prototype,{confirm:{name:"confirm",j:[Gf("verificationCode")]}}),nl(ao,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,ko,Po,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zf(Gf(),$f(),"json")]),nl(Oo,"credential",(function(t,e){return new No(t,e)}),[Gf("email"),Gf("password")]),tl(No.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),tl(bo.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),nl(bo,"credential",wo,[Zf(Gf(),$f(),"token")]),nl(Oo,"credentialWithLink",Do,[Gf("email"),Gf("emailLink")]),tl(Io.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),nl(Io,"credential",Eo,[Zf(Gf(),$f(),"token")]),tl(To.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),nl(To,"credential",_o,[Zf(Gf(),Zf($f(),Jf()),"idToken"),Zf(Gf(),Jf(),"accessToken",!0)]),tl(Ao.prototype,{Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),nl(Ao,"credential",So,[Zf(Gf(),$f(),"token"),Gf("secret",!0)]),tl(mo.prototype,{Ca:{name:"addScope",j:[Gf("scope")]},credential:{name:"credential",j:[Zf(Gf(),Zf($f(),Jf()),"optionsOrIdToken"),Zf(Gf(),Jf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$f("customOAuthParameters")]}}),tl(lo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),tl(co.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),nl(Lo,"credential",Mo,[Gf("verificationId"),Gf("verificationCode")]),tl(Lo.prototype,{eb:{name:"verifyPhoneNumber",j:[Zf(Gf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Yf(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yf(t.session,so)&&Qf(t.multiFactorHint):t.session&&t.multiFactorUid?Yf(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tl(xo.prototype,{w:{name:"toJSON",j:[Gf(null,!0)]}}),tl(_.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),tl(Go.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),tl(Ko.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),tl(rh.prototype,{toJSON:{name:"toJSON",j:[Gf(null,!0)]}}),tl(th.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),tl(ch.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Gf("displayName",!0)]},ad:{name:"unenroll",j:[Zf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Qf},Gf(),"multiFactorInfoIdentifier")]}}),tl(Bf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nl(bi,"parseLink",Ni,[Gf("link")]),nl(Nf,"assertion",(function(t){return new ah(t)}),[Xf("phone")]),function(){if(void 0===Pe||!Pe.INTERNAL||!Pe.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sf,AuthCredential:ao,Error:_};nl(t,"EmailAuthProvider",Oo,[]),nl(t,"FacebookAuthProvider",bo,[]),nl(t,"GithubAuthProvider",Io,[]),nl(t,"GoogleAuthProvider",To,[]),nl(t,"TwitterAuthProvider",Ao,[]),nl(t,"OAuthProvider",mo,[Gf("providerId")]),nl(t,"SAMLAuthProvider",go,[Gf("providerId")]),nl(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof sf)}}]),nl(t,"RecaptchaVerifier",Bf,[Zf(Gf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$f("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Pe.app.App)}}]),nl(t,"ActionCodeURL",bi,[]),nl(t,"PhoneMultiFactorGenerator",Nf,[]),Pe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sf(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Pe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Pe.registerVersion("@firebase/auth","0.16.1"),Pe.INTERNAL.extendNamespace({User:bh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ty=function(){return(ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ey(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ny(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function ry(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function iy(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var oy,sy=function(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}((function(t,e){!function(t){function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function f(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function y(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),s(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(f,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(l,"_tx",["objectStoreNames","mode"]),a(l,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[f,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=y,Object.defineProperty(t,"__esModule",{value:!0})}(e)})),ay="0.4.19",uy=1e4,cy="w:0.4.19",hy="FIS_v2",fy=36e5,ly=((oy={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',oy["not-registered"]="Firebase Installation is not registered.",oy["installation-not-found"]="Firebase Installation not found.",oy["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',oy["app-offline"]="Could not process request. Application offline.",oy["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",oy),py=new zt("installations","Installations",ly);function dy(t){return t instanceof Gt&&t.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vy(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function yy(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function gy(t,e){return ey(this,void 0,void 0,(function(){var n,r;return ny(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,py.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function my(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function by(t,e){var n=e.refreshToken,r=my(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)),r}function wy(t){return ey(this,void 0,void 0,(function(){var e;return ny(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Iy(t,e){var n=e.fid;return ey(this,void 0,void 0,(function(){var e,r,i,o,s,a;return ny(this,(function(u){switch(u.label){case 0:return e=vy(t),r=my(t),i={fid:n,authVersion:hy,appId:t.appId,sdkVersion:cy},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,wy((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:yy(a.authToken)}];case 3:return[4,gy("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ey(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ty(t){return btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(iy(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _y=/^[cdef][\w-]{21}$/;function Ay(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return Ty(t).substr(0,22)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t);return _y.test(e)?e:""}catch(t){return""}}function Sy(t){return t.appName+"!"+t.appId}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ny=new Map;function ky(t,e){var n=Sy(t);Oy(n,e),function(t,e){var n=Cy();n&&n.postMessage({key:t,fid:e});xy()}(n,e)}function Oy(t,e){var n,r,i=Ny.get(t);if(i)try{for(var o=ry(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Dy=null;function Cy(){return!Dy&&"BroadcastChannel"in self&&((Dy=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Oy(t.data.key,t.data.fid)}),Dy}function xy(){0===Ny.size&&Dy&&(Dy.close(),Dy=null)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Py="firebase-installations-store",Ry=null;function Ly(){return Ry||(Ry=sy.openDb("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Py)}}))),Ry}function My(t,e){return ey(this,void 0,void 0,(function(){var n,r,i,o,s;return ny(this,(function(a){switch(a.label){case 0:return n=Sy(t),[4,Ly()];case 1:return r=a.sent(),i=r.transaction(Py,"readwrite"),[4,(o=i.objectStore(Py)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||ky(t,e.fid),[2,e]}}))}))}function jy(t){return ey(this,void 0,void 0,(function(){var e,n,r;return ny(this,(function(i){switch(i.label){case 0:return e=Sy(t),[4,Ly()];case 1:return n=i.sent(),[4,(r=n.transaction(Py,"readwrite")).objectStore(Py).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Vy(t,e){return ey(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ny(this,(function(u){switch(u.label){case 0:return n=Sy(t),[4,Ly()];case 1:return r=u.sent(),i=r.transaction(Py,"readwrite"),[4,(o=i.objectStore(Py)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||ky(t,a.fid),[2,a]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Uy(t){return ey(this,void 0,void 0,(function(){var e,n,r;return ny(this,(function(i){switch(i.label){case 0:return[4,Vy(t,(function(n){var r=function(t){return By(t||{fid:Ay(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(py.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return ey(this,void 0,void 0,(function(){var n,r;return ny(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Iy(t,e)];case 1:return n=i.sent(),[2,My(t,n)];case 2:return dy(r=i.sent())&&409===r.customData.serverCode?[4,jy(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,My(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fy(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Fy(t){return ey(this,void 0,void 0,(function(){var e,n,r,i;return ny(this,(function(o){switch(o.label){case 0:return[4,qy(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Ey(100)];case 3:return o.sent(),[4,qy(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Uy(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function qy(t){return Vy(t,(function(t){if(!t)throw py.create("installation-not-found");return By(t)}))}function By(t){return 1===(e=t).registrationStatus&&e.registrationTime+uy<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function Hy(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return ey(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return ny(this,(function(h){switch(h.label){case 0:return t=function(t,e){var n=e.fid;return vy(t)+"/"+n+"/authTokens:generate"}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,e),i=by(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:cy}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,wy((function(){return fetch(t,a)}))];case 1:return(u=h.sent()).ok?[4,u.json()]:[3,3];case 2:return c=h.sent(),[2,yy(c)];case 3:return[4,gy("Generate Auth Token",u)];case 4:throw h.sent()}}))}))}function Ky(t,e){return void 0===e&&(e=!1),ey(this,void 0,void 0,(function(){var n,r,i;return ny(this,(function(o){switch(o.label){case 0:return[4,Vy(t.appConfig,(function(r){if(!zy(r))throw py.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fy}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return ey(this,void 0,void 0,(function(){var n,r;return ny(this,(function(i){switch(i.label){case 0:return[4,Gy(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Ey(100)];case 3:return i.sent(),[4,Gy(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Ky(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw py.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return ty(ty({},t),{authToken:e})}(r);return n=function(t,e){return ey(this,void 0,void 0,(function(){var n,r,i;return ny(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Hy(t,e)];case 1:return n=o.sent(),i=ty(ty({},e),{authToken:n}),[4,My(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!dy(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,jy(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=ty(ty({},e),{authToken:{requestStatus:0}}),[4,My(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Gy(t){return Vy(t,(function(t){if(!zy(t))throw py.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+uy<Date.now()?ty(ty({},t),{authToken:{requestStatus:0}}):t}))}function zy(t){return void 0!==t&&2===t.registrationStatus}function $y(t){return ey(this,void 0,void 0,(function(){var e;return ny(this,(function(n){switch(n.label){case 0:return[4,Uy(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wy(t,e){return ey(this,void 0,void 0,(function(){var n,r,i,o;return ny(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return vy(t)+"/"+n}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e),r=by(t,e),i={method:"DELETE",headers:r},[4,wy((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,gy("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Jy(t,e){var n=t.appConfig;return function(t,e){Cy();var n=Sy(t),r=Ny.get(n);r||(r=new Set,Ny.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Sy(t),r=Ny.get(n);r&&(r.delete(e),0===r.size&&Ny.delete(n),xy())}(n,e)}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xy(t){return py.create("missing-app-config-values",{valueName:t})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t.INTERNAL.registerComponent(new oe("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Xy("App Configuration");if(!t.name)throw Xy("App Name");try{for(var r=ry(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Xy(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return function(t){return ey(this,void 0,void 0,(function(){var e,n,r;return ny(this,(function(i){switch(i.label){case 0:return[4,Uy(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Ky(t).catch(console.error),[2,n.fid]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),ey(this,void 0,void 0,(function(){return ny(this,(function(n){switch(n.label){case 0:return[4,$y(t.appConfig)];case 1:return n.sent(),[4,Ky(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return ey(this,void 0,void 0,(function(){var e,n;return ny(this,(function(r){switch(r.label){case 0:return[4,Vy(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw py.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw py.create("app-offline");case 3:return[4,Wy(e,n)];case 4:return r.sent(),[4,jy(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return Jy(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations",ay)}(Pe);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Yy=function(){return(Yy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Qy(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Zy,tg,eg,ng="0.4.5",rg=ng,ig="FB-PERF-TRACE-MEASURE",og="_wt_",sg="_fcp",ag="_fid",ug="@firebase/performance/config",cg="@firebase/performance/configexpire",hg="Performance",fg=((Zy={})["trace started"]="Trace {$traceName} was started before.",Zy["trace stopped"]="Trace {$traceName} is not running.",Zy["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Zy["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Zy["no window"]="Window is not available.",Zy["no app id"]="App id is not available.",Zy["no project id"]="Project id is not available.",Zy["no api key"]="Api key is not available.",Zy["invalid cc log"]="Attempted to queue invalid cc event",Zy["FB not default"]="Performance can only start when Firebase app instance is the default one.",Zy["RC response not ok"]="RC response is not ok",Zy["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Zy["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Zy["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Zy["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Zy),lg=new zt("performance",hg,fg),pg=new me(hg);pg.logLevel=fe.INFO;var dg,vg=function(){function t(t){if(this.window=t,!t)throw lg.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Bt()||(pg.info("IndexedDB is not supported by current browswer"),!1):(pg.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===tg&&(tg=new t(eg)),tg},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function yg(t,e){var n=t.length-e.length;if(n<0||n>1)throw lg.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var gg,mg,bg=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=yg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=yg("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw lg.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw lg.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw lg.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===dg&&(dg=new t),dg},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wg(){return gg}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(mg||(mg={}));var Ig=["firebase_","google_","ga_"],Eg=new RegExp("^[a-zA-Z]\\w*$");function Tg(){var t=vg.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function _g(){switch(vg.getInstance().document.visibilityState){case"visible":return mg.VISIBLE;case"hidden":return mg.HIDDEN;default:return mg.UNKNOWN}}function Ag(){var t=vg.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Sg="0.0.1",Ng=!0,kg="FIREBASE_INSTALLATIONS_AUTH";function Og(t){var e=function(){var t=vg.getInstance().localStorage;if(!t)return;var e=t.getItem(cg);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(ug);if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(Cg(e),Promise.resolve()):function(t){return(e=bg.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+bg.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+bg.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:kg+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:bg.getInstance().getAppId(),app_version:rg,sdk_version:Sg})});return fetch(r).then((function(t){if(t.ok)return t.json();throw lg.create("RC response not ok")}))})).catch((function(){pg.info(Dg)}));var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}(t).then(Cg).then((function(t){return function(t){var e=vg.getInstance().localStorage;if(!t||!e)return;e.setItem(ug,JSON.stringify(t)),e.setItem(cg,String(Date.now()+60*bg.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var Dg="Could not fetch config, will use default configs";function Cg(t){if(!t)return t;var e=bg.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=Ng,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=xg(e.tracesSamplingRate),e.logNetworkAfterSampling=xg(e.networkRequestsSamplingRate),t}function xg(t){return Math.random()<=t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pg,Rg=1;function Lg(){return Rg=2,Pg=Pg||function(){var t=vg.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=bg.getInstance().installationsService.getId()).then((function(t){gg=t})),t;var t})).then((function(t){return Og(t)})).then((function(){return Mg()}),(function(){return Mg()}))}function Mg(){Rg=3}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jg,Vg=1e4,Ug=3,Fg=[],qg=!1;function Bg(t){setTimeout((function(){var t,e;if(0!==Ug)return Fg.length?(t=Fg.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(t,e){return function(t){var e=bg.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||pg.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=Vg;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Fg=Qy(e,Fg),pg.info("Retry transport request later.")),Ug=3,Bg(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:bg.getInstance().logSource,log_event:e},t).catch((function(){Fg=Qy(t,Fg),Ug--,pg.info("Tries left: "+Ug+"."),Bg(Vg)}))):Bg(Vg)}),t)}function Hg(t){if(!t.eventTime||!t.message)throw lg.create("invalid cc log");Fg=Qy(Fg,[t])}function Kg(t,e){jg||(jg=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Hg({message:t.apply(void 0,e),eventTime:Date.now()})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */($g)),jg(t,e)}function Gg(t){var e=bg.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&vg.getInstance().requiredApisAvailable()&&(t.isAuto&&_g()!==mg.VISIBLE||(3===Rg?zg(t):Lg().then((function(){return zg(t)}),(function(){return zg(t)}))))}function zg(t){if(wg()){var e=bg.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Kg(t,1)}),0)}}function $g(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Wg(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Wg(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Wg(){return{google_app_id:bg.getInstance().getAppId(),app_instance_id:wg(),web_app_info:{sdk_version:rg,page_url:vg.getInstance().getUrl(),service_worker_status:Tg(),visibility_state:_g(),effective_connection_type:Ag()},application_process_state:0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jg=["_fp",sg,ag];
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xg=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=vg.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw lg.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw lg.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Gg(this)},t.prototype.record=function(t,e,n){if(t<=0)throw lg.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw lg.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Yy({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Gg(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith(og)&&Jg.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw lg.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&pg.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||Ig.some((function(e){return t.startsWith(e)}))||!t.match(Eg))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw lg.create("invalid attribute name",{attributeName:t});if(!r)throw lg.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Yy({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=vg.getInstance().getUrl();if(i){var o=new t(og+i,!0),s=Math.floor(1e3*vg.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric(sg,Math.floor(1e3*u.startTime)),r&&o.putMetric(ag,Math.floor(1e3*r))}Gg(o)}},t.createUserTimingTrace=function(e){Gg(new t(e,!1,e))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Yg(t){var e=t;if(e&&void 0!==e.responseStart){var n=vg.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=bg.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Kg(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Qg(){wg()&&(setTimeout((function(){return function(){var t=vg.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Xg.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Xg.createOobTrace(e,n,t))}))}else Xg.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=vg.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Yg(r[n])}t.setupObserver("resource",Yg)}()}),0),setTimeout((function(){return function(){for(var t=vg.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Zg(r[n])}t.setupObserver("measure",Zg)}()}),0))}function Zg(t){var e=t.name;e.substring(0,ig.length)!==ig&&Xg.createUserTimingTrace(e)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tm=function(){function t(t){this.app=t,vg.getInstance().requiredApisAvailable()&&Ht().then((function(t){t&&(qg||(Bg(5500),qg=!0),Lg().then(Qg,Qg))})).catch((function(t){pg.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Xg(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return bg.getInstance().instrumentationEnabled},set:function(t){bg.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return bg.getInstance().dataCollectionEnabled},set:function(t){bg.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw lg.create("FB not default");if("undefined"==typeof window)throw lg.create("no window");return function(t){eg=t}(window),bg.getInstance().firebaseAppInstance=t,bg.getInstance().installationsService=e,new tm(t)};t.INTERNAL.registerComponent(new oe("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",ng)}(Pe);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var em=function(){return(em=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function nm(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function rm(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var im,om,sm="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(im||(im={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(om||(om={}));
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var am,um=new me("@firebase/analytics");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function cm(t,e,n,r,i,o){return nm(this,void 0,void 0,(function(){var s,a,u,c;return rm(this,(function(h){switch(h.label){case 0:s=r[i],h.label=1;case 1:return h.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return h.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=h.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:h.sent(),h.label=6;case 6:return[3,8];case 7:return c=h.sent(),um.error(c),[3,8];case 8:return t(im.CONFIG,i,o),[2]}}))}))}function hm(t,e,n,r,i){return nm(this,void 0,void 0,(function(){var o,s,a,u,c,h,f,l;return rm(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=p.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,h=s;c<h.length&&(f=h[c],"break"!==u(f));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(im.EVENT,r,i||{}),[3,5];case 4:return l=p.sent(),um.error(l),[3,5];case 5:return[2]}}))}))}function fm(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return nm(this,void 0,void 0,(function(){var a;return rm(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==im.EVENT?[3,2]:[4,hm(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==im.CONFIG?[3,4]:[4,cm(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(im.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),um.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var lm=((am={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",am["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",am["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",am["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",am["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",am["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",am["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",am["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',am["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',am),pm=new zt("analytics","Analytics",lm),dm=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function vm(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ym(t){var e;return nm(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return rm(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:vm(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw pm.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function gm(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=dm),nm(this,void 0,void 0,(function(){var e,s,a,u,c,h,f;return rm(this,(function(l){switch(l.label){case 0:e=t.appId,s=t.measurementId,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,mm(n,i)];case 2:return l.sent(),[3,4];case 3:if(a=l.sent(),s)return um.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return l.trys.push([4,6,,7]),[4,ym(t)];case 5:return u=l.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Gt&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=l.sent())){if(r.deleteThrottleMetadata(e),s)return um.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return h=503===Number(c.customData.httpStatus)?Zt(o,r.intervalMillis,30):Zt(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(e,f),um.debug("Calling attemptFetch again in "+h+" millis"),[2,gm(t,f,n,r)];case 7:return[2]}}))}))}function mm(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(pm.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var bm=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wm(t,e,n,r,i){return nm(this,void 0,void 0,(function(){var o,s,a,u,c,h,f;return rm(this,(function(l){switch(l.label){case 0:return(o=function(t,e,n){return void 0===e&&(e=dm),nm(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return rm(this,(function(h){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw pm.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw pm.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new bm,setTimeout((function(){return nm(c,void 0,void 0,(function(){return rm(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,gm({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&um.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return um.error(t)})),e.push(o),s=function(){return nm(this,void 0,void 0,(function(){var t;return rm(this,(function(e){switch(e.label){case 0:return Bt()?[3,1]:(um.warn(pm.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Ht()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),um.warn(pm.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([o,s])];case 1:return a=l.sent(),u=a[0],c=a[1],i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=c&&(h.firebase_id=c),i(im.CONFIG,u.measurementId,h),[2,u.measurementId]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Im,Em,Tm={},_m=[],Am={},Sm="dataLayer",Nm="gtag",km=!1;function Om(t){if(km)throw pm.create("already-initialized");t.dataLayerName&&(Sm=t.dataLayerName),t.gtagName&&(Nm=t.gtagName)}function Dm(t,e){!function(){var t=[];if(qt()&&t.push("This is a browser extension environment."),Kt()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=pm.create("invalid-analytics-context",{errorInfo:e});um.warn(n.message)}}();var n=t.options.appId;if(!n)throw pm.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw pm.create("no-api-key");um.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tm[n])throw pm.create("already-exists",{id:n});if(!km){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(sm))return r}return null}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)()||function(t){var e=document.createElement("script");e.src=sm+"?l="+t,e.async=!0,document.head.appendChild(e)}(Sm),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Sm);var r=fm(Tm,_m,Am,Sm,Nm),i=r.wrappedGtag,o=r.gtagCore;Em=i,Im=o,km=!0}return Tm[n]=wm(t,_m,Am,e,Im),{app:t,logEvent:function(t,e,r){(
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e,n,r,i){return nm(this,void 0,void 0,(function(){var o,s;return rm(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(im.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=em(em({},r),{send_to:o}),t(im.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(Em,Tm[n],t,e,r).catch((function(t){return um.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return nm(this,void 0,void 0,(function(){var i;return rm(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(im.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(im.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Em,Tm[n],t,e).catch((function(t){return um.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return nm(this,void 0,void 0,(function(){var i;return rm(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(im.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(im.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Em,Tm[n],t,e).catch((function(t){return um.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return nm(this,void 0,void 0,(function(){var i,o,s,a,u;return rm(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(im.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(im.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Em,Tm[n],t,e).catch((function(t){return um.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return nm(this,void 0,void 0,(function(){var n;return rm(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Tm[n],t).catch((function(t){return um.error(t)}))},INTERNAL:{delete:function(){return delete Tm[n],Promise.resolve()}}}}var Cm="analytics";function xm(){return nm(this,void 0,void 0,(function(){return rm(this,(function(t){switch(t.label){case 0:if(qt())return[2,!1];if(!Kt())return[2,!1];if(!Bt())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Ht()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}function Pm(t){let e,n;return e=new Ot({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function Rm(t){let e,n,r;return n=new Pt({props:{firebase:Pe,$$slots:{default:[Pm]},$$scope:{ctx:t}}}),{c(){e=l("main"),q(n.$$.fragment),g(e,"class","svelte-n50bxl")},m(t,i){c(t,e,i),B(n,e,null),r=!0},p(t,[e]){const r={};2&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(U(n.$$.fragment,t),r=!0)},o(t){F(n.$$.fragment,t),r=!1},d(t){t&&h(e),H(n)}}}function Lm(t){return Pe.initializeApp({}),[]}!function(t){t.INTERNAL.registerComponent(new oe(Cm,(function(t){return Dm(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Om,EventName:om,isSupported:xm})),t.INTERNAL.registerComponent(new oe("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Cm).getImmediate().logEvent}}catch(t){throw pm.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(Pe);return new class extends z{constructor(t){super(),G(this,t,Lm,Rm,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
